var Yj=Object.defineProperty;var Yx=e=>{throw TypeError(e)};var Jj=(e,t,n)=>t in e?Yj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>Jj(e,typeof t!="symbol"?t+"":t,n),zp=(e,t,n)=>t.has(e)||Yx("Cannot "+n);var te=(e,t,n)=>(zp(e,t,"read from private field"),n?n.call(e):t.get(e)),We=(e,t,n)=>t.has(e)?Yx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(zp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),et=(e,t,n)=>(zp(e,t,"access private method"),n);var Gu=(e,t,n,r)=>({set _(o){Me(e,t,o,n)},get _(){return te(e,t,r)}});function Qj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bp={exports:{}},zl={},Fp={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function Xj(){if(Jx)return st;Jx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,g={};function x(z,q,ge){this.props=z,this.context=q,this.refs=g,this.updater=ge||y}x.prototype.isReactComponent={},x.prototype.setState=function(z,q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,q,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=x.prototype;function k(z,q,ge){this.props=z,this.context=q,this.refs=g,this.updater=ge||y}var C=k.prototype=new E;C.constructor=k,b(C,x.prototype),C.isPureReactComponent=!0;var A=Array.isArray,j=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function B(z,q,ge){var pe,me={},Ae=null,we=null;if(q!=null)for(pe in q.ref!==void 0&&(we=q.ref),q.key!==void 0&&(Ae=""+q.key),q)j.call(q,pe)&&!D.hasOwnProperty(pe)&&(me[pe]=q[pe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var Se=Array(xe),je=0;je<xe;je++)Se[je]=arguments[je+2];me.children=Se}if(z&&z.defaultProps)for(pe in xe=z.defaultProps,xe)me[pe]===void 0&&(me[pe]=xe[pe]);return{$$typeof:e,type:z,key:Ae,ref:we,props:me,_owner:L.current}}function O(z,q){return{$$typeof:e,type:z.type,key:q,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function W(z){var q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return q[ge]})}var M=/\/+/g;function V(z,q){return typeof z=="object"&&z!==null&&z.key!=null?W(""+z.key):q.toString(36)}function P(z,q,ge,pe,me){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(Ae){case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case e:case t:we=!0}}if(we)return we=z,me=me(we),z=pe===""?"."+V(we,0):pe,A(me)?(ge="",z!=null&&(ge=z.replace(M,"$&/")+"/"),P(me,q,ge,"",function(je){return je})):me!=null&&(F(me)&&(me=O(me,ge+(!me.key||we&&we.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+z)),q.push(me)),1;if(we=0,pe=pe===""?".":pe+":",A(z))for(var xe=0;xe<z.length;xe++){Ae=z[xe];var Se=pe+V(Ae,xe);we+=P(Ae,q,ge,Se,me)}else if(Se=w(z),typeof Se=="function")for(z=Se.call(z),xe=0;!(Ae=z.next()).done;)Ae=Ae.value,Se=pe+V(Ae,xe++),we+=P(Ae,q,ge,Se,me);else if(Ae==="object")throw q=String(z),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return we}function U(z,q,ge){if(z==null)return z;var pe=[],me=0;return P(z,pe,"","",function(Ae){return q.call(ge,Ae,me++)}),pe}function X(z){if(z._status===-1){var q=z._result;q=q(),q.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=q)}if(z._status===1)return z._result.default;throw z._result}var J={current:null},ee={transition:null},K={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ee,ReactCurrentOwner:L};function oe(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:U,forEach:function(z,q,ge){U(z,function(){q.apply(this,arguments)},ge)},count:function(z){var q=0;return U(z,function(){q++}),q},toArray:function(z){return U(z,function(q){return q})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},st.Component=x,st.Fragment=n,st.Profiler=o,st.PureComponent=k,st.StrictMode=r,st.Suspense=u,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,st.act=oe,st.cloneElement=function(z,q,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var pe=b({},z.props),me=z.key,Ae=z.ref,we=z._owner;if(q!=null){if(q.ref!==void 0&&(Ae=q.ref,we=L.current),q.key!==void 0&&(me=""+q.key),z.type&&z.type.defaultProps)var xe=z.type.defaultProps;for(Se in q)j.call(q,Se)&&!D.hasOwnProperty(Se)&&(pe[Se]=q[Se]===void 0&&xe!==void 0?xe[Se]:q[Se])}var Se=arguments.length-2;if(Se===1)pe.children=ge;else if(1<Se){xe=Array(Se);for(var je=0;je<Se;je++)xe[je]=arguments[je+2];pe.children=xe}return{$$typeof:e,type:z.type,key:me,ref:Ae,props:pe,_owner:we}},st.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},st.createElement=B,st.createFactory=function(z){var q=B.bind(null,z);return q.type=z,q},st.createRef=function(){return{current:null}},st.forwardRef=function(z){return{$$typeof:c,render:z}},st.isValidElement=F,st.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:X}},st.memo=function(z,q){return{$$typeof:f,type:z,compare:q===void 0?null:q}},st.startTransition=function(z){var q=ee.transition;ee.transition={};try{z()}finally{ee.transition=q}},st.unstable_act=oe,st.useCallback=function(z,q){return J.current.useCallback(z,q)},st.useContext=function(z){return J.current.useContext(z)},st.useDebugValue=function(){},st.useDeferredValue=function(z){return J.current.useDeferredValue(z)},st.useEffect=function(z,q){return J.current.useEffect(z,q)},st.useId=function(){return J.current.useId()},st.useImperativeHandle=function(z,q,ge){return J.current.useImperativeHandle(z,q,ge)},st.useInsertionEffect=function(z,q){return J.current.useInsertionEffect(z,q)},st.useLayoutEffect=function(z,q){return J.current.useLayoutEffect(z,q)},st.useMemo=function(z,q){return J.current.useMemo(z,q)},st.useReducer=function(z,q,ge){return J.current.useReducer(z,q,ge)},st.useRef=function(z){return J.current.useRef(z)},st.useState=function(z){return J.current.useState(z)},st.useSyncExternalStore=function(z,q,ge){return J.current.useSyncExternalStore(z,q,ge)},st.useTransition=function(){return J.current.useTransition()},st.version="18.3.1",st}var Qx;function nf(){return Qx||(Qx=1,Fp.exports=Xj()),Fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function e4(){if(Xx)return zl;Xx=1;var e=nf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,f){var m,h={},w=null,y=null;f!==void 0&&(w=""+f),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(y=u.ref);for(m in u)r.call(u,m)&&!i.hasOwnProperty(m)&&(h[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)h[m]===void 0&&(h[m]=u[m]);return{$$typeof:t,type:c,key:w,ref:y,props:h,_owner:o.current}}return zl.Fragment=n,zl.jsx=a,zl.jsxs=a,zl}var e1;function t4(){return e1||(e1=1,Bp.exports=e4()),Bp.exports}var p=t4(),Ju={},$p={exports:{}},Nn={},Up={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function n4(){return t1||(t1=1,function(e){function t(ee,K){var oe=ee.length;ee.push(K);e:for(;0<oe;){var z=oe-1>>>1,q=ee[z];if(0<o(q,K))ee[z]=K,ee[oe]=q,oe=z;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var K=ee[0],oe=ee.pop();if(oe!==K){ee[0]=oe;e:for(var z=0,q=ee.length,ge=q>>>1;z<ge;){var pe=2*(z+1)-1,me=ee[pe],Ae=pe+1,we=ee[Ae];if(0>o(me,oe))Ae<q&&0>o(we,me)?(ee[z]=we,ee[Ae]=oe,z=Ae):(ee[z]=me,ee[pe]=oe,z=pe);else if(Ae<q&&0>o(we,oe))ee[z]=we,ee[Ae]=oe,z=Ae;else break e}}return K}function o(ee,K){var oe=ee.sortIndex-K.sortIndex;return oe!==0?oe:ee.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var u=[],f=[],m=1,h=null,w=3,y=!1,b=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ee){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=ee)r(f),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(f)}}function A(ee){if(g=!1,C(ee),!b)if(n(u)!==null)b=!0,X(j);else{var K=n(f);K!==null&&J(A,K.startTime-ee)}}function j(ee,K){b=!1,g&&(g=!1,E(B),B=-1),y=!0;var oe=w;try{for(C(K),h=n(u);h!==null&&(!(h.expirationTime>K)||ee&&!W());){var z=h.callback;if(typeof z=="function"){h.callback=null,w=h.priorityLevel;var q=z(h.expirationTime<=K);K=e.unstable_now(),typeof q=="function"?h.callback=q:h===n(u)&&r(u),C(K)}else r(u);h=n(u)}if(h!==null)var ge=!0;else{var pe=n(f);pe!==null&&J(A,pe.startTime-K),ge=!1}return ge}finally{h=null,w=oe,y=!1}}var L=!1,D=null,B=-1,O=5,F=-1;function W(){return!(e.unstable_now()-F<O)}function M(){if(D!==null){var ee=e.unstable_now();F=ee;var K=!0;try{K=D(!0,ee)}finally{K?V():(L=!1,D=null)}}else L=!1}var V;if(typeof k=="function")V=function(){k(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=M,V=function(){U.postMessage(null)}}else V=function(){x(M,0)};function X(ee){D=ee,L||(L=!0,V())}function J(ee,K){B=x(function(){ee(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,X(j))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var oe=w;w=K;try{return ee()}finally{w=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,K){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=w;w=ee;try{return K()}finally{w=oe}},e.unstable_scheduleCallback=function(ee,K,oe){var z=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,ee={id:m++,callback:K,priorityLevel:ee,startTime:oe,expirationTime:q,sortIndex:-1},oe>z?(ee.sortIndex=oe,t(f,ee),n(u)===null&&ee===n(f)&&(g?(E(B),B=-1):g=!0,J(A,oe-z))):(ee.sortIndex=q,t(u,ee),b||y||(b=!0,X(j))),ee},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(ee){var K=w;return function(){var oe=w;w=K;try{return ee.apply(this,arguments)}finally{w=oe}}}}(Hp)),Hp}var n1;function r4(){return n1||(n1=1,Up.exports=n4()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function o4(){if(r1)return Nn;r1=1;var e=nf(),t=r4();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(o[s]=l,s=0;s<l.length;s++)r.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function w(s){return u.call(h,s)?!0:u.call(m,s)?!1:f.test(s)?h[s]=!0:(m[s]=!0,!1)}function y(s,l,d,v){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,l,d,v){if(l===null||typeof l>"u"||y(s,l,d,v))return!0;if(v)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function g(s,l,d,v,S,T,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=d,this.propertyName=s,this.type=l,this.sanitizeURL=T,this.removeEmptyString=$}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new g(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];x[l]=new g(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new g(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new g(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new g(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new g(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new g(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new g(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new g(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(E,k);x[l]=new g(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(E,k);x[l]=new g(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(E,k);x[l]=new g(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new g(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new g(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,l,d,v){var S=x.hasOwnProperty(l)?x[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,d,S,v)&&(d=null),v||S===null?w(l)&&(d===null?s.removeAttribute(l):s.setAttribute(l,""+d)):S.mustUseProperty?s[S.propertyName]=d===null?S.type===3?!1:"":d:(l=S.attributeName,v=S.attributeNamespace,d===null?s.removeAttribute(l):(S=S.type,d=S===3||S===4&&d===!0?"":""+d,v?s.setAttributeNS(v,l,d):s.setAttribute(l,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),W=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ee=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,z;function q(s){if(z===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+s}var ge=!1;function pe(s,l){if(!s||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(fe){var v=fe}Reflect.construct(s,[],l)}else{try{l.call()}catch(fe){v=fe}s.call(l.prototype)}else{try{throw Error()}catch(fe){v=fe}s()}}catch(fe){if(fe&&v&&typeof fe.stack=="string"){for(var S=fe.stack.split(`
`),T=v.stack.split(`
`),$=S.length-1,Q=T.length-1;1<=$&&0<=Q&&S[$]!==T[Q];)Q--;for(;1<=$&&0<=Q;$--,Q--)if(S[$]!==T[Q]){if($!==1||Q!==1)do if($--,Q--,0>Q||S[$]!==T[Q]){var ne=`
`+S[$].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=$&&0<=Q);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?q(s):""}function me(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=pe(s.type,!1),s;case 11:return s=pe(s.type.render,!1),s;case 1:return s=pe(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case L:return"Portal";case O:return"Profiler";case B:return"StrictMode";case V:return"Suspense";case P:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case W:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case M:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return l=s.displayName||null,l!==null?l:Ae(s.type)||"Memo";case X:l=s._payload,s=s._init;try{return Ae(s(l))}catch{}}return null}function we(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(l);case 8:return l===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function xe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Se(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function je(s){var l=Se(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,T=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return S.call(this)},set:function($){v=""+$,T.call(this,$)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function($){v=""+$},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ue(s){s._valueTracker||(s._valueTracker=je(s))}function Ke(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),v="";return s&&(v=Se(s)?s.checked?"true":"false":s.value),s=v,s!==d?(l.setValue(s),!0):!1}function Ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function I(s,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ye(s,l){var d=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;d=xe(l.value!=null?l.value:d),s._wrapperState={initialChecked:v,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function de(s,l){l=l.checked,l!=null&&C(s,"checked",l,!1)}function Y(s,l){de(s,l);var d=xe(l.value),v=l.type;if(d!=null)v==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?ie(s,l.type,d):l.hasOwnProperty("defaultValue")&&ie(s,l.type,xe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function G(s,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,d||l===s.value||(s.value=l),s.defaultValue=l}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function ie(s,l,d){(l!=="number"||Ye(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var be=Array.isArray;function Ee(s,l,d,v){if(s=s.options,l){l={};for(var S=0;S<d.length;S++)l["$"+d[S]]=!0;for(d=0;d<s.length;d++)S=l.hasOwnProperty("$"+s[d].value),s[d].selected!==S&&(s[d].selected=S),S&&v&&(s[d].defaultSelected=!0)}else{for(d=""+xe(d),l=null,S=0;S<s.length;S++){if(s[S].value===d){s[S].selected=!0,v&&(s[S].defaultSelected=!0);return}l!==null||s[S].disabled||(l=s[S])}l!==null&&(l.selected=!0)}}function ae(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Te(s,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(be(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}s._wrapperState={initialValue:xe(d)}}function Le(s,l){var d=xe(l.value),v=xe(l.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),l.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),v!=null&&(s.defaultValue=""+v)}function Ne(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function qe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?qe(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var N,R=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,v,S){MSApp.execUnsafeLocalFunction(function(){return s(l,d,v,S)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=N.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Z(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var re={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];Object.keys(re).forEach(function(s){ue.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),re[l]=re[s]})});function he(s,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||re.hasOwnProperty(s)&&re[s]?(""+l).trim():l+"px"}function Xe(s,l){s=s.style;for(var d in l)if(l.hasOwnProperty(d)){var v=d.indexOf("--")===0,S=he(d,l[d],v);d==="float"&&(d="cssFloat"),v?s.setProperty(d,S):s[d]=S}}var yt=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(s,l){if(l){if(yt[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function pt(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lt=null;function el(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var tl=null,Zr=null,Wn=null;function As(s){if(s=_l(s)){if(typeof tl!="function")throw Error(n(280));var l=s.stateNode;l&&(l=uu(l),tl(s.stateNode,s.type,l))}}function p0(s){Zr?Wn?Wn.push(s):Wn=[s]:Zr=s}function m0(){if(Zr){var s=Zr,l=Wn;if(Wn=Zr=null,As(s),l)for(s=0;s<l.length;s++)As(l[s])}}function g0(s,l){return s(l)}function y0(){}var th=!1;function v0(s,l,d){if(th)return s(l,d);th=!0;try{return g0(s,l,d)}finally{th=!1,(Zr!==null||Wn!==null)&&(y0(),m0())}}function nl(s,l){var d=s.stateNode;if(d===null)return null;var v=uu(d);if(v===null)return null;d=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var nh=!1;if(c)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){nh=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{nh=!1}function nA(s,l,d,v,S,T,$,Q,ne){var fe=Array.prototype.slice.call(arguments,3);try{l.apply(d,fe)}catch(ke){this.onError(ke)}}var ol=!1,Uc=null,Hc=!1,rh=null,rA={onError:function(s){ol=!0,Uc=s}};function oA(s,l,d,v,S,T,$,Q,ne){ol=!1,Uc=null,nA.apply(rA,arguments)}function sA(s,l,d,v,S,T,$,Q,ne){if(oA.apply(this,arguments),ol){if(ol){var fe=Uc;ol=!1,Uc=null}else throw Error(n(198));Hc||(Hc=!0,rh=fe)}}function js(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function w0(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function x0(s){if(js(s)!==s)throw Error(n(188))}function iA(s){var l=s.alternate;if(!l){if(l=js(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,v=l;;){var S=d.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){d=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===d)return x0(S),s;if(T===v)return x0(S),l;T=T.sibling}throw Error(n(188))}if(d.return!==v.return)d=S,v=T;else{for(var $=!1,Q=S.child;Q;){if(Q===d){$=!0,d=S,v=T;break}if(Q===v){$=!0,v=S,d=T;break}Q=Q.sibling}if(!$){for(Q=T.child;Q;){if(Q===d){$=!0,d=T,v=S;break}if(Q===v){$=!0,v=T,d=S;break}Q=Q.sibling}if(!$)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function b0(s){return s=iA(s),s!==null?E0(s):null}function E0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=E0(s);if(l!==null)return l;s=s.sibling}return null}var _0=t.unstable_scheduleCallback,S0=t.unstable_cancelCallback,aA=t.unstable_shouldYield,lA=t.unstable_requestPaint,zt=t.unstable_now,cA=t.unstable_getCurrentPriorityLevel,oh=t.unstable_ImmediatePriority,k0=t.unstable_UserBlockingPriority,Wc=t.unstable_NormalPriority,uA=t.unstable_LowPriority,C0=t.unstable_IdlePriority,Vc=null,kr=null;function dA(s){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Vc,s,void 0,(s.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:pA,fA=Math.log,hA=Math.LN2;function pA(s){return s>>>=0,s===0?32:31-(fA(s)/hA|0)|0}var qc=64,Kc=4194304;function sl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zc(s,l){var d=s.pendingLanes;if(d===0)return 0;var v=0,S=s.suspendedLanes,T=s.pingedLanes,$=d&268435455;if($!==0){var Q=$&~S;Q!==0?v=sl(Q):(T&=$,T!==0&&(v=sl(T)))}else $=d&~S,$!==0?v=sl($):T!==0&&(v=sl(T));if(v===0)return 0;if(l!==0&&l!==v&&(l&S)===0&&(S=v&-v,T=l&-l,S>=T||S===16&&(T&4194240)!==0))return l;if((v&4)!==0&&(v|=d&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)d=31-cr(l),S=1<<d,v|=s[d],l&=~S;return v}function mA(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gA(s,l){for(var d=s.suspendedLanes,v=s.pingedLanes,S=s.expirationTimes,T=s.pendingLanes;0<T;){var $=31-cr(T),Q=1<<$,ne=S[$];ne===-1?((Q&d)===0||(Q&v)!==0)&&(S[$]=mA(Q,l)):ne<=l&&(s.expiredLanes|=Q),T&=~Q}}function sh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function N0(){var s=qc;return qc<<=1,(qc&4194240)===0&&(qc=64),s}function ih(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function il(s,l,d){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-cr(l),s[l]=d}function yA(s,l){var d=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<d;){var S=31-cr(d),T=1<<S;l[S]=0,v[S]=-1,s[S]=-1,d&=~T}}function ah(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var v=31-cr(d),S=1<<v;S&l|s[v]&l&&(s[v]|=l),d&=~S}}var mt=0;function T0(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var P0,lh,R0,A0,j0,ch=!1,Gc=[],ko=null,Co=null,No=null,al=new Map,ll=new Map,To=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(s,l){switch(s){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":al.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(l.pointerId)}}function cl(s,l,d,v,S,T){return s===null||s.nativeEvent!==T?(s={blockedOn:l,domEventName:d,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},l!==null&&(l=_l(l),l!==null&&lh(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),s)}function wA(s,l,d,v,S){switch(l){case"focusin":return ko=cl(ko,s,l,d,v,S),!0;case"dragenter":return Co=cl(Co,s,l,d,v,S),!0;case"mouseover":return No=cl(No,s,l,d,v,S),!0;case"pointerover":var T=S.pointerId;return al.set(T,cl(al.get(T)||null,s,l,d,v,S)),!0;case"gotpointercapture":return T=S.pointerId,ll.set(T,cl(ll.get(T)||null,s,l,d,v,S)),!0}return!1}function O0(s){var l=Is(s.target);if(l!==null){var d=js(l);if(d!==null){if(l=d.tag,l===13){if(l=w0(d),l!==null){s.blockedOn=l,j0(s.priority,function(){R0(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=dh(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var v=new d.constructor(d.type,d);lt=v,d.target.dispatchEvent(v),lt=null}else return l=_l(d),l!==null&&lh(l),s.blockedOn=d,!1;l.shift()}return!0}function M0(s,l,d){Yc(s)&&d.delete(l)}function xA(){ch=!1,ko!==null&&Yc(ko)&&(ko=null),Co!==null&&Yc(Co)&&(Co=null),No!==null&&Yc(No)&&(No=null),al.forEach(M0),ll.forEach(M0)}function ul(s,l){s.blockedOn===l&&(s.blockedOn=null,ch||(ch=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xA)))}function dl(s){function l(S){return ul(S,s)}if(0<Gc.length){ul(Gc[0],s);for(var d=1;d<Gc.length;d++){var v=Gc[d];v.blockedOn===s&&(v.blockedOn=null)}}for(ko!==null&&ul(ko,s),Co!==null&&ul(Co,s),No!==null&&ul(No,s),al.forEach(l),ll.forEach(l),d=0;d<To.length;d++)v=To[d],v.blockedOn===s&&(v.blockedOn=null);for(;0<To.length&&(d=To[0],d.blockedOn===null);)O0(d),d.blockedOn===null&&To.shift()}var Ti=A.ReactCurrentBatchConfig,Jc=!0;function bA(s,l,d,v){var S=mt,T=Ti.transition;Ti.transition=null;try{mt=1,uh(s,l,d,v)}finally{mt=S,Ti.transition=T}}function EA(s,l,d,v){var S=mt,T=Ti.transition;Ti.transition=null;try{mt=4,uh(s,l,d,v)}finally{mt=S,Ti.transition=T}}function uh(s,l,d,v){if(Jc){var S=dh(s,l,d,v);if(S===null)Th(s,l,v,Qc,d),I0(s,v);else if(wA(S,s,l,d,v))v.stopPropagation();else if(I0(s,v),l&4&&-1<vA.indexOf(s)){for(;S!==null;){var T=_l(S);if(T!==null&&P0(T),T=dh(s,l,d,v),T===null&&Th(s,l,v,Qc,d),T===S)break;S=T}S!==null&&v.stopPropagation()}else Th(s,l,v,null,d)}}var Qc=null;function dh(s,l,d,v){if(Qc=null,s=el(v),s=Is(s),s!==null)if(l=js(s),l===null)s=null;else if(d=l.tag,d===13){if(s=w0(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Qc=s,null}function L0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cA()){case oh:return 1;case k0:return 4;case Wc:case uA:return 16;case C0:return 536870912;default:return 16}default:return 16}}var Po=null,fh=null,Xc=null;function D0(){if(Xc)return Xc;var s,l=fh,d=l.length,v,S="value"in Po?Po.value:Po.textContent,T=S.length;for(s=0;s<d&&l[s]===S[s];s++);var $=d-s;for(v=1;v<=$&&l[d-v]===S[T-v];v++);return Xc=S.slice(s,1<v?1-v:void 0)}function eu(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function tu(){return!0}function z0(){return!1}function In(s){function l(d,v,S,T,$){this._reactName=d,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var Q in s)s.hasOwnProperty(Q)&&(d=s[Q],this[Q]=d?d(T):T[Q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?tu:z0,this.isPropagationStopped=z0,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),l}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=In(Pi),fl=oe({},Pi,{view:0,detail:0}),_A=In(fl),ph,mh,hl,nu=oe({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hl&&(hl&&s.type==="mousemove"?(ph=s.screenX-hl.screenX,mh=s.screenY-hl.screenY):mh=ph=0,hl=s),ph)},movementY:function(s){return"movementY"in s?s.movementY:mh}}),B0=In(nu),SA=oe({},nu,{dataTransfer:0}),kA=In(SA),CA=oe({},fl,{relatedTarget:0}),gh=In(CA),NA=oe({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),TA=In(NA),PA=oe({},Pi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),RA=In(PA),AA=oe({},Pi,{data:0}),F0=In(AA),jA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MA(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=OA[s])?!!l[s]:!1}function yh(){return MA}var LA=oe({},fl,{key:function(s){if(s.key){var l=jA[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=eu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?IA[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(s){return s.type==="keypress"?eu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?eu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),DA=In(LA),zA=oe({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$0=In(zA),BA=oe({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),FA=In(BA),$A=oe({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),UA=In($A),HA=oe({},nu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),WA=In(HA),VA=[9,13,27,32],vh=c&&"CompositionEvent"in window,pl=null;c&&"documentMode"in document&&(pl=document.documentMode);var qA=c&&"TextEvent"in window&&!pl,U0=c&&(!vh||pl&&8<pl&&11>=pl),H0=" ",W0=!1;function V0(s,l){switch(s){case"keyup":return VA.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ri=!1;function KA(s,l){switch(s){case"compositionend":return q0(l);case"keypress":return l.which!==32?null:(W0=!0,H0);case"textInput":return s=l.data,s===H0&&W0?null:s;default:return null}}function ZA(s,l){if(Ri)return s==="compositionend"||!vh&&V0(s,l)?(s=D0(),Xc=fh=Po=null,Ri=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return U0&&l.locale!=="ko"?null:l.data;default:return null}}var GA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!GA[s.type]:l==="textarea"}function Z0(s,l,d,v){p0(v),l=au(l,"onChange"),0<l.length&&(d=new hh("onChange","change",null,d,v),s.push({event:d,listeners:l}))}var ml=null,gl=null;function YA(s){fw(s,0)}function ru(s){var l=Mi(s);if(Ke(l))return s}function JA(s,l){if(s==="change")return l}var G0=!1;if(c){var wh;if(c){var xh="oninput"in document;if(!xh){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),xh=typeof Y0.oninput=="function"}wh=xh}else wh=!1;G0=wh&&(!document.documentMode||9<document.documentMode)}function J0(){ml&&(ml.detachEvent("onpropertychange",Q0),gl=ml=null)}function Q0(s){if(s.propertyName==="value"&&ru(gl)){var l=[];Z0(l,gl,s,el(s)),v0(YA,l)}}function QA(s,l,d){s==="focusin"?(J0(),ml=l,gl=d,ml.attachEvent("onpropertychange",Q0)):s==="focusout"&&J0()}function XA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ru(gl)}function ej(s,l){if(s==="click")return ru(l)}function tj(s,l){if(s==="input"||s==="change")return ru(l)}function nj(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ur=typeof Object.is=="function"?Object.is:nj;function yl(s,l){if(ur(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),v=Object.keys(l);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var S=d[v];if(!u.call(l,S)||!ur(s[S],l[S]))return!1}return!0}function X0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ew(s,l){var d=X0(s);s=0;for(var v;d;){if(d.nodeType===3){if(v=s+d.textContent.length,s<=l&&v>=l)return{node:d,offset:l-s};s=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=X0(d)}}function tw(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?tw(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function nw(){for(var s=window,l=Ye();l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Ye(s.document)}return l}function bh(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function rj(s){var l=nw(),d=s.focusedElem,v=s.selectionRange;if(l!==d&&d&&d.ownerDocument&&tw(d.ownerDocument.documentElement,d)){if(v!==null&&bh(d)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(s,d.value.length);else if(s=(l=d.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var S=d.textContent.length,T=Math.min(v.start,S);v=v.end===void 0?T:Math.min(v.end,S),!s.extend&&T>v&&(S=v,v=T,T=S),S=ew(d,T);var $=ew(d,v);S&&$&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),s.removeAllRanges(),T>v?(s.addRange(l),s.extend($.node,$.offset)):(l.setEnd($.node,$.offset),s.addRange(l)))}}for(l=[],s=d;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)s=l[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var oj=c&&"documentMode"in document&&11>=document.documentMode,Ai=null,Eh=null,vl=null,_h=!1;function rw(s,l,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;_h||Ai==null||Ai!==Ye(v)||(v=Ai,"selectionStart"in v&&bh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),vl&&yl(vl,v)||(vl=v,v=au(Eh,"onSelect"),0<v.length&&(l=new hh("onSelect","select",null,l,d),s.push({event:l,listeners:v}),l.target=Ai)))}function ou(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var ji={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Sh={},ow={};c&&(ow=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function su(s){if(Sh[s])return Sh[s];if(!ji[s])return s;var l=ji[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in ow)return Sh[s]=l[d];return s}var sw=su("animationend"),iw=su("animationiteration"),aw=su("animationstart"),lw=su("transitionend"),cw=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(s,l){cw.set(s,l),i(l,[s])}for(var kh=0;kh<uw.length;kh++){var Ch=uw[kh],sj=Ch.toLowerCase(),ij=Ch[0].toUpperCase()+Ch.slice(1);Ro(sj,"on"+ij)}Ro(sw,"onAnimationEnd"),Ro(iw,"onAnimationIteration"),Ro(aw,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(lw,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aj=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function dw(s,l,d){var v=s.type||"unknown-event";s.currentTarget=d,sA(v,l,void 0,s),s.currentTarget=null}function fw(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var v=s[d],S=v.event;v=v.listeners;e:{var T=void 0;if(l)for(var $=v.length-1;0<=$;$--){var Q=v[$],ne=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,ne!==T&&S.isPropagationStopped())break e;dw(S,Q,fe),T=ne}else for($=0;$<v.length;$++){if(Q=v[$],ne=Q.instance,fe=Q.currentTarget,Q=Q.listener,ne!==T&&S.isPropagationStopped())break e;dw(S,Q,fe),T=ne}}}if(Hc)throw s=rh,Hc=!1,rh=null,s}function xt(s,l){var d=l[Oh];d===void 0&&(d=l[Oh]=new Set);var v=s+"__bubble";d.has(v)||(hw(l,s,2,!1),d.add(v))}function Nh(s,l,d){var v=0;l&&(v|=4),hw(d,s,v,l)}var iu="_reactListening"+Math.random().toString(36).slice(2);function xl(s){if(!s[iu]){s[iu]=!0,r.forEach(function(d){d!=="selectionchange"&&(aj.has(d)||Nh(d,!1,s),Nh(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[iu]||(l[iu]=!0,Nh("selectionchange",!1,l))}}function hw(s,l,d,v){switch(L0(l)){case 1:var S=bA;break;case 4:S=EA;break;default:S=uh}d=S.bind(null,l,d,s),S=void 0,!nh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?s.addEventListener(l,d,{capture:!0,passive:S}):s.addEventListener(l,d,!0):S!==void 0?s.addEventListener(l,d,{passive:S}):s.addEventListener(l,d,!1)}function Th(s,l,d,v,S){var T=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var $=v.tag;if($===3||$===4){var Q=v.stateNode.containerInfo;if(Q===S||Q.nodeType===8&&Q.parentNode===S)break;if($===4)for($=v.return;$!==null;){var ne=$.tag;if((ne===3||ne===4)&&(ne=$.stateNode.containerInfo,ne===S||ne.nodeType===8&&ne.parentNode===S))return;$=$.return}for(;Q!==null;){if($=Is(Q),$===null)return;if(ne=$.tag,ne===5||ne===6){v=T=$;continue e}Q=Q.parentNode}}v=v.return}v0(function(){var fe=T,ke=el(d),Ce=[];e:{var _e=cw.get(s);if(_e!==void 0){var ze=hh,Fe=s;switch(s){case"keypress":if(eu(d)===0)break e;case"keydown":case"keyup":ze=DA;break;case"focusin":Fe="focus",ze=gh;break;case"focusout":Fe="blur",ze=gh;break;case"beforeblur":case"afterblur":ze=gh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=B0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=kA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=FA;break;case sw:case iw:case aw:ze=TA;break;case lw:ze=UA;break;case"scroll":ze=_A;break;case"wheel":ze=WA;break;case"copy":case"cut":case"paste":ze=RA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=$0}var $e=(l&4)!==0,Bt=!$e&&s==="scroll",le=$e?_e!==null?_e+"Capture":null:_e;$e=[];for(var se=fe,ce;se!==null;){ce=se;var Re=ce.stateNode;if(ce.tag===5&&Re!==null&&(ce=Re,le!==null&&(Re=nl(se,le),Re!=null&&$e.push(bl(se,Re,ce)))),Bt)break;se=se.return}0<$e.length&&(_e=new ze(_e,Fe,null,d,ke),Ce.push({event:_e,listeners:$e}))}}if((l&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",ze=s==="mouseout"||s==="pointerout",_e&&d!==lt&&(Fe=d.relatedTarget||d.fromElement)&&(Is(Fe)||Fe[Gr]))break e;if((ze||_e)&&(_e=ke.window===ke?ke:(_e=ke.ownerDocument)?_e.defaultView||_e.parentWindow:window,ze?(Fe=d.relatedTarget||d.toElement,ze=fe,Fe=Fe?Is(Fe):null,Fe!==null&&(Bt=js(Fe),Fe!==Bt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(ze=null,Fe=fe),ze!==Fe)){if($e=B0,Re="onMouseLeave",le="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&($e=$0,Re="onPointerLeave",le="onPointerEnter",se="pointer"),Bt=ze==null?_e:Mi(ze),ce=Fe==null?_e:Mi(Fe),_e=new $e(Re,se+"leave",ze,d,ke),_e.target=Bt,_e.relatedTarget=ce,Re=null,Is(ke)===fe&&($e=new $e(le,se+"enter",Fe,d,ke),$e.target=ce,$e.relatedTarget=Bt,Re=$e),Bt=Re,ze&&Fe)t:{for($e=ze,le=Fe,se=0,ce=$e;ce;ce=Ii(ce))se++;for(ce=0,Re=le;Re;Re=Ii(Re))ce++;for(;0<se-ce;)$e=Ii($e),se--;for(;0<ce-se;)le=Ii(le),ce--;for(;se--;){if($e===le||le!==null&&$e===le.alternate)break t;$e=Ii($e),le=Ii(le)}$e=null}else $e=null;ze!==null&&pw(Ce,_e,ze,$e,!1),Fe!==null&&Bt!==null&&pw(Ce,Bt,Fe,$e,!0)}}e:{if(_e=fe?Mi(fe):window,ze=_e.nodeName&&_e.nodeName.toLowerCase(),ze==="select"||ze==="input"&&_e.type==="file")var He=JA;else if(K0(_e))if(G0)He=tj;else{He=XA;var Ze=QA}else(ze=_e.nodeName)&&ze.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(He=ej);if(He&&(He=He(s,fe))){Z0(Ce,He,d,ke);break e}Ze&&Ze(s,_e,fe),s==="focusout"&&(Ze=_e._wrapperState)&&Ze.controlled&&_e.type==="number"&&ie(_e,"number",_e.value)}switch(Ze=fe?Mi(fe):window,s){case"focusin":(K0(Ze)||Ze.contentEditable==="true")&&(Ai=Ze,Eh=fe,vl=null);break;case"focusout":vl=Eh=Ai=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,rw(Ce,d,ke);break;case"selectionchange":if(oj)break;case"keydown":case"keyup":rw(Ce,d,ke)}var Ge;if(vh)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ri?V0(s,d)&&(Qe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Qe="onCompositionStart");Qe&&(U0&&d.locale!=="ko"&&(Ri||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ri&&(Ge=D0()):(Po=ke,fh="value"in Po?Po.value:Po.textContent,Ri=!0)),Ze=au(fe,Qe),0<Ze.length&&(Qe=new F0(Qe,s,null,d,ke),Ce.push({event:Qe,listeners:Ze}),Ge?Qe.data=Ge:(Ge=q0(d),Ge!==null&&(Qe.data=Ge)))),(Ge=qA?KA(s,d):ZA(s,d))&&(fe=au(fe,"onBeforeInput"),0<fe.length&&(ke=new F0("onBeforeInput","beforeinput",null,d,ke),Ce.push({event:ke,listeners:fe}),ke.data=Ge))}fw(Ce,l)})}function bl(s,l,d){return{instance:s,listener:l,currentTarget:d}}function au(s,l){for(var d=l+"Capture",v=[];s!==null;){var S=s,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=nl(s,d),T!=null&&v.unshift(bl(s,T,S)),T=nl(s,l),T!=null&&v.push(bl(s,T,S))),s=s.return}return v}function Ii(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pw(s,l,d,v,S){for(var T=l._reactName,$=[];d!==null&&d!==v;){var Q=d,ne=Q.alternate,fe=Q.stateNode;if(ne!==null&&ne===v)break;Q.tag===5&&fe!==null&&(Q=fe,S?(ne=nl(d,T),ne!=null&&$.unshift(bl(d,ne,Q))):S||(ne=nl(d,T),ne!=null&&$.push(bl(d,ne,Q)))),d=d.return}$.length!==0&&s.push({event:l,listeners:$})}var lj=/\r\n?/g,cj=/\u0000|\uFFFD/g;function mw(s){return(typeof s=="string"?s:""+s).replace(lj,`
`).replace(cj,"")}function lu(s,l,d){if(l=mw(l),mw(s)!==l&&d)throw Error(n(425))}function cu(){}var Ph=null,Rh=null;function Ah(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,uj=typeof clearTimeout=="function"?clearTimeout:void 0,gw=typeof Promise=="function"?Promise:void 0,dj=typeof queueMicrotask=="function"?queueMicrotask:typeof gw<"u"?function(s){return gw.resolve(null).then(s).catch(fj)}:jh;function fj(s){setTimeout(function(){throw s})}function Ih(s,l){var d=l,v=0;do{var S=d.nextSibling;if(s.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(v===0){s.removeChild(S),dl(l);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=S}while(d);dl(l)}function Ao(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function yw(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Oi,El="__reactProps$"+Oi,Gr="__reactContainer$"+Oi,Oh="__reactEvents$"+Oi,hj="__reactListeners$"+Oi,pj="__reactHandles$"+Oi;function Is(s){var l=s[Cr];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Gr]||d[Cr]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=yw(s);s!==null;){if(d=s[Cr])return d;s=yw(s)}return l}s=d,d=s.parentNode}return null}function _l(s){return s=s[Cr]||s[Gr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Mi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function uu(s){return s[El]||null}var Mh=[],Li=-1;function jo(s){return{current:s}}function bt(s){0>Li||(s.current=Mh[Li],Mh[Li]=null,Li--)}function wt(s,l){Li++,Mh[Li]=s.current,s.current=l}var Io={},on=jo(Io),En=jo(!1),Os=Io;function Di(s,l){var d=s.type.contextTypes;if(!d)return Io;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in d)S[T]=l[T];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=S),S}function _n(s){return s=s.childContextTypes,s!=null}function du(){bt(En),bt(on)}function vw(s,l,d){if(on.current!==Io)throw Error(n(168));wt(on,l),wt(En,d)}function ww(s,l,d){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return d;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(n(108,we(s)||"Unknown",S));return oe({},d,v)}function fu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Io,Os=on.current,wt(on,s),wt(En,En.current),!0}function xw(s,l,d){var v=s.stateNode;if(!v)throw Error(n(169));d?(s=ww(s,l,Os),v.__reactInternalMemoizedMergedChildContext=s,bt(En),bt(on),wt(on,s)):bt(En),wt(En,d)}var Yr=null,hu=!1,Lh=!1;function bw(s){Yr===null?Yr=[s]:Yr.push(s)}function mj(s){hu=!0,bw(s)}function Oo(){if(!Lh&&Yr!==null){Lh=!0;var s=0,l=mt;try{var d=Yr;for(mt=1;s<d.length;s++){var v=d[s];do v=v(!0);while(v!==null)}Yr=null,hu=!1}catch(S){throw Yr!==null&&(Yr=Yr.slice(s+1)),_0(oh,Oo),S}finally{mt=l,Lh=!1}}return null}var zi=[],Bi=0,pu=null,mu=0,Vn=[],qn=0,Ms=null,Jr=1,Qr="";function Ls(s,l){zi[Bi++]=mu,zi[Bi++]=pu,pu=s,mu=l}function Ew(s,l,d){Vn[qn++]=Jr,Vn[qn++]=Qr,Vn[qn++]=Ms,Ms=s;var v=Jr;s=Qr;var S=32-cr(v)-1;v&=~(1<<S),d+=1;var T=32-cr(l)+S;if(30<T){var $=S-S%5;T=(v&(1<<$)-1).toString(32),v>>=$,S-=$,Jr=1<<32-cr(l)+S|d<<S|v,Qr=T+s}else Jr=1<<T|d<<S|v,Qr=s}function Dh(s){s.return!==null&&(Ls(s,1),Ew(s,1,0))}function zh(s){for(;s===pu;)pu=zi[--Bi],zi[Bi]=null,mu=zi[--Bi],zi[Bi]=null;for(;s===Ms;)Ms=Vn[--qn],Vn[qn]=null,Qr=Vn[--qn],Vn[qn]=null,Jr=Vn[--qn],Vn[qn]=null}var On=null,Mn=null,kt=!1,dr=null;function _w(s,l){var d=Yn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=s,l=s.deletions,l===null?(s.deletions=[d],s.flags|=16):l.push(d)}function Sw(s,l){switch(s.tag){case 5:var d=s.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,On=s,Mn=Ao(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,On=s,Mn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ms!==null?{id:Jr,overflow:Qr}:null,s.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Yn(18,null,null,0),d.stateNode=l,d.return=s,s.child=d,On=s,Mn=null,!0):!1;default:return!1}}function Bh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Fh(s){if(kt){var l=Mn;if(l){var d=l;if(!Sw(s,l)){if(Bh(s))throw Error(n(418));l=Ao(d.nextSibling);var v=On;l&&Sw(s,l)?_w(v,d):(s.flags=s.flags&-4097|2,kt=!1,On=s)}}else{if(Bh(s))throw Error(n(418));s.flags=s.flags&-4097|2,kt=!1,On=s}}}function kw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function gu(s){if(s!==On)return!1;if(!kt)return kw(s),kt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Ah(s.type,s.memoizedProps)),l&&(l=Mn)){if(Bh(s))throw Cw(),Error(n(418));for(;l;)_w(s,l),l=Ao(l.nextSibling)}if(kw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(l===0){Mn=Ao(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}s=s.nextSibling}Mn=null}}else Mn=On?Ao(s.stateNode.nextSibling):null;return!0}function Cw(){for(var s=Mn;s;)s=Ao(s.nextSibling)}function Fi(){Mn=On=null,kt=!1}function $h(s){dr===null?dr=[s]:dr.push(s)}var gj=A.ReactCurrentBatchConfig;function Sl(s,l,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var v=d.stateNode}if(!v)throw Error(n(147,s));var S=v,T=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function($){var Q=S.refs;$===null?delete Q[T]:Q[T]=$},l._stringRef=T,l)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function yu(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Nw(s){var l=s._init;return l(s._payload)}function Tw(s){function l(le,se){if(s){var ce=le.deletions;ce===null?(le.deletions=[se],le.flags|=16):ce.push(se)}}function d(le,se){if(!s)return null;for(;se!==null;)l(le,se),se=se.sibling;return null}function v(le,se){for(le=new Map;se!==null;)se.key!==null?le.set(se.key,se):le.set(se.index,se),se=se.sibling;return le}function S(le,se){return le=Uo(le,se),le.index=0,le.sibling=null,le}function T(le,se,ce){return le.index=ce,s?(ce=le.alternate,ce!==null?(ce=ce.index,ce<se?(le.flags|=2,se):ce):(le.flags|=2,se)):(le.flags|=1048576,se)}function $(le){return s&&le.alternate===null&&(le.flags|=2),le}function Q(le,se,ce,Re){return se===null||se.tag!==6?(se=jp(ce,le.mode,Re),se.return=le,se):(se=S(se,ce),se.return=le,se)}function ne(le,se,ce,Re){var He=ce.type;return He===D?ke(le,se,ce.props.children,Re,ce.key):se!==null&&(se.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===X&&Nw(He)===se.type)?(Re=S(se,ce.props),Re.ref=Sl(le,se,ce),Re.return=le,Re):(Re=$u(ce.type,ce.key,ce.props,null,le.mode,Re),Re.ref=Sl(le,se,ce),Re.return=le,Re)}function fe(le,se,ce,Re){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=Ip(ce,le.mode,Re),se.return=le,se):(se=S(se,ce.children||[]),se.return=le,se)}function ke(le,se,ce,Re,He){return se===null||se.tag!==7?(se=Ws(ce,le.mode,Re,He),se.return=le,se):(se=S(se,ce),se.return=le,se)}function Ce(le,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number")return se=jp(""+se,le.mode,ce),se.return=le,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return ce=$u(se.type,se.key,se.props,null,le.mode,ce),ce.ref=Sl(le,null,se),ce.return=le,ce;case L:return se=Ip(se,le.mode,ce),se.return=le,se;case X:var Re=se._init;return Ce(le,Re(se._payload),ce)}if(be(se)||K(se))return se=Ws(se,le.mode,ce,null),se.return=le,se;yu(le,se)}return null}function _e(le,se,ce,Re){var He=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return He!==null?null:Q(le,se,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return ce.key===He?ne(le,se,ce,Re):null;case L:return ce.key===He?fe(le,se,ce,Re):null;case X:return He=ce._init,_e(le,se,He(ce._payload),Re)}if(be(ce)||K(ce))return He!==null?null:ke(le,se,ce,Re,null);yu(le,ce)}return null}function ze(le,se,ce,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return le=le.get(ce)||null,Q(se,le,""+Re,He);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case j:return le=le.get(Re.key===null?ce:Re.key)||null,ne(se,le,Re,He);case L:return le=le.get(Re.key===null?ce:Re.key)||null,fe(se,le,Re,He);case X:var Ze=Re._init;return ze(le,se,ce,Ze(Re._payload),He)}if(be(Re)||K(Re))return le=le.get(ce)||null,ke(se,le,Re,He,null);yu(se,Re)}return null}function Fe(le,se,ce,Re){for(var He=null,Ze=null,Ge=se,Qe=se=0,Gt=null;Ge!==null&&Qe<ce.length;Qe++){Ge.index>Qe?(Gt=Ge,Ge=null):Gt=Ge.sibling;var ut=_e(le,Ge,ce[Qe],Re);if(ut===null){Ge===null&&(Ge=Gt);break}s&&Ge&&ut.alternate===null&&l(le,Ge),se=T(ut,se,Qe),Ze===null?He=ut:Ze.sibling=ut,Ze=ut,Ge=Gt}if(Qe===ce.length)return d(le,Ge),kt&&Ls(le,Qe),He;if(Ge===null){for(;Qe<ce.length;Qe++)Ge=Ce(le,ce[Qe],Re),Ge!==null&&(se=T(Ge,se,Qe),Ze===null?He=Ge:Ze.sibling=Ge,Ze=Ge);return kt&&Ls(le,Qe),He}for(Ge=v(le,Ge);Qe<ce.length;Qe++)Gt=ze(Ge,le,Qe,ce[Qe],Re),Gt!==null&&(s&&Gt.alternate!==null&&Ge.delete(Gt.key===null?Qe:Gt.key),se=T(Gt,se,Qe),Ze===null?He=Gt:Ze.sibling=Gt,Ze=Gt);return s&&Ge.forEach(function(Ho){return l(le,Ho)}),kt&&Ls(le,Qe),He}function $e(le,se,ce,Re){var He=K(ce);if(typeof He!="function")throw Error(n(150));if(ce=He.call(ce),ce==null)throw Error(n(151));for(var Ze=He=null,Ge=se,Qe=se=0,Gt=null,ut=ce.next();Ge!==null&&!ut.done;Qe++,ut=ce.next()){Ge.index>Qe?(Gt=Ge,Ge=null):Gt=Ge.sibling;var Ho=_e(le,Ge,ut.value,Re);if(Ho===null){Ge===null&&(Ge=Gt);break}s&&Ge&&Ho.alternate===null&&l(le,Ge),se=T(Ho,se,Qe),Ze===null?He=Ho:Ze.sibling=Ho,Ze=Ho,Ge=Gt}if(ut.done)return d(le,Ge),kt&&Ls(le,Qe),He;if(Ge===null){for(;!ut.done;Qe++,ut=ce.next())ut=Ce(le,ut.value,Re),ut!==null&&(se=T(ut,se,Qe),Ze===null?He=ut:Ze.sibling=ut,Ze=ut);return kt&&Ls(le,Qe),He}for(Ge=v(le,Ge);!ut.done;Qe++,ut=ce.next())ut=ze(Ge,le,Qe,ut.value,Re),ut!==null&&(s&&ut.alternate!==null&&Ge.delete(ut.key===null?Qe:ut.key),se=T(ut,se,Qe),Ze===null?He=ut:Ze.sibling=ut,Ze=ut);return s&&Ge.forEach(function(Gj){return l(le,Gj)}),kt&&Ls(le,Qe),He}function Bt(le,se,ce,Re){if(typeof ce=="object"&&ce!==null&&ce.type===D&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:e:{for(var He=ce.key,Ze=se;Ze!==null;){if(Ze.key===He){if(He=ce.type,He===D){if(Ze.tag===7){d(le,Ze.sibling),se=S(Ze,ce.props.children),se.return=le,le=se;break e}}else if(Ze.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===X&&Nw(He)===Ze.type){d(le,Ze.sibling),se=S(Ze,ce.props),se.ref=Sl(le,Ze,ce),se.return=le,le=se;break e}d(le,Ze);break}else l(le,Ze);Ze=Ze.sibling}ce.type===D?(se=Ws(ce.props.children,le.mode,Re,ce.key),se.return=le,le=se):(Re=$u(ce.type,ce.key,ce.props,null,le.mode,Re),Re.ref=Sl(le,se,ce),Re.return=le,le=Re)}return $(le);case L:e:{for(Ze=ce.key;se!==null;){if(se.key===Ze)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){d(le,se.sibling),se=S(se,ce.children||[]),se.return=le,le=se;break e}else{d(le,se);break}else l(le,se);se=se.sibling}se=Ip(ce,le.mode,Re),se.return=le,le=se}return $(le);case X:return Ze=ce._init,Bt(le,se,Ze(ce._payload),Re)}if(be(ce))return Fe(le,se,ce,Re);if(K(ce))return $e(le,se,ce,Re);yu(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,se!==null&&se.tag===6?(d(le,se.sibling),se=S(se,ce),se.return=le,le=se):(d(le,se),se=jp(ce,le.mode,Re),se.return=le,le=se),$(le)):d(le,se)}return Bt}var $i=Tw(!0),Pw=Tw(!1),vu=jo(null),wu=null,Ui=null,Uh=null;function Hh(){Uh=Ui=wu=null}function Wh(s){var l=vu.current;bt(vu),s._currentValue=l}function Vh(s,l,d){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===d)break;s=s.return}}function Hi(s,l){wu=s,Uh=Ui=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Sn=!0),s.firstContext=null)}function Kn(s){var l=s._currentValue;if(Uh!==s)if(s={context:s,memoizedValue:l,next:null},Ui===null){if(wu===null)throw Error(n(308));Ui=s,wu.dependencies={lanes:0,firstContext:s}}else Ui=Ui.next=s;return l}var Ds=null;function qh(s){Ds===null?Ds=[s]:Ds.push(s)}function Rw(s,l,d,v){var S=l.interleaved;return S===null?(d.next=d,qh(l)):(d.next=S.next,S.next=d),l.interleaved=d,Xr(s,v)}function Xr(s,l){s.lanes|=l;var d=s.alternate;for(d!==null&&(d.lanes|=l),d=s,s=s.return;s!==null;)s.childLanes|=l,d=s.alternate,d!==null&&(d.childLanes|=l),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Mo=!1;function Kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function eo(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Lo(s,l,d){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(ct&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,Xr(s,d)}return S=v.interleaved,S===null?(l.next=l,qh(v)):(l.next=S.next,S.next=l),v.interleaved=l,Xr(s,d)}function xu(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,d|=v,l.lanes=d,ah(s,d)}}function jw(s,l){var d=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var S=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?S=T=$:T=T.next=$,d=d.next}while(d!==null);T===null?S=T=l:T=T.next=l}else S=T=l;d={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,effects:v.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}function bu(s,l,d,v){var S=s.updateQueue;Mo=!1;var T=S.firstBaseUpdate,$=S.lastBaseUpdate,Q=S.shared.pending;if(Q!==null){S.shared.pending=null;var ne=Q,fe=ne.next;ne.next=null,$===null?T=fe:$.next=fe,$=ne;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,Q=ke.lastBaseUpdate,Q!==$&&(Q===null?ke.firstBaseUpdate=fe:Q.next=fe,ke.lastBaseUpdate=ne))}if(T!==null){var Ce=S.baseState;$=0,ke=fe=ne=null,Q=T;do{var _e=Q.lane,ze=Q.eventTime;if((v&_e)===_e){ke!==null&&(ke=ke.next={eventTime:ze,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Fe=s,$e=Q;switch(_e=l,ze=d,$e.tag){case 1:if(Fe=$e.payload,typeof Fe=="function"){Ce=Fe.call(ze,Ce,_e);break e}Ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=$e.payload,_e=typeof Fe=="function"?Fe.call(ze,Ce,_e):Fe,_e==null)break e;Ce=oe({},Ce,_e);break e;case 2:Mo=!0}}Q.callback!==null&&Q.lane!==0&&(s.flags|=64,_e=S.effects,_e===null?S.effects=[Q]:_e.push(Q))}else ze={eventTime:ze,lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ke===null?(fe=ke=ze,ne=Ce):ke=ke.next=ze,$|=_e;if(Q=Q.next,Q===null){if(Q=S.shared.pending,Q===null)break;_e=Q,Q=_e.next,_e.next=null,S.lastBaseUpdate=_e,S.shared.pending=null}}while(!0);if(ke===null&&(ne=Ce),S.baseState=ne,S.firstBaseUpdate=fe,S.lastBaseUpdate=ke,l=S.shared.interleaved,l!==null){S=l;do $|=S.lane,S=S.next;while(S!==l)}else T===null&&(S.shared.lanes=0);Fs|=$,s.lanes=$,s.memoizedState=Ce}}function Iw(s,l,d){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],S=v.callback;if(S!==null){if(v.callback=null,v=d,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var kl={},Nr=jo(kl),Cl=jo(kl),Nl=jo(kl);function zs(s){if(s===kl)throw Error(n(174));return s}function Zh(s,l){switch(wt(Nl,l),wt(Cl,s),wt(Nr,kl),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:H(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=H(l,s)}bt(Nr),wt(Nr,l)}function Wi(){bt(Nr),bt(Cl),bt(Nl)}function Ow(s){zs(Nl.current);var l=zs(Nr.current),d=H(l,s.type);l!==d&&(wt(Cl,s),wt(Nr,d))}function Gh(s){Cl.current===s&&(bt(Nr),bt(Cl))}var Pt=jo(0);function Eu(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Yh=[];function Jh(){for(var s=0;s<Yh.length;s++)Yh[s]._workInProgressVersionPrimary=null;Yh.length=0}var _u=A.ReactCurrentDispatcher,Qh=A.ReactCurrentBatchConfig,Bs=0,Rt=null,Wt=null,Kt=null,Su=!1,Tl=!1,Pl=0,yj=0;function sn(){throw Error(n(321))}function Xh(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!ur(s[d],l[d]))return!1;return!0}function ep(s,l,d,v,S,T){if(Bs=T,Rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_u.current=s===null||s.memoizedState===null?bj:Ej,s=d(v,S),Tl){T=0;do{if(Tl=!1,Pl=0,25<=T)throw Error(n(301));T+=1,Kt=Wt=null,l.updateQueue=null,_u.current=_j,s=d(v,S)}while(Tl)}if(_u.current=Nu,l=Wt!==null&&Wt.next!==null,Bs=0,Kt=Wt=Rt=null,Su=!1,l)throw Error(n(300));return s}function tp(){var s=Pl!==0;return Pl=0,s}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Rt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function Zn(){if(Wt===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var l=Kt===null?Rt.memoizedState:Kt.next;if(l!==null)Kt=l,Wt=s;else{if(s===null)throw Error(n(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Kt===null?Rt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Rl(s,l){return typeof l=="function"?l(s):l}function np(s){var l=Zn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var v=Wt,S=v.baseQueue,T=d.pending;if(T!==null){if(S!==null){var $=S.next;S.next=T.next,T.next=$}v.baseQueue=S=T,d.pending=null}if(S!==null){T=S.next,v=v.baseState;var Q=$=null,ne=null,fe=T;do{var ke=fe.lane;if((Bs&ke)===ke)ne!==null&&(ne=ne.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),v=fe.hasEagerState?fe.eagerState:s(v,fe.action);else{var Ce={lane:ke,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};ne===null?(Q=ne=Ce,$=v):ne=ne.next=Ce,Rt.lanes|=ke,Fs|=ke}fe=fe.next}while(fe!==null&&fe!==T);ne===null?$=v:ne.next=Q,ur(v,l.memoizedState)||(Sn=!0),l.memoizedState=v,l.baseState=$,l.baseQueue=ne,d.lastRenderedState=v}if(s=d.interleaved,s!==null){S=s;do T=S.lane,Rt.lanes|=T,Fs|=T,S=S.next;while(S!==s)}else S===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function rp(s){var l=Zn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var v=d.dispatch,S=d.pending,T=l.memoizedState;if(S!==null){d.pending=null;var $=S=S.next;do T=s(T,$.action),$=$.next;while($!==S);ur(T,l.memoizedState)||(Sn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,v]}function Mw(){}function Lw(s,l){var d=Rt,v=Zn(),S=l(),T=!ur(v.memoizedState,S);if(T&&(v.memoizedState=S,Sn=!0),v=v.queue,op(Bw.bind(null,d,v,s),[s]),v.getSnapshot!==l||T||Kt!==null&&Kt.memoizedState.tag&1){if(d.flags|=2048,Al(9,zw.bind(null,d,v,S,l),void 0,null),Zt===null)throw Error(n(349));(Bs&30)!==0||Dw(d,l,S)}return S}function Dw(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=Rt.updateQueue,l===null?(l={lastEffect:null,stores:null},Rt.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function zw(s,l,d,v){l.value=d,l.getSnapshot=v,Fw(l)&&$w(s)}function Bw(s,l,d){return d(function(){Fw(l)&&$w(s)})}function Fw(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!ur(s,d)}catch{return!0}}function $w(s){var l=Xr(s,1);l!==null&&mr(l,s,1,-1)}function Uw(s){var l=Tr();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:s},l.queue=s,s=s.dispatch=xj.bind(null,Rt,s),[l.memoizedState,s]}function Al(s,l,d,v){return s={tag:s,create:l,destroy:d,deps:v,next:null},l=Rt.updateQueue,l===null?(l={lastEffect:null,stores:null},Rt.updateQueue=l,l.lastEffect=s.next=s):(d=l.lastEffect,d===null?l.lastEffect=s.next=s:(v=d.next,d.next=s,s.next=v,l.lastEffect=s)),s}function Hw(){return Zn().memoizedState}function ku(s,l,d,v){var S=Tr();Rt.flags|=s,S.memoizedState=Al(1|l,d,void 0,v===void 0?null:v)}function Cu(s,l,d,v){var S=Zn();v=v===void 0?null:v;var T=void 0;if(Wt!==null){var $=Wt.memoizedState;if(T=$.destroy,v!==null&&Xh(v,$.deps)){S.memoizedState=Al(l,d,T,v);return}}Rt.flags|=s,S.memoizedState=Al(1|l,d,T,v)}function Ww(s,l){return ku(8390656,8,s,l)}function op(s,l){return Cu(2048,8,s,l)}function Vw(s,l){return Cu(4,2,s,l)}function qw(s,l){return Cu(4,4,s,l)}function Kw(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Zw(s,l,d){return d=d!=null?d.concat([s]):null,Cu(4,4,Kw.bind(null,l,s),d)}function sp(){}function Gw(s,l){var d=Zn();l=l===void 0?null:l;var v=d.memoizedState;return v!==null&&l!==null&&Xh(l,v[1])?v[0]:(d.memoizedState=[s,l],s)}function Yw(s,l){var d=Zn();l=l===void 0?null:l;var v=d.memoizedState;return v!==null&&l!==null&&Xh(l,v[1])?v[0]:(s=s(),d.memoizedState=[s,l],s)}function Jw(s,l,d){return(Bs&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=d):(ur(d,l)||(d=N0(),Rt.lanes|=d,Fs|=d,s.baseState=!0),l)}function vj(s,l){var d=mt;mt=d!==0&&4>d?d:4,s(!0);var v=Qh.transition;Qh.transition={};try{s(!1),l()}finally{mt=d,Qh.transition=v}}function Qw(){return Zn().memoizedState}function wj(s,l,d){var v=Fo(s);if(d={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null},Xw(s))ex(l,d);else if(d=Rw(s,l,d,v),d!==null){var S=mn();mr(d,s,v,S),tx(d,l,v)}}function xj(s,l,d){var v=Fo(s),S={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null};if(Xw(s))ex(l,S);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var $=l.lastRenderedState,Q=T($,d);if(S.hasEagerState=!0,S.eagerState=Q,ur(Q,$)){var ne=l.interleaved;ne===null?(S.next=S,qh(l)):(S.next=ne.next,ne.next=S),l.interleaved=S;return}}catch{}finally{}d=Rw(s,l,S,v),d!==null&&(S=mn(),mr(d,s,v,S),tx(d,l,v))}}function Xw(s){var l=s.alternate;return s===Rt||l!==null&&l===Rt}function ex(s,l){Tl=Su=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function tx(s,l,d){if((d&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,d|=v,l.lanes=d,ah(s,d)}}var Nu={readContext:Kn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},bj={readContext:Kn,useCallback:function(s,l){return Tr().memoizedState=[s,l===void 0?null:l],s},useContext:Kn,useEffect:Ww,useImperativeHandle:function(s,l,d){return d=d!=null?d.concat([s]):null,ku(4194308,4,Kw.bind(null,l,s),d)},useLayoutEffect:function(s,l){return ku(4194308,4,s,l)},useInsertionEffect:function(s,l){return ku(4,2,s,l)},useMemo:function(s,l){var d=Tr();return l=l===void 0?null:l,s=s(),d.memoizedState=[s,l],s},useReducer:function(s,l,d){var v=Tr();return l=d!==void 0?d(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=wj.bind(null,Rt,s),[v.memoizedState,s]},useRef:function(s){var l=Tr();return s={current:s},l.memoizedState=s},useState:Uw,useDebugValue:sp,useDeferredValue:function(s){return Tr().memoizedState=s},useTransition:function(){var s=Uw(!1),l=s[0];return s=vj.bind(null,s[1]),Tr().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,d){var v=Rt,S=Tr();if(kt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Zt===null)throw Error(n(349));(Bs&30)!==0||Dw(v,l,d)}S.memoizedState=d;var T={value:d,getSnapshot:l};return S.queue=T,Ww(Bw.bind(null,v,T,s),[s]),v.flags|=2048,Al(9,zw.bind(null,v,T,d,l),void 0,null),d},useId:function(){var s=Tr(),l=Zt.identifierPrefix;if(kt){var d=Qr,v=Jr;d=(v&~(1<<32-cr(v)-1)).toString(32)+d,l=":"+l+"R"+d,d=Pl++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=yj++,l=":"+l+"r"+d.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},Ej={readContext:Kn,useCallback:Gw,useContext:Kn,useEffect:op,useImperativeHandle:Zw,useInsertionEffect:Vw,useLayoutEffect:qw,useMemo:Yw,useReducer:np,useRef:Hw,useState:function(){return np(Rl)},useDebugValue:sp,useDeferredValue:function(s){var l=Zn();return Jw(l,Wt.memoizedState,s)},useTransition:function(){var s=np(Rl)[0],l=Zn().memoizedState;return[s,l]},useMutableSource:Mw,useSyncExternalStore:Lw,useId:Qw,unstable_isNewReconciler:!1},_j={readContext:Kn,useCallback:Gw,useContext:Kn,useEffect:op,useImperativeHandle:Zw,useInsertionEffect:Vw,useLayoutEffect:qw,useMemo:Yw,useReducer:rp,useRef:Hw,useState:function(){return rp(Rl)},useDebugValue:sp,useDeferredValue:function(s){var l=Zn();return Wt===null?l.memoizedState=s:Jw(l,Wt.memoizedState,s)},useTransition:function(){var s=rp(Rl)[0],l=Zn().memoizedState;return[s,l]},useMutableSource:Mw,useSyncExternalStore:Lw,useId:Qw,unstable_isNewReconciler:!1};function fr(s,l){if(s&&s.defaultProps){l=oe({},l),s=s.defaultProps;for(var d in s)l[d]===void 0&&(l[d]=s[d]);return l}return l}function ip(s,l,d,v){l=s.memoizedState,d=d(v,l),d=d==null?l:oe({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Tu={isMounted:function(s){return(s=s._reactInternals)?js(s)===s:!1},enqueueSetState:function(s,l,d){s=s._reactInternals;var v=mn(),S=Fo(s),T=eo(v,S);T.payload=l,d!=null&&(T.callback=d),l=Lo(s,T,S),l!==null&&(mr(l,s,S,v),xu(l,s,S))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var v=mn(),S=Fo(s),T=eo(v,S);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Lo(s,T,S),l!==null&&(mr(l,s,S,v),xu(l,s,S))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=mn(),v=Fo(s),S=eo(d,v);S.tag=2,l!=null&&(S.callback=l),l=Lo(s,S,v),l!==null&&(mr(l,s,v,d),xu(l,s,v))}};function nx(s,l,d,v,S,T,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,T,$):l.prototype&&l.prototype.isPureReactComponent?!yl(d,v)||!yl(S,T):!0}function rx(s,l,d){var v=!1,S=Io,T=l.contextType;return typeof T=="object"&&T!==null?T=Kn(T):(S=_n(l)?Os:on.current,v=l.contextTypes,T=(v=v!=null)?Di(s,S):Io),l=new l(d,T),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Tu,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=T),l}function ox(s,l,d,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,v),l.state!==s&&Tu.enqueueReplaceState(l,l.state,null)}function ap(s,l,d,v){var S=s.stateNode;S.props=d,S.state=s.memoizedState,S.refs={},Kh(s);var T=l.contextType;typeof T=="object"&&T!==null?S.context=Kn(T):(T=_n(l)?Os:on.current,S.context=Di(s,T)),S.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(ip(s,l,T,d),S.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&Tu.enqueueReplaceState(S,S.state,null),bu(s,d,S,v),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function Vi(s,l){try{var d="",v=l;do d+=me(v),v=v.return;while(v);var S=d}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:l,stack:S,digest:null}}function lp(s,l,d){return{value:s,source:null,stack:d??null,digest:l??null}}function cp(s,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var Sj=typeof WeakMap=="function"?WeakMap:Map;function sx(s,l,d){d=eo(-1,d),d.tag=3,d.payload={element:null};var v=l.value;return d.callback=function(){Mu||(Mu=!0,Sp=v),cp(s,l)},d}function ix(s,l,d){d=eo(-1,d),d.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;d.payload=function(){return v(S)},d.callback=function(){cp(s,l)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){cp(s,l),typeof v!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),d}function ax(s,l,d){var v=s.pingCache;if(v===null){v=s.pingCache=new Sj;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(d)||(S.add(d),s=zj.bind(null,s,l,d),l.then(s,s))}function lx(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function cx(s,l,d,v,S){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=eo(-1,1),l.tag=2,Lo(d,l,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var kj=A.ReactCurrentOwner,Sn=!1;function pn(s,l,d,v){l.child=s===null?Pw(l,null,d,v):$i(l,s.child,d,v)}function ux(s,l,d,v,S){d=d.render;var T=l.ref;return Hi(l,S),v=ep(s,l,d,v,T,S),d=tp(),s!==null&&!Sn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~S,to(s,l,S)):(kt&&d&&Dh(l),l.flags|=1,pn(s,l,v,S),l.child)}function dx(s,l,d,v,S){if(s===null){var T=d.type;return typeof T=="function"&&!Ap(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,fx(s,l,T,v,S)):(s=$u(d.type,null,v,l,l.mode,S),s.ref=l.ref,s.return=l,l.child=s)}if(T=s.child,(s.lanes&S)===0){var $=T.memoizedProps;if(d=d.compare,d=d!==null?d:yl,d($,v)&&s.ref===l.ref)return to(s,l,S)}return l.flags|=1,s=Uo(T,v),s.ref=l.ref,s.return=l,l.child=s}function fx(s,l,d,v,S){if(s!==null){var T=s.memoizedProps;if(yl(T,v)&&s.ref===l.ref)if(Sn=!1,l.pendingProps=v=T,(s.lanes&S)!==0)(s.flags&131072)!==0&&(Sn=!0);else return l.lanes=s.lanes,to(s,l,S)}return up(s,l,d,v,S)}function hx(s,l,d){var v=l.pendingProps,S=v.children,T=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Ki,Ln),Ln|=d;else{if((d&1073741824)===0)return s=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,wt(Ki,Ln),Ln|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:d,wt(Ki,Ln),Ln|=v}else T!==null?(v=T.baseLanes|d,l.memoizedState=null):v=d,wt(Ki,Ln),Ln|=v;return pn(s,l,S,d),l.child}function px(s,l){var d=l.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function up(s,l,d,v,S){var T=_n(d)?Os:on.current;return T=Di(l,T),Hi(l,S),d=ep(s,l,d,v,T,S),v=tp(),s!==null&&!Sn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~S,to(s,l,S)):(kt&&v&&Dh(l),l.flags|=1,pn(s,l,d,S),l.child)}function mx(s,l,d,v,S){if(_n(d)){var T=!0;fu(l)}else T=!1;if(Hi(l,S),l.stateNode===null)Ru(s,l),rx(l,d,v),ap(l,d,v,S),v=!0;else if(s===null){var $=l.stateNode,Q=l.memoizedProps;$.props=Q;var ne=$.context,fe=d.contextType;typeof fe=="object"&&fe!==null?fe=Kn(fe):(fe=_n(d)?Os:on.current,fe=Di(l,fe));var ke=d.getDerivedStateFromProps,Ce=typeof ke=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ce||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Q!==v||ne!==fe)&&ox(l,$,v,fe),Mo=!1;var _e=l.memoizedState;$.state=_e,bu(l,v,$,S),ne=l.memoizedState,Q!==v||_e!==ne||En.current||Mo?(typeof ke=="function"&&(ip(l,d,ke,v),ne=l.memoizedState),(Q=Mo||nx(l,d,Q,v,_e,ne,fe))?(Ce||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ne),$.props=v,$.state=ne,$.context=fe,v=Q):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{$=l.stateNode,Aw(s,l),Q=l.memoizedProps,fe=l.type===l.elementType?Q:fr(l.type,Q),$.props=fe,Ce=l.pendingProps,_e=$.context,ne=d.contextType,typeof ne=="object"&&ne!==null?ne=Kn(ne):(ne=_n(d)?Os:on.current,ne=Di(l,ne));var ze=d.getDerivedStateFromProps;(ke=typeof ze=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Q!==Ce||_e!==ne)&&ox(l,$,v,ne),Mo=!1,_e=l.memoizedState,$.state=_e,bu(l,v,$,S);var Fe=l.memoizedState;Q!==Ce||_e!==Fe||En.current||Mo?(typeof ze=="function"&&(ip(l,d,ze,v),Fe=l.memoizedState),(fe=Mo||nx(l,d,fe,v,_e,Fe,ne)||!1)?(ke||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(v,Fe,ne),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(v,Fe,ne)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Fe),$.props=v,$.state=Fe,$.context=ne,v=fe):(typeof $.componentDidUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(l.flags|=1024),v=!1)}return dp(s,l,d,v,T,S)}function dp(s,l,d,v,S,T){px(s,l);var $=(l.flags&128)!==0;if(!v&&!$)return S&&xw(l,d,!1),to(s,l,T);v=l.stateNode,kj.current=l;var Q=$&&typeof d.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&$?(l.child=$i(l,s.child,null,T),l.child=$i(l,null,Q,T)):pn(s,l,Q,T),l.memoizedState=v.state,S&&xw(l,d,!0),l.child}function gx(s){var l=s.stateNode;l.pendingContext?vw(s,l.pendingContext,l.pendingContext!==l.context):l.context&&vw(s,l.context,!1),Zh(s,l.containerInfo)}function yx(s,l,d,v,S){return Fi(),$h(S),l.flags|=256,pn(s,l,d,v),l.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function vx(s,l,d){var v=l.pendingProps,S=Pt.current,T=!1,$=(l.flags&128)!==0,Q;if((Q=$)||(Q=s!==null&&s.memoizedState===null?!1:(S&2)!==0),Q?(T=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),wt(Pt,S&1),s===null)return Fh(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=v.children,s=v.fallback,T?(v=l.mode,T=l.child,$={mode:"hidden",children:$},(v&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=$):T=Uu($,v,0,null),s=Ws(s,v,d,null),T.return=l,s.return=l,T.sibling=s,l.child=T,l.child.memoizedState=hp(d),l.memoizedState=fp,s):pp(l,$));if(S=s.memoizedState,S!==null&&(Q=S.dehydrated,Q!==null))return Cj(s,l,$,v,Q,S,d);if(T){T=v.fallback,$=l.mode,S=s.child,Q=S.sibling;var ne={mode:"hidden",children:v.children};return($&1)===0&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=ne,l.deletions=null):(v=Uo(S,ne),v.subtreeFlags=S.subtreeFlags&14680064),Q!==null?T=Uo(Q,T):(T=Ws(T,$,d,null),T.flags|=2),T.return=l,v.return=l,v.sibling=T,l.child=v,v=T,T=l.child,$=s.child.memoizedState,$=$===null?hp(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=s.childLanes&~d,l.memoizedState=fp,v}return T=s.child,s=T.sibling,v=Uo(T,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=d),v.return=l,v.sibling=null,s!==null&&(d=l.deletions,d===null?(l.deletions=[s],l.flags|=16):d.push(s)),l.child=v,l.memoizedState=null,v}function pp(s,l){return l=Uu({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Pu(s,l,d,v){return v!==null&&$h(v),$i(l,s.child,null,d),s=pp(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Cj(s,l,d,v,S,T,$){if(d)return l.flags&256?(l.flags&=-257,v=lp(Error(n(422))),Pu(s,l,$,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(T=v.fallback,S=l.mode,v=Uu({mode:"visible",children:v.children},S,0,null),T=Ws(T,S,$,null),T.flags|=2,v.return=l,T.return=l,v.sibling=T,l.child=v,(l.mode&1)!==0&&$i(l,s.child,null,$),l.child.memoizedState=hp($),l.memoizedState=fp,T);if((l.mode&1)===0)return Pu(s,l,$,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Q=v.dgst;return v=Q,T=Error(n(419)),v=lp(T,v,void 0),Pu(s,l,$,v)}if(Q=($&s.childLanes)!==0,Sn||Q){if(v=Zt,v!==null){switch($&-$){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|$))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Xr(s,S),mr(v,s,S,-1))}return Rp(),v=lp(Error(n(421))),Pu(s,l,$,v)}return S.data==="$?"?(l.flags|=128,l.child=s.child,l=Bj.bind(null,s),S._reactRetry=l,null):(s=T.treeContext,Mn=Ao(S.nextSibling),On=l,kt=!0,dr=null,s!==null&&(Vn[qn++]=Jr,Vn[qn++]=Qr,Vn[qn++]=Ms,Jr=s.id,Qr=s.overflow,Ms=l),l=pp(l,v.children),l.flags|=4096,l)}function wx(s,l,d){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Vh(s.return,l,d)}function mp(s,l,d,v,S){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:S}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=d,T.tailMode=S)}function xx(s,l,d){var v=l.pendingProps,S=v.revealOrder,T=v.tail;if(pn(s,l,v.children,d),v=Pt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wx(s,d,l);else if(s.tag===19)wx(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(wt(Pt,v),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(d=l.child,S=null;d!==null;)s=d.alternate,s!==null&&Eu(s)===null&&(S=d),d=d.sibling;d=S,d===null?(S=l.child,l.child=null):(S=d.sibling,d.sibling=null),mp(l,!1,S,d,T);break;case"backwards":for(d=null,S=l.child,l.child=null;S!==null;){if(s=S.alternate,s!==null&&Eu(s)===null){l.child=S;break}s=S.sibling,S.sibling=d,d=S,S=s}mp(l,!0,d,null,T);break;case"together":mp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ru(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function to(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Fs|=l.lanes,(d&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=Uo(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Uo(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Nj(s,l,d){switch(l.tag){case 3:gx(l),Fi();break;case 5:Ow(l);break;case 1:_n(l.type)&&fu(l);break;case 4:Zh(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;wt(vu,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(wt(Pt,Pt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?vx(s,l,d):(wt(Pt,Pt.current&1),s=to(s,l,d),s!==null?s.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(v=(d&l.childLanes)!==0,(s.flags&128)!==0){if(v)return xx(s,l,d);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),wt(Pt,Pt.current),v)break;return null;case 22:case 23:return l.lanes=0,hx(s,l,d)}return to(s,l,d)}var bx,gp,Ex,_x;bx=function(s,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},gp=function(){},Ex=function(s,l,d,v){var S=s.memoizedProps;if(S!==v){s=l.stateNode,zs(Nr.current);var T=null;switch(d){case"input":S=I(s,S),v=I(s,v),T=[];break;case"select":S=oe({},S,{value:void 0}),v=oe({},v,{value:void 0}),T=[];break;case"textarea":S=ae(s,S),v=ae(s,v),T=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=cu)}ot(d,v);var $;d=null;for(fe in S)if(!v.hasOwnProperty(fe)&&S.hasOwnProperty(fe)&&S[fe]!=null)if(fe==="style"){var Q=S[fe];for($ in Q)Q.hasOwnProperty($)&&(d||(d={}),d[$]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?T||(T=[]):(T=T||[]).push(fe,null));for(fe in v){var ne=v[fe];if(Q=S!=null?S[fe]:void 0,v.hasOwnProperty(fe)&&ne!==Q&&(ne!=null||Q!=null))if(fe==="style")if(Q){for($ in Q)!Q.hasOwnProperty($)||ne&&ne.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in ne)ne.hasOwnProperty($)&&Q[$]!==ne[$]&&(d||(d={}),d[$]=ne[$])}else d||(T||(T=[]),T.push(fe,d)),d=ne;else fe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Q=Q?Q.__html:void 0,ne!=null&&Q!==ne&&(T=T||[]).push(fe,ne)):fe==="children"?typeof ne!="string"&&typeof ne!="number"||(T=T||[]).push(fe,""+ne):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(ne!=null&&fe==="onScroll"&&xt("scroll",s),T||Q===ne||(T=[])):(T=T||[]).push(fe,ne))}d&&(T=T||[]).push("style",d);var fe=T;(l.updateQueue=fe)&&(l.flags|=4)}},_x=function(s,l,d,v){d!==v&&(l.flags|=4)};function jl(s,l){if(!kt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function an(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,v=0;if(l)for(var S=s.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=v,s.childLanes=d,l}function Tj(s,l,d){var v=l.pendingProps;switch(zh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(l),null;case 1:return _n(l.type)&&du(),an(l),null;case 3:return v=l.stateNode,Wi(),bt(En),bt(on),Jh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(gu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,dr!==null&&(Np(dr),dr=null))),gp(s,l),an(l),null;case 5:Gh(l);var S=zs(Nl.current);if(d=l.type,s!==null&&l.stateNode!=null)Ex(s,l,d,v,S),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return an(l),null}if(s=zs(Nr.current),gu(l)){v=l.stateNode,d=l.type;var T=l.memoizedProps;switch(v[Cr]=l,v[El]=T,s=(l.mode&1)!==0,d){case"dialog":xt("cancel",v),xt("close",v);break;case"iframe":case"object":case"embed":xt("load",v);break;case"video":case"audio":for(S=0;S<wl.length;S++)xt(wl[S],v);break;case"source":xt("error",v);break;case"img":case"image":case"link":xt("error",v),xt("load",v);break;case"details":xt("toggle",v);break;case"input":ye(v,T),xt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!T.multiple},xt("invalid",v);break;case"textarea":Te(v,T),xt("invalid",v)}ot(d,T),S=null;for(var $ in T)if(T.hasOwnProperty($)){var Q=T[$];$==="children"?typeof Q=="string"?v.textContent!==Q&&(T.suppressHydrationWarning!==!0&&lu(v.textContent,Q,s),S=["children",Q]):typeof Q=="number"&&v.textContent!==""+Q&&(T.suppressHydrationWarning!==!0&&lu(v.textContent,Q,s),S=["children",""+Q]):o.hasOwnProperty($)&&Q!=null&&$==="onScroll"&&xt("scroll",v)}switch(d){case"input":Ue(v),G(v,T,!0);break;case"textarea":Ue(v),Ne(v);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(v.onclick=cu)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{$=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=qe(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=$.createElement(d,{is:v.is}):(s=$.createElement(d),d==="select"&&($=s,v.multiple?$.multiple=!0:v.size&&($.size=v.size))):s=$.createElementNS(s,d),s[Cr]=l,s[El]=v,bx(s,l,!1,!1),l.stateNode=s;e:{switch($=pt(d,v),d){case"dialog":xt("cancel",s),xt("close",s),S=v;break;case"iframe":case"object":case"embed":xt("load",s),S=v;break;case"video":case"audio":for(S=0;S<wl.length;S++)xt(wl[S],s);S=v;break;case"source":xt("error",s),S=v;break;case"img":case"image":case"link":xt("error",s),xt("load",s),S=v;break;case"details":xt("toggle",s),S=v;break;case"input":ye(s,v),S=I(s,v),xt("invalid",s);break;case"option":S=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},S=oe({},v,{value:void 0}),xt("invalid",s);break;case"textarea":Te(s,v),S=ae(s,v),xt("invalid",s);break;default:S=v}ot(d,S),Q=S;for(T in Q)if(Q.hasOwnProperty(T)){var ne=Q[T];T==="style"?Xe(s,ne):T==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&R(s,ne)):T==="children"?typeof ne=="string"?(d!=="textarea"||ne!=="")&&Z(s,ne):typeof ne=="number"&&Z(s,""+ne):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(o.hasOwnProperty(T)?ne!=null&&T==="onScroll"&&xt("scroll",s):ne!=null&&C(s,T,ne,$))}switch(d){case"input":Ue(s),G(s,v,!1);break;case"textarea":Ue(s),Ne(s);break;case"option":v.value!=null&&s.setAttribute("value",""+xe(v.value));break;case"select":s.multiple=!!v.multiple,T=v.value,T!=null?Ee(s,!!v.multiple,T,!1):v.defaultValue!=null&&Ee(s,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=cu)}switch(d){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return an(l),null;case 6:if(s&&l.stateNode!=null)_x(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(d=zs(Nl.current),zs(Nr.current),gu(l)){if(v=l.stateNode,d=l.memoizedProps,v[Cr]=l,(T=v.nodeValue!==d)&&(s=On,s!==null))switch(s.tag){case 3:lu(v.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&lu(v.nodeValue,d,(s.mode&1)!==0)}T&&(l.flags|=4)}else v=(d.nodeType===9?d:d.ownerDocument).createTextNode(v),v[Cr]=l,l.stateNode=v}return an(l),null;case 13:if(bt(Pt),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(kt&&Mn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Cw(),Fi(),l.flags|=98560,T=!1;else if(T=gu(l),v!==null&&v.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Cr]=l}else Fi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;an(l),T=!1}else dr!==null&&(Np(dr),dr=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Pt.current&1)!==0?Vt===0&&(Vt=3):Rp())),l.updateQueue!==null&&(l.flags|=4),an(l),null);case 4:return Wi(),gp(s,l),s===null&&xl(l.stateNode.containerInfo),an(l),null;case 10:return Wh(l.type._context),an(l),null;case 17:return _n(l.type)&&du(),an(l),null;case 19:if(bt(Pt),T=l.memoizedState,T===null)return an(l),null;if(v=(l.flags&128)!==0,$=T.rendering,$===null)if(v)jl(T,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if($=Eu(s),$!==null){for(l.flags|=128,jl(T,!1),v=$.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=d,d=l.child;d!==null;)T=d,s=v,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,s=$.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return wt(Pt,Pt.current&1|2),l.child}s=s.sibling}T.tail!==null&&zt()>Zi&&(l.flags|=128,v=!0,jl(T,!1),l.lanes=4194304)}else{if(!v)if(s=Eu($),s!==null){if(l.flags|=128,v=!0,d=s.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),jl(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!kt)return an(l),null}else 2*zt()-T.renderingStartTime>Zi&&d!==1073741824&&(l.flags|=128,v=!0,jl(T,!1),l.lanes=4194304);T.isBackwards?($.sibling=l.child,l.child=$):(d=T.last,d!==null?d.sibling=$:l.child=$,T.last=$)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=zt(),l.sibling=null,d=Pt.current,wt(Pt,v?d&1|2:d&1),l):(an(l),null);case 22:case 23:return Pp(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Ln&1073741824)!==0&&(an(l),l.subtreeFlags&6&&(l.flags|=8192)):an(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Pj(s,l){switch(zh(l),l.tag){case 1:return _n(l.type)&&du(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Wi(),bt(En),bt(on),Jh(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Gh(l),null;case 13:if(bt(Pt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Fi()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return bt(Pt),null;case 4:return Wi(),null;case 10:return Wh(l.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var Au=!1,ln=!1,Rj=typeof WeakSet=="function"?WeakSet:Set,Be=null;function qi(s,l){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(v){jt(s,l,v)}else d.current=null}function yp(s,l,d){try{d()}catch(v){jt(s,l,v)}}var Sx=!1;function Aj(s,l){if(Ph=Jc,s=nw(),bh(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var $=0,Q=-1,ne=-1,fe=0,ke=0,Ce=s,_e=null;t:for(;;){for(var ze;Ce!==d||S!==0&&Ce.nodeType!==3||(Q=$+S),Ce!==T||v!==0&&Ce.nodeType!==3||(ne=$+v),Ce.nodeType===3&&($+=Ce.nodeValue.length),(ze=Ce.firstChild)!==null;)_e=Ce,Ce=ze;for(;;){if(Ce===s)break t;if(_e===d&&++fe===S&&(Q=$),_e===T&&++ke===v&&(ne=$),(ze=Ce.nextSibling)!==null)break;Ce=_e,_e=Ce.parentNode}Ce=ze}d=Q===-1||ne===-1?null:{start:Q,end:ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(Rh={focusedElem:s,selectionRange:d},Jc=!1,Be=l;Be!==null;)if(l=Be,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Be=s;else for(;Be!==null;){l=Be;try{var Fe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var $e=Fe.memoizedProps,Bt=Fe.memoizedState,le=l.stateNode,se=le.getSnapshotBeforeUpdate(l.elementType===l.type?$e:fr(l.type,$e),Bt);le.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var ce=l.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Re){jt(l,l.return,Re)}if(s=l.sibling,s!==null){s.return=l.return,Be=s;break}Be=l.return}return Fe=Sx,Sx=!1,Fe}function Il(s,l,d){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&s)===s){var T=S.destroy;S.destroy=void 0,T!==void 0&&yp(l,d,T)}S=S.next}while(S!==v)}}function ju(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&s)===s){var v=d.create;d.destroy=v()}d=d.next}while(d!==l)}}function vp(s){var l=s.ref;if(l!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof l=="function"?l(s):l.current=s}}function kx(s){var l=s.alternate;l!==null&&(s.alternate=null,kx(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Cr],delete l[El],delete l[Oh],delete l[hj],delete l[pj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Cx(s){return s.tag===5||s.tag===3||s.tag===4}function Nx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wp(s,l,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(s,l):d.insertBefore(s,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(s,d)):(l=d,l.appendChild(s)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=cu));else if(v!==4&&(s=s.child,s!==null))for(wp(s,l,d),s=s.sibling;s!==null;)wp(s,l,d),s=s.sibling}function xp(s,l,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(xp(s,l,d),s=s.sibling;s!==null;)xp(s,l,d),s=s.sibling}var Xt=null,hr=!1;function Do(s,l,d){for(d=d.child;d!==null;)Tx(s,l,d),d=d.sibling}function Tx(s,l,d){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Vc,d)}catch{}switch(d.tag){case 5:ln||qi(d,l);case 6:var v=Xt,S=hr;Xt=null,Do(s,l,d),Xt=v,hr=S,Xt!==null&&(hr?(s=Xt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Xt.removeChild(d.stateNode));break;case 18:Xt!==null&&(hr?(s=Xt,d=d.stateNode,s.nodeType===8?Ih(s.parentNode,d):s.nodeType===1&&Ih(s,d),dl(s)):Ih(Xt,d.stateNode));break;case 4:v=Xt,S=hr,Xt=d.stateNode.containerInfo,hr=!0,Do(s,l,d),Xt=v,hr=S;break;case 0:case 11:case 14:case 15:if(!ln&&(v=d.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var T=S,$=T.destroy;T=T.tag,$!==void 0&&((T&2)!==0||(T&4)!==0)&&yp(d,l,$),S=S.next}while(S!==v)}Do(s,l,d);break;case 1:if(!ln&&(qi(d,l),v=d.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=d.memoizedProps,v.state=d.memoizedState,v.componentWillUnmount()}catch(Q){jt(d,l,Q)}Do(s,l,d);break;case 21:Do(s,l,d);break;case 22:d.mode&1?(ln=(v=ln)||d.memoizedState!==null,Do(s,l,d),ln=v):Do(s,l,d);break;default:Do(s,l,d)}}function Px(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new Rj),l.forEach(function(v){var S=Fj.bind(null,s,v);d.has(v)||(d.add(v),v.then(S,S))})}}function pr(s,l){var d=l.deletions;if(d!==null)for(var v=0;v<d.length;v++){var S=d[v];try{var T=s,$=l,Q=$;e:for(;Q!==null;){switch(Q.tag){case 5:Xt=Q.stateNode,hr=!1;break e;case 3:Xt=Q.stateNode.containerInfo,hr=!0;break e;case 4:Xt=Q.stateNode.containerInfo,hr=!0;break e}Q=Q.return}if(Xt===null)throw Error(n(160));Tx(T,$,S),Xt=null,hr=!1;var ne=S.alternate;ne!==null&&(ne.return=null),S.return=null}catch(fe){jt(S,l,fe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Rx(l,s),l=l.sibling}function Rx(s,l){var d=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(l,s),Pr(s),v&4){try{Il(3,s,s.return),ju(3,s)}catch($e){jt(s,s.return,$e)}try{Il(5,s,s.return)}catch($e){jt(s,s.return,$e)}}break;case 1:pr(l,s),Pr(s),v&512&&d!==null&&qi(d,d.return);break;case 5:if(pr(l,s),Pr(s),v&512&&d!==null&&qi(d,d.return),s.flags&32){var S=s.stateNode;try{Z(S,"")}catch($e){jt(s,s.return,$e)}}if(v&4&&(S=s.stateNode,S!=null)){var T=s.memoizedProps,$=d!==null?d.memoizedProps:T,Q=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{Q==="input"&&T.type==="radio"&&T.name!=null&&de(S,T),pt(Q,$);var fe=pt(Q,T);for($=0;$<ne.length;$+=2){var ke=ne[$],Ce=ne[$+1];ke==="style"?Xe(S,Ce):ke==="dangerouslySetInnerHTML"?R(S,Ce):ke==="children"?Z(S,Ce):C(S,ke,Ce,fe)}switch(Q){case"input":Y(S,T);break;case"textarea":Le(S,T);break;case"select":var _e=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var ze=T.value;ze!=null?Ee(S,!!T.multiple,ze,!1):_e!==!!T.multiple&&(T.defaultValue!=null?Ee(S,!!T.multiple,T.defaultValue,!0):Ee(S,!!T.multiple,T.multiple?[]:"",!1))}S[El]=T}catch($e){jt(s,s.return,$e)}}break;case 6:if(pr(l,s),Pr(s),v&4){if(s.stateNode===null)throw Error(n(162));S=s.stateNode,T=s.memoizedProps;try{S.nodeValue=T}catch($e){jt(s,s.return,$e)}}break;case 3:if(pr(l,s),Pr(s),v&4&&d!==null&&d.memoizedState.isDehydrated)try{dl(l.containerInfo)}catch($e){jt(s,s.return,$e)}break;case 4:pr(l,s),Pr(s);break;case 13:pr(l,s),Pr(s),S=s.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(_p=zt())),v&4&&Px(s);break;case 22:if(ke=d!==null&&d.memoizedState!==null,s.mode&1?(ln=(fe=ln)||ke,pr(l,s),ln=fe):pr(l,s),Pr(s),v&8192){if(fe=s.memoizedState!==null,(s.stateNode.isHidden=fe)&&!ke&&(s.mode&1)!==0)for(Be=s,ke=s.child;ke!==null;){for(Ce=Be=ke;Be!==null;){switch(_e=Be,ze=_e.child,_e.tag){case 0:case 11:case 14:case 15:Il(4,_e,_e.return);break;case 1:qi(_e,_e.return);var Fe=_e.stateNode;if(typeof Fe.componentWillUnmount=="function"){v=_e,d=_e.return;try{l=v,Fe.props=l.memoizedProps,Fe.state=l.memoizedState,Fe.componentWillUnmount()}catch($e){jt(v,d,$e)}}break;case 5:qi(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Ix(Ce);continue}}ze!==null?(ze.return=_e,Be=ze):Ix(Ce)}ke=ke.sibling}e:for(ke=null,Ce=s;;){if(Ce.tag===5){if(ke===null){ke=Ce;try{S=Ce.stateNode,fe?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(Q=Ce.stateNode,ne=Ce.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Q.style.display=he("display",$))}catch($e){jt(s,s.return,$e)}}}else if(Ce.tag===6){if(ke===null)try{Ce.stateNode.nodeValue=fe?"":Ce.memoizedProps}catch($e){jt(s,s.return,$e)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===s)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===s)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===s)break e;ke===Ce&&(ke=null),Ce=Ce.return}ke===Ce&&(ke=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:pr(l,s),Pr(s),v&4&&Px(s);break;case 21:break;default:pr(l,s),Pr(s)}}function Pr(s){var l=s.flags;if(l&2){try{e:{for(var d=s.return;d!==null;){if(Cx(d)){var v=d;break e}d=d.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Z(S,""),v.flags&=-33);var T=Nx(s);xp(s,T,S);break;case 3:case 4:var $=v.stateNode.containerInfo,Q=Nx(s);wp(s,Q,$);break;default:throw Error(n(161))}}catch(ne){jt(s,s.return,ne)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function jj(s,l,d){Be=s,Ax(s)}function Ax(s,l,d){for(var v=(s.mode&1)!==0;Be!==null;){var S=Be,T=S.child;if(S.tag===22&&v){var $=S.memoizedState!==null||Au;if(!$){var Q=S.alternate,ne=Q!==null&&Q.memoizedState!==null||ln;Q=Au;var fe=ln;if(Au=$,(ln=ne)&&!fe)for(Be=S;Be!==null;)$=Be,ne=$.child,$.tag===22&&$.memoizedState!==null?Ox(S):ne!==null?(ne.return=$,Be=ne):Ox(S);for(;T!==null;)Be=T,Ax(T),T=T.sibling;Be=S,Au=Q,ln=fe}jx(s)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,Be=T):jx(s)}}function jx(s){for(;Be!==null;){var l=Be;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ln||ju(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!ln)if(d===null)v.componentDidMount();else{var S=l.elementType===l.type?d.memoizedProps:fr(l.type,d.memoizedProps);v.componentDidUpdate(S,d.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&Iw(l,T,v);break;case 3:var $=l.updateQueue;if($!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Iw(l,$,d)}break;case 5:var Q=l.stateNode;if(d===null&&l.flags&4){d=Q;var ne=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&d.focus();break;case"img":ne.src&&(d.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var fe=l.alternate;if(fe!==null){var ke=fe.memoizedState;if(ke!==null){var Ce=ke.dehydrated;Ce!==null&&dl(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||l.flags&512&&vp(l)}catch(_e){jt(l,l.return,_e)}}if(l===s){Be=null;break}if(d=l.sibling,d!==null){d.return=l.return,Be=d;break}Be=l.return}}function Ix(s){for(;Be!==null;){var l=Be;if(l===s){Be=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Be=d;break}Be=l.return}}function Ox(s){for(;Be!==null;){var l=Be;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{ju(4,l)}catch(ne){jt(l,d,ne)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(ne){jt(l,S,ne)}}var T=l.return;try{vp(l)}catch(ne){jt(l,T,ne)}break;case 5:var $=l.return;try{vp(l)}catch(ne){jt(l,$,ne)}}}catch(ne){jt(l,l.return,ne)}if(l===s){Be=null;break}var Q=l.sibling;if(Q!==null){Q.return=l.return,Be=Q;break}Be=l.return}}var Ij=Math.ceil,Iu=A.ReactCurrentDispatcher,bp=A.ReactCurrentOwner,Gn=A.ReactCurrentBatchConfig,ct=0,Zt=null,$t=null,en=0,Ln=0,Ki=jo(0),Vt=0,Ol=null,Fs=0,Ou=0,Ep=0,Ml=null,kn=null,_p=0,Zi=1/0,no=null,Mu=!1,Sp=null,zo=null,Lu=!1,Bo=null,Du=0,Ll=0,kp=null,zu=-1,Bu=0;function mn(){return(ct&6)!==0?zt():zu!==-1?zu:zu=zt()}function Fo(s){return(s.mode&1)===0?1:(ct&2)!==0&&en!==0?en&-en:gj.transition!==null?(Bu===0&&(Bu=N0()),Bu):(s=mt,s!==0||(s=window.event,s=s===void 0?16:L0(s.type)),s)}function mr(s,l,d,v){if(50<Ll)throw Ll=0,kp=null,Error(n(185));il(s,d,v),((ct&2)===0||s!==Zt)&&(s===Zt&&((ct&2)===0&&(Ou|=d),Vt===4&&$o(s,en)),Cn(s,v),d===1&&ct===0&&(l.mode&1)===0&&(Zi=zt()+500,hu&&Oo()))}function Cn(s,l){var d=s.callbackNode;gA(s,l);var v=Zc(s,s===Zt?en:0);if(v===0)d!==null&&S0(d),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(d!=null&&S0(d),l===1)s.tag===0?mj(Lx.bind(null,s)):bw(Lx.bind(null,s)),dj(function(){(ct&6)===0&&Oo()}),d=null;else{switch(T0(v)){case 1:d=oh;break;case 4:d=k0;break;case 16:d=Wc;break;case 536870912:d=C0;break;default:d=Wc}d=Wx(d,Mx.bind(null,s))}s.callbackPriority=l,s.callbackNode=d}}function Mx(s,l){if(zu=-1,Bu=0,(ct&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Gi()&&s.callbackNode!==d)return null;var v=Zc(s,s===Zt?en:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=Fu(s,v);else{l=v;var S=ct;ct|=2;var T=zx();(Zt!==s||en!==l)&&(no=null,Zi=zt()+500,Us(s,l));do try{Lj();break}catch(Q){Dx(s,Q)}while(!0);Hh(),Iu.current=T,ct=S,$t!==null?l=0:(Zt=null,en=0,l=Vt)}if(l!==0){if(l===2&&(S=sh(s),S!==0&&(v=S,l=Cp(s,S))),l===1)throw d=Ol,Us(s,0),$o(s,v),Cn(s,zt()),d;if(l===6)$o(s,v);else{if(S=s.current.alternate,(v&30)===0&&!Oj(S)&&(l=Fu(s,v),l===2&&(T=sh(s),T!==0&&(v=T,l=Cp(s,T))),l===1))throw d=Ol,Us(s,0),$o(s,v),Cn(s,zt()),d;switch(s.finishedWork=S,s.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:Hs(s,kn,no);break;case 3:if($o(s,v),(v&130023424)===v&&(l=_p+500-zt(),10<l)){if(Zc(s,0)!==0)break;if(S=s.suspendedLanes,(S&v)!==v){mn(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=jh(Hs.bind(null,s,kn,no),l);break}Hs(s,kn,no);break;case 4:if($o(s,v),(v&4194240)===v)break;for(l=s.eventTimes,S=-1;0<v;){var $=31-cr(v);T=1<<$,$=l[$],$>S&&(S=$),v&=~T}if(v=S,v=zt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Ij(v/1960))-v,10<v){s.timeoutHandle=jh(Hs.bind(null,s,kn,no),v);break}Hs(s,kn,no);break;case 5:Hs(s,kn,no);break;default:throw Error(n(329))}}}return Cn(s,zt()),s.callbackNode===d?Mx.bind(null,s):null}function Cp(s,l){var d=Ml;return s.current.memoizedState.isDehydrated&&(Us(s,l).flags|=256),s=Fu(s,l),s!==2&&(l=kn,kn=d,l!==null&&Np(l)),s}function Np(s){kn===null?kn=s:kn.push.apply(kn,s)}function Oj(s){for(var l=s;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var v=0;v<d.length;v++){var S=d[v],T=S.getSnapshot;S=S.value;try{if(!ur(T(),S))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $o(s,l){for(l&=~Ep,l&=~Ou,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var d=31-cr(l),v=1<<d;s[d]=-1,l&=~v}}function Lx(s){if((ct&6)!==0)throw Error(n(327));Gi();var l=Zc(s,0);if((l&1)===0)return Cn(s,zt()),null;var d=Fu(s,l);if(s.tag!==0&&d===2){var v=sh(s);v!==0&&(l=v,d=Cp(s,v))}if(d===1)throw d=Ol,Us(s,0),$o(s,l),Cn(s,zt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Hs(s,kn,no),Cn(s,zt()),null}function Tp(s,l){var d=ct;ct|=1;try{return s(l)}finally{ct=d,ct===0&&(Zi=zt()+500,hu&&Oo())}}function $s(s){Bo!==null&&Bo.tag===0&&(ct&6)===0&&Gi();var l=ct;ct|=1;var d=Gn.transition,v=mt;try{if(Gn.transition=null,mt=1,s)return s()}finally{mt=v,Gn.transition=d,ct=l,(ct&6)===0&&Oo()}}function Pp(){Ln=Ki.current,bt(Ki)}function Us(s,l){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,uj(d)),$t!==null)for(d=$t.return;d!==null;){var v=d;switch(zh(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&du();break;case 3:Wi(),bt(En),bt(on),Jh();break;case 5:Gh(v);break;case 4:Wi();break;case 13:bt(Pt);break;case 19:bt(Pt);break;case 10:Wh(v.type._context);break;case 22:case 23:Pp()}d=d.return}if(Zt=s,$t=s=Uo(s.current,null),en=Ln=l,Vt=0,Ol=null,Ep=Ou=Fs=0,kn=Ml=null,Ds!==null){for(l=0;l<Ds.length;l++)if(d=Ds[l],v=d.interleaved,v!==null){d.interleaved=null;var S=v.next,T=d.pending;if(T!==null){var $=T.next;T.next=S,v.next=$}d.pending=v}Ds=null}return s}function Dx(s,l){do{var d=$t;try{if(Hh(),_u.current=Nu,Su){for(var v=Rt.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Su=!1}if(Bs=0,Kt=Wt=Rt=null,Tl=!1,Pl=0,bp.current=null,d===null||d.return===null){Vt=1,Ol=l,$t=null;break}e:{var T=s,$=d.return,Q=d,ne=l;if(l=en,Q.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var fe=ne,ke=Q,Ce=ke.tag;if((ke.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var _e=ke.alternate;_e?(ke.updateQueue=_e.updateQueue,ke.memoizedState=_e.memoizedState,ke.lanes=_e.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var ze=lx($);if(ze!==null){ze.flags&=-257,cx(ze,$,Q,T,l),ze.mode&1&&ax(T,fe,l),l=ze,ne=fe;var Fe=l.updateQueue;if(Fe===null){var $e=new Set;$e.add(ne),l.updateQueue=$e}else Fe.add(ne);break e}else{if((l&1)===0){ax(T,fe,l),Rp();break e}ne=Error(n(426))}}else if(kt&&Q.mode&1){var Bt=lx($);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),cx(Bt,$,Q,T,l),$h(Vi(ne,Q));break e}}T=ne=Vi(ne,Q),Vt!==4&&(Vt=2),Ml===null?Ml=[T]:Ml.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var le=sx(T,ne,l);jw(T,le);break e;case 1:Q=ne;var se=T.type,ce=T.stateNode;if((T.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(zo===null||!zo.has(ce)))){T.flags|=65536,l&=-l,T.lanes|=l;var Re=ix(T,Q,l);jw(T,Re);break e}}T=T.return}while(T!==null)}Fx(d)}catch(He){l=He,$t===d&&d!==null&&($t=d=d.return);continue}break}while(!0)}function zx(){var s=Iu.current;return Iu.current=Nu,s===null?Nu:s}function Rp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Zt===null||(Fs&268435455)===0&&(Ou&268435455)===0||$o(Zt,en)}function Fu(s,l){var d=ct;ct|=2;var v=zx();(Zt!==s||en!==l)&&(no=null,Us(s,l));do try{Mj();break}catch(S){Dx(s,S)}while(!0);if(Hh(),ct=d,Iu.current=v,$t!==null)throw Error(n(261));return Zt=null,en=0,Vt}function Mj(){for(;$t!==null;)Bx($t)}function Lj(){for(;$t!==null&&!aA();)Bx($t)}function Bx(s){var l=Hx(s.alternate,s,Ln);s.memoizedProps=s.pendingProps,l===null?Fx(s):$t=l,bp.current=null}function Fx(s){var l=s;do{var d=l.alternate;if(s=l.return,(l.flags&32768)===0){if(d=Tj(d,l,Ln),d!==null){$t=d;return}}else{if(d=Pj(d,l),d!==null){d.flags&=32767,$t=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,$t=null;return}}if(l=l.sibling,l!==null){$t=l;return}$t=l=s}while(l!==null);Vt===0&&(Vt=5)}function Hs(s,l,d){var v=mt,S=Gn.transition;try{Gn.transition=null,mt=1,Dj(s,l,d,v)}finally{Gn.transition=S,mt=v}return null}function Dj(s,l,d,v){do Gi();while(Bo!==null);if((ct&6)!==0)throw Error(n(327));d=s.finishedWork;var S=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=d.lanes|d.childLanes;if(yA(s,T),s===Zt&&($t=Zt=null,en=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Lu||(Lu=!0,Wx(Wc,function(){return Gi(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=Gn.transition,Gn.transition=null;var $=mt;mt=1;var Q=ct;ct|=4,bp.current=null,Aj(s,d),Rx(d,s),rj(Rh),Jc=!!Ph,Rh=Ph=null,s.current=d,jj(d),lA(),ct=Q,mt=$,Gn.transition=T}else s.current=d;if(Lu&&(Lu=!1,Bo=s,Du=S),T=s.pendingLanes,T===0&&(zo=null),dA(d.stateNode),Cn(s,zt()),l!==null)for(v=s.onRecoverableError,d=0;d<l.length;d++)S=l[d],v(S.value,{componentStack:S.stack,digest:S.digest});if(Mu)throw Mu=!1,s=Sp,Sp=null,s;return(Du&1)!==0&&s.tag!==0&&Gi(),T=s.pendingLanes,(T&1)!==0?s===kp?Ll++:(Ll=0,kp=s):Ll=0,Oo(),null}function Gi(){if(Bo!==null){var s=T0(Du),l=Gn.transition,d=mt;try{if(Gn.transition=null,mt=16>s?16:s,Bo===null)var v=!1;else{if(s=Bo,Bo=null,Du=0,(ct&6)!==0)throw Error(n(331));var S=ct;for(ct|=4,Be=s.current;Be!==null;){var T=Be,$=T.child;if((Be.flags&16)!==0){var Q=T.deletions;if(Q!==null){for(var ne=0;ne<Q.length;ne++){var fe=Q[ne];for(Be=fe;Be!==null;){var ke=Be;switch(ke.tag){case 0:case 11:case 15:Il(8,ke,T)}var Ce=ke.child;if(Ce!==null)Ce.return=ke,Be=Ce;else for(;Be!==null;){ke=Be;var _e=ke.sibling,ze=ke.return;if(kx(ke),ke===fe){Be=null;break}if(_e!==null){_e.return=ze,Be=_e;break}Be=ze}}}var Fe=T.alternate;if(Fe!==null){var $e=Fe.child;if($e!==null){Fe.child=null;do{var Bt=$e.sibling;$e.sibling=null,$e=Bt}while($e!==null)}}Be=T}}if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,Be=$;else e:for(;Be!==null;){if(T=Be,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Il(9,T,T.return)}var le=T.sibling;if(le!==null){le.return=T.return,Be=le;break e}Be=T.return}}var se=s.current;for(Be=se;Be!==null;){$=Be;var ce=$.child;if(($.subtreeFlags&2064)!==0&&ce!==null)ce.return=$,Be=ce;else e:for($=se;Be!==null;){if(Q=Be,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:ju(9,Q)}}catch(He){jt(Q,Q.return,He)}if(Q===$){Be=null;break e}var Re=Q.sibling;if(Re!==null){Re.return=Q.return,Be=Re;break e}Be=Q.return}}if(ct=S,Oo(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Vc,s)}catch{}v=!0}return v}finally{mt=d,Gn.transition=l}}return!1}function $x(s,l,d){l=Vi(d,l),l=sx(s,l,1),s=Lo(s,l,1),l=mn(),s!==null&&(il(s,1,l),Cn(s,l))}function jt(s,l,d){if(s.tag===3)$x(s,s,d);else for(;l!==null;){if(l.tag===3){$x(l,s,d);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(zo===null||!zo.has(v))){s=Vi(d,s),s=ix(l,s,1),l=Lo(l,s,1),s=mn(),l!==null&&(il(l,1,s),Cn(l,s));break}}l=l.return}}function zj(s,l,d){var v=s.pingCache;v!==null&&v.delete(l),l=mn(),s.pingedLanes|=s.suspendedLanes&d,Zt===s&&(en&d)===d&&(Vt===4||Vt===3&&(en&130023424)===en&&500>zt()-_p?Us(s,0):Ep|=d),Cn(s,l)}function Ux(s,l){l===0&&((s.mode&1)===0?l=1:(l=Kc,Kc<<=1,(Kc&130023424)===0&&(Kc=4194304)));var d=mn();s=Xr(s,l),s!==null&&(il(s,l,d),Cn(s,d))}function Bj(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),Ux(s,d)}function Fj(s,l){var d=0;switch(s.tag){case 13:var v=s.stateNode,S=s.memoizedState;S!==null&&(d=S.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),Ux(s,d)}var Hx;Hx=function(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps||En.current)Sn=!0;else{if((s.lanes&d)===0&&(l.flags&128)===0)return Sn=!1,Nj(s,l,d);Sn=(s.flags&131072)!==0}else Sn=!1,kt&&(l.flags&1048576)!==0&&Ew(l,mu,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Ru(s,l),s=l.pendingProps;var S=Di(l,on.current);Hi(l,d),S=ep(null,l,v,s,S,d);var T=tp();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,_n(v)?(T=!0,fu(l)):T=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Kh(l),S.updater=Tu,l.stateNode=S,S._reactInternals=l,ap(l,v,s,d),l=dp(null,l,v,!0,T,d)):(l.tag=0,kt&&T&&Dh(l),pn(null,l,S,d),l=l.child),l;case 16:v=l.elementType;e:{switch(Ru(s,l),s=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=Uj(v),s=fr(v,s),S){case 0:l=up(null,l,v,s,d);break e;case 1:l=mx(null,l,v,s,d);break e;case 11:l=ux(null,l,v,s,d);break e;case 14:l=dx(null,l,v,fr(v.type,s),d);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:fr(v,S),up(s,l,v,S,d);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:fr(v,S),mx(s,l,v,S,d);case 3:e:{if(gx(l),s===null)throw Error(n(387));v=l.pendingProps,T=l.memoizedState,S=T.element,Aw(s,l),bu(l,v,null,d);var $=l.memoizedState;if(v=$.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){S=Vi(Error(n(423)),l),l=yx(s,l,v,d,S);break e}else if(v!==S){S=Vi(Error(n(424)),l),l=yx(s,l,v,d,S);break e}else for(Mn=Ao(l.stateNode.containerInfo.firstChild),On=l,kt=!0,dr=null,d=Pw(l,null,v,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Fi(),v===S){l=to(s,l,d);break e}pn(s,l,v,d)}l=l.child}return l;case 5:return Ow(l),s===null&&Fh(l),v=l.type,S=l.pendingProps,T=s!==null?s.memoizedProps:null,$=S.children,Ah(v,S)?$=null:T!==null&&Ah(v,T)&&(l.flags|=32),px(s,l),pn(s,l,$,d),l.child;case 6:return s===null&&Fh(l),null;case 13:return vx(s,l,d);case 4:return Zh(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=$i(l,null,v,d):pn(s,l,v,d),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:fr(v,S),ux(s,l,v,S,d);case 7:return pn(s,l,l.pendingProps,d),l.child;case 8:return pn(s,l,l.pendingProps.children,d),l.child;case 12:return pn(s,l,l.pendingProps.children,d),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,T=l.memoizedProps,$=S.value,wt(vu,v._currentValue),v._currentValue=$,T!==null)if(ur(T.value,$)){if(T.children===S.children&&!En.current){l=to(s,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var Q=T.dependencies;if(Q!==null){$=T.child;for(var ne=Q.firstContext;ne!==null;){if(ne.context===v){if(T.tag===1){ne=eo(-1,d&-d),ne.tag=2;var fe=T.updateQueue;if(fe!==null){fe=fe.shared;var ke=fe.pending;ke===null?ne.next=ne:(ne.next=ke.next,ke.next=ne),fe.pending=ne}}T.lanes|=d,ne=T.alternate,ne!==null&&(ne.lanes|=d),Vh(T.return,d,l),Q.lanes|=d;break}ne=ne.next}}else if(T.tag===10)$=T.type===l.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(n(341));$.lanes|=d,Q=$.alternate,Q!==null&&(Q.lanes|=d),Vh($,d,l),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===l){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}pn(s,l,S.children,d),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,Hi(l,d),S=Kn(S),v=v(S),l.flags|=1,pn(s,l,v,d),l.child;case 14:return v=l.type,S=fr(v,l.pendingProps),S=fr(v.type,S),dx(s,l,v,S,d);case 15:return fx(s,l,l.type,l.pendingProps,d);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:fr(v,S),Ru(s,l),l.tag=1,_n(v)?(s=!0,fu(l)):s=!1,Hi(l,d),rx(l,v,S),ap(l,v,S,d),dp(null,l,v,!0,s,d);case 19:return xx(s,l,d);case 22:return hx(s,l,d)}throw Error(n(156,l.tag))};function Wx(s,l){return _0(s,l)}function $j(s,l,d,v){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,l,d,v){return new $j(s,l,d,v)}function Ap(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Uj(s){if(typeof s=="function")return Ap(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===U)return 14}return 2}function Uo(s,l){var d=s.alternate;return d===null?(d=Yn(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function $u(s,l,d,v,S,T){var $=2;if(v=s,typeof s=="function")Ap(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case D:return Ws(d.children,S,T,l);case B:$=8,S|=8;break;case O:return s=Yn(12,d,l,S|2),s.elementType=O,s.lanes=T,s;case V:return s=Yn(13,d,l,S),s.elementType=V,s.lanes=T,s;case P:return s=Yn(19,d,l,S),s.elementType=P,s.lanes=T,s;case J:return Uu(d,S,T,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:$=10;break e;case W:$=9;break e;case M:$=11;break e;case U:$=14;break e;case X:$=16,v=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Yn($,d,l,S),l.elementType=s,l.type=v,l.lanes=T,l}function Ws(s,l,d,v){return s=Yn(7,s,v,l),s.lanes=d,s}function Uu(s,l,d,v){return s=Yn(22,s,v,l),s.elementType=J,s.lanes=d,s.stateNode={isHidden:!1},s}function jp(s,l,d){return s=Yn(6,s,null,l),s.lanes=d,s}function Ip(s,l,d){return l=Yn(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function Hj(s,l,d,v,S){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ih(0),this.expirationTimes=ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ih(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Op(s,l,d,v,S,T,$,Q,ne){return s=new Hj(s,l,d,Q,ne),l===1?(l=1,T===!0&&(l|=8)):l=0,T=Yn(3,null,null,l),s.current=T,T.stateNode=s,T.memoizedState={element:v,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(T),s}function Wj(s,l,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:v==null?null:""+v,children:s,containerInfo:l,implementation:d}}function Vx(s){if(!s)return Io;s=s._reactInternals;e:{if(js(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(_n(d))return ww(s,d,l)}return l}function qx(s,l,d,v,S,T,$,Q,ne){return s=Op(d,v,!0,s,S,T,$,Q,ne),s.context=Vx(null),d=s.current,v=mn(),S=Fo(d),T=eo(v,S),T.callback=l??null,Lo(d,T,S),s.current.lanes=S,il(s,S,v),Cn(s,v),s}function Hu(s,l,d,v){var S=l.current,T=mn(),$=Fo(S);return d=Vx(d),l.context===null?l.context=d:l.pendingContext=d,l=eo(T,$),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=Lo(S,l,$),s!==null&&(mr(s,S,$,T),xu(s,S,$)),$}function Wu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Kx(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function Mp(s,l){Kx(s,l),(s=s.alternate)&&Kx(s,l)}function Vj(){return null}var Zx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lp(s){this._internalRoot=s}Vu.prototype.render=Lp.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Hu(s,l,null,null)},Vu.prototype.unmount=Lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;$s(function(){Hu(null,s,null,null)}),l[Gr]=null}};function Vu(s){this._internalRoot=s}Vu.prototype.unstable_scheduleHydration=function(s){if(s){var l=A0();s={blockedOn:null,target:s,priority:l};for(var d=0;d<To.length&&l!==0&&l<To[d].priority;d++);To.splice(d,0,s),d===0&&O0(s)}};function Dp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function qu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Gx(){}function qj(s,l,d,v,S){if(S){if(typeof v=="function"){var T=v;v=function(){var fe=Wu($);T.call(fe)}}var $=qx(l,v,s,0,null,!1,!1,"",Gx);return s._reactRootContainer=$,s[Gr]=$.current,xl(s.nodeType===8?s.parentNode:s),$s(),$}for(;S=s.lastChild;)s.removeChild(S);if(typeof v=="function"){var Q=v;v=function(){var fe=Wu(ne);Q.call(fe)}}var ne=Op(s,0,!1,null,null,!1,!1,"",Gx);return s._reactRootContainer=ne,s[Gr]=ne.current,xl(s.nodeType===8?s.parentNode:s),$s(function(){Hu(l,ne,d,v)}),ne}function Ku(s,l,d,v,S){var T=d._reactRootContainer;if(T){var $=T;if(typeof S=="function"){var Q=S;S=function(){var ne=Wu($);Q.call(ne)}}Hu(l,$,s,S)}else $=qj(d,l,s,S,v);return Wu($)}P0=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var d=sl(l.pendingLanes);d!==0&&(ah(l,d|1),Cn(l,zt()),(ct&6)===0&&(Zi=zt()+500,Oo()))}break;case 13:$s(function(){var v=Xr(s,1);if(v!==null){var S=mn();mr(v,s,1,S)}}),Mp(s,1)}},lh=function(s){if(s.tag===13){var l=Xr(s,134217728);if(l!==null){var d=mn();mr(l,s,134217728,d)}Mp(s,134217728)}},R0=function(s){if(s.tag===13){var l=Fo(s),d=Xr(s,l);if(d!==null){var v=mn();mr(d,s,l,v)}Mp(s,l)}},A0=function(){return mt},j0=function(s,l){var d=mt;try{return mt=s,l()}finally{mt=d}},tl=function(s,l,d){switch(l){case"input":if(Y(s,d),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var v=d[l];if(v!==s&&v.form===s.form){var S=uu(v);if(!S)throw Error(n(90));Ke(v),Y(v,S)}}}break;case"textarea":Le(s,d);break;case"select":l=d.value,l!=null&&Ee(s,!!d.multiple,l,!1)}},g0=Tp,y0=$s;var Kj={usingClientEntryPoint:!1,Events:[_l,Mi,uu,p0,m0,Tp]},Dl={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zj={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=b0(s),s===null?null:s.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||Vj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Vc=Zu.inject(Zj),kr=Zu}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kj,Nn.createPortal=function(s,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(l))throw Error(n(200));return Wj(s,l,null,d)},Nn.createRoot=function(s,l){if(!Dp(s))throw Error(n(299));var d=!1,v="",S=Zx;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=Op(s,1,!1,null,null,d,!1,v,S),s[Gr]=l.current,xl(s.nodeType===8?s.parentNode:s),new Lp(l)},Nn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=b0(l),s=s===null?null:s.stateNode,s},Nn.flushSync=function(s){return $s(s)},Nn.hydrate=function(s,l,d){if(!qu(l))throw Error(n(200));return Ku(null,s,l,!0,d)},Nn.hydrateRoot=function(s,l,d){if(!Dp(s))throw Error(n(405));var v=d!=null&&d.hydratedSources||null,S=!1,T="",$=Zx;if(d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),l=qx(l,null,s,1,d??null,S,!1,T,$),s[Gr]=l.current,xl(s),v)for(s=0;s<v.length;s++)d=v[s],S=d._getVersion,S=S(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,S]:l.mutableSourceEagerHydrationData.push(d,S);return new Vu(l)},Nn.render=function(s,l,d){if(!qu(l))throw Error(n(200));return Ku(null,s,l,!1,d)},Nn.unmountComponentAtNode=function(s){if(!qu(s))throw Error(n(40));return s._reactRootContainer?($s(function(){Ku(null,null,s,!1,function(){s._reactRootContainer=null,s[Gr]=null})}),!0):!1},Nn.unstable_batchedUpdates=Tp,Nn.unstable_renderSubtreeIntoContainer=function(s,l,d,v){if(!qu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ku(s,l,d,!1,v)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var o1;function uE(){if(o1)return $p.exports;o1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$p.exports=o4(),$p.exports}var s1;function s4(){if(s1)return Ju;s1=1;var e=uE();return Ju.createRoot=e.createRoot,Ju.hydrateRoot=e.hydrateRoot,Ju}var i4=s4(),Wp={},Bl={},i1;function a4(){if(i1)return Bl;i1=1,Bl.byteLength=c,Bl.toByteArray=f,Bl.fromByteArray=w;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)e[o]=r[o],t[r.charCodeAt(o)]=o;t[45]=62,t[95]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=y.indexOf("=");g===-1&&(g=b);var x=g===b?0:4-g%4;return[g,x]}function c(y){var b=a(y),g=b[0],x=b[1];return(g+x)*3/4-x}function u(y,b,g){return(b+g)*3/4-g}function f(y){var b,g=a(y),x=g[0],E=g[1],k=new n(u(y,x,E)),C=0,A=E>0?x-4:x,j;for(j=0;j<A;j+=4)b=t[y.charCodeAt(j)]<<18|t[y.charCodeAt(j+1)]<<12|t[y.charCodeAt(j+2)]<<6|t[y.charCodeAt(j+3)],k[C++]=b>>16&255,k[C++]=b>>8&255,k[C++]=b&255;return E===2&&(b=t[y.charCodeAt(j)]<<2|t[y.charCodeAt(j+1)]>>4,k[C++]=b&255),E===1&&(b=t[y.charCodeAt(j)]<<10|t[y.charCodeAt(j+1)]<<4|t[y.charCodeAt(j+2)]>>2,k[C++]=b>>8&255,k[C++]=b&255),k}function m(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function h(y,b,g){for(var x,E=[],k=b;k<g;k+=3)x=(y[k]<<16&16711680)+(y[k+1]<<8&65280)+(y[k+2]&255),E.push(m(x));return E.join("")}function w(y){for(var b,g=y.length,x=g%3,E=[],k=16383,C=0,A=g-x;C<A;C+=k)E.push(h(y,C,C+k>A?A:C+k));return x===1?(b=y[g-1],E.push(e[b>>2]+e[b<<4&63]+"==")):x===2&&(b=(y[g-2]<<8)+y[g-1],E.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),E.join("")}return Bl}var Qu={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var a1;function l4(){return a1||(a1=1,Qu.read=function(e,t,n,r,o){var i,a,c=o*8-r-1,u=(1<<c)-1,f=u>>1,m=-7,h=n?o-1:0,w=n?-1:1,y=e[t+h];for(h+=w,i=y&(1<<-m)-1,y>>=-m,m+=c;m>0;i=i*256+e[t+h],h+=w,m-=8);for(a=i&(1<<-m)-1,i>>=-m,m+=r;m>0;a=a*256+e[t+h],h+=w,m-=8);if(i===0)i=1-f;else{if(i===u)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-f}return(y?-1:1)*a*Math.pow(2,i-r)},Qu.write=function(e,t,n,r,o,i){var a,c,u,f=i*8-o-1,m=(1<<f)-1,h=m>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:i-1,b=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=m):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?t+=w/u:t+=w*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=m?(c=0,a=m):a+h>=1?(c=(t*u-1)*Math.pow(2,o),a=a+h):(c=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[n+y]=c&255,y+=b,c/=256,o-=8);for(a=a<<o|c,f+=o;f>0;e[n+y]=a&255,y+=b,a/=256,f-=8);e[n+y-b]|=g*128}),Qu}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var l1;function c4(){return l1||(l1=1,function(e){const t=a4(),n=l4(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const H=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(H,N),H.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(H){if(H>o)throw new RangeError('The value "'+H+'" is invalid for option "size"');const N=new Uint8Array(H);return Object.setPrototypeOf(N,c.prototype),N}function c(H,N,R){if(typeof H=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return u(H,N,R)}c.poolSize=8192;function u(H,N,R){if(typeof H=="string")return w(H,N);if(ArrayBuffer.isView(H))return b(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(ae(H,ArrayBuffer)||H&&ae(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(H,SharedArrayBuffer)||H&&ae(H.buffer,SharedArrayBuffer)))return g(H,N,R);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=H.valueOf&&H.valueOf();if(Z!=null&&Z!==H)return c.from(Z,N,R);const re=x(H);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return c.from(H[Symbol.toPrimitive]("string"),N,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}c.from=function(H,N,R){return u(H,N,R)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function m(H,N,R){return f(H),H<=0?a(H):N!==void 0?typeof R=="string"?a(H).fill(N,R):a(H).fill(N):a(H)}c.alloc=function(H,N,R){return m(H,N,R)};function h(H){return f(H),a(H<0?0:E(H)|0)}c.allocUnsafe=function(H){return h(H)},c.allocUnsafeSlow=function(H){return h(H)};function w(H,N){if((typeof N!="string"||N==="")&&(N="utf8"),!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const R=C(H,N)|0;let Z=a(R);const re=Z.write(H,N);return re!==R&&(Z=Z.slice(0,re)),Z}function y(H){const N=H.length<0?0:E(H.length)|0,R=a(N);for(let Z=0;Z<N;Z+=1)R[Z]=H[Z]&255;return R}function b(H){if(ae(H,Uint8Array)){const N=new Uint8Array(H);return g(N.buffer,N.byteOffset,N.byteLength)}return y(H)}function g(H,N,R){if(N<0||H.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<N+(R||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return N===void 0&&R===void 0?Z=new Uint8Array(H):R===void 0?Z=new Uint8Array(H,N):Z=new Uint8Array(H,N,R),Object.setPrototypeOf(Z,c.prototype),Z}function x(H){if(c.isBuffer(H)){const N=E(H.length)|0,R=a(N);return R.length===0||H.copy(R,0,0,N),R}if(H.length!==void 0)return typeof H.length!="number"||Te(H.length)?a(0):y(H);if(H.type==="Buffer"&&Array.isArray(H.data))return y(H.data)}function E(H){if(H>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return H|0}function k(H){return+H!=H&&(H=0),c.alloc(+H)}c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,R){if(ae(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),ae(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(N)||!c.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===R)return 0;let Z=N.length,re=R.length;for(let ue=0,he=Math.min(Z,re);ue<he;++ue)if(N[ue]!==R[ue]){Z=N[ue],re=R[ue];break}return Z<re?-1:re<Z?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,R){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);let Z;if(R===void 0)for(R=0,Z=0;Z<N.length;++Z)R+=N[Z].length;const re=c.allocUnsafe(R);let ue=0;for(Z=0;Z<N.length;++Z){let he=N[Z];if(ae(he,Uint8Array))ue+he.length>re.length?(c.isBuffer(he)||(he=c.from(he)),he.copy(re,ue)):Uint8Array.prototype.set.call(re,he,ue);else if(c.isBuffer(he))he.copy(re,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=he.length}return re};function C(H,N){if(c.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||ae(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const R=H.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&R===0)return 0;let re=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Y(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return be(H).length;default:if(re)return Z?-1:Y(H).length;N=(""+N).toLowerCase(),re=!0}}c.byteLength=C;function A(H,N,R){let Z=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,N>>>=0,R<=N))return"";for(H||(H="utf8");;)switch(H){case"hex":return K(this,N,R);case"utf8":case"utf-8":return P(this,N,R);case"ascii":return J(this,N,R);case"latin1":case"binary":return ee(this,N,R);case"base64":return V(this,N,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,N,R);default:if(Z)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),Z=!0}}c.prototype._isBuffer=!0;function j(H,N,R){const Z=H[N];H[N]=H[R],H[R]=Z}c.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<N;R+=2)j(this,R,R+1);return this},c.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<N;R+=4)j(this,R,R+3),j(this,R+1,R+2);return this},c.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<N;R+=8)j(this,R,R+7),j(this,R+1,R+6),j(this,R+2,R+5),j(this,R+3,R+4);return this},c.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?P(this,0,N):A.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(N){if(!c.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:c.compare(this,N)===0},c.prototype.inspect=function(){let N="";const R=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(N+=" ... "),"<Buffer "+N+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(N,R,Z,re,ue){if(ae(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(R===void 0&&(R=0),Z===void 0&&(Z=N?N.length:0),re===void 0&&(re=0),ue===void 0&&(ue=this.length),R<0||Z>N.length||re<0||ue>this.length)throw new RangeError("out of range index");if(re>=ue&&R>=Z)return 0;if(re>=ue)return-1;if(R>=Z)return 1;if(R>>>=0,Z>>>=0,re>>>=0,ue>>>=0,this===N)return 0;let he=ue-re,Xe=Z-R;const yt=Math.min(he,Xe),ot=this.slice(re,ue),pt=N.slice(R,Z);for(let lt=0;lt<yt;++lt)if(ot[lt]!==pt[lt]){he=ot[lt],Xe=pt[lt];break}return he<Xe?-1:Xe<he?1:0};function L(H,N,R,Z,re){if(H.length===0)return-1;if(typeof R=="string"?(Z=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,Te(R)&&(R=re?0:H.length-1),R<0&&(R=H.length+R),R>=H.length){if(re)return-1;R=H.length-1}else if(R<0)if(re)R=0;else return-1;if(typeof N=="string"&&(N=c.from(N,Z)),c.isBuffer(N))return N.length===0?-1:D(H,N,R,Z,re);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(H,N,R):Uint8Array.prototype.lastIndexOf.call(H,N,R):D(H,[N],R,Z,re);throw new TypeError("val must be string, number or Buffer")}function D(H,N,R,Z,re){let ue=1,he=H.length,Xe=N.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(H.length<2||N.length<2)return-1;ue=2,he/=2,Xe/=2,R/=2}function yt(pt,lt){return ue===1?pt[lt]:pt.readUInt16BE(lt*ue)}let ot;if(re){let pt=-1;for(ot=R;ot<he;ot++)if(yt(H,ot)===yt(N,pt===-1?0:ot-pt)){if(pt===-1&&(pt=ot),ot-pt+1===Xe)return pt*ue}else pt!==-1&&(ot-=ot-pt),pt=-1}else for(R+Xe>he&&(R=he-Xe),ot=R;ot>=0;ot--){let pt=!0;for(let lt=0;lt<Xe;lt++)if(yt(H,ot+lt)!==yt(N,lt)){pt=!1;break}if(pt)return ot}return-1}c.prototype.includes=function(N,R,Z){return this.indexOf(N,R,Z)!==-1},c.prototype.indexOf=function(N,R,Z){return L(this,N,R,Z,!0)},c.prototype.lastIndexOf=function(N,R,Z){return L(this,N,R,Z,!1)};function B(H,N,R,Z){R=Number(R)||0;const re=H.length-R;Z?(Z=Number(Z),Z>re&&(Z=re)):Z=re;const ue=N.length;Z>ue/2&&(Z=ue/2);let he;for(he=0;he<Z;++he){const Xe=parseInt(N.substr(he*2,2),16);if(Te(Xe))return he;H[R+he]=Xe}return he}function O(H,N,R,Z){return Ee(Y(N,H.length-R),H,R,Z)}function F(H,N,R,Z){return Ee(G(N),H,R,Z)}function W(H,N,R,Z){return Ee(be(N),H,R,Z)}function M(H,N,R,Z){return Ee(ie(N,H.length-R),H,R,Z)}c.prototype.write=function(N,R,Z,re){if(R===void 0)re="utf8",Z=this.length,R=0;else if(Z===void 0&&typeof R=="string")re=R,Z=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(Z)?(Z=Z>>>0,re===void 0&&(re="utf8")):(re=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-R;if((Z===void 0||Z>ue)&&(Z=ue),N.length>0&&(Z<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let he=!1;for(;;)switch(re){case"hex":return B(this,N,R,Z);case"utf8":case"utf-8":return O(this,N,R,Z);case"ascii":case"latin1":case"binary":return F(this,N,R,Z);case"base64":return W(this,N,R,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,N,R,Z);default:if(he)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),he=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(H,N,R){return N===0&&R===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(N,R))}function P(H,N,R){R=Math.min(H.length,R);const Z=[];let re=N;for(;re<R;){const ue=H[re];let he=null,Xe=ue>239?4:ue>223?3:ue>191?2:1;if(re+Xe<=R){let yt,ot,pt,lt;switch(Xe){case 1:ue<128&&(he=ue);break;case 2:yt=H[re+1],(yt&192)===128&&(lt=(ue&31)<<6|yt&63,lt>127&&(he=lt));break;case 3:yt=H[re+1],ot=H[re+2],(yt&192)===128&&(ot&192)===128&&(lt=(ue&15)<<12|(yt&63)<<6|ot&63,lt>2047&&(lt<55296||lt>57343)&&(he=lt));break;case 4:yt=H[re+1],ot=H[re+2],pt=H[re+3],(yt&192)===128&&(ot&192)===128&&(pt&192)===128&&(lt=(ue&15)<<18|(yt&63)<<12|(ot&63)<<6|pt&63,lt>65535&&lt<1114112&&(he=lt))}}he===null?(he=65533,Xe=1):he>65535&&(he-=65536,Z.push(he>>>10&1023|55296),he=56320|he&1023),Z.push(he),re+=Xe}return X(Z)}const U=4096;function X(H){const N=H.length;if(N<=U)return String.fromCharCode.apply(String,H);let R="",Z=0;for(;Z<N;)R+=String.fromCharCode.apply(String,H.slice(Z,Z+=U));return R}function J(H,N,R){let Z="";R=Math.min(H.length,R);for(let re=N;re<R;++re)Z+=String.fromCharCode(H[re]&127);return Z}function ee(H,N,R){let Z="";R=Math.min(H.length,R);for(let re=N;re<R;++re)Z+=String.fromCharCode(H[re]);return Z}function K(H,N,R){const Z=H.length;(!N||N<0)&&(N=0),(!R||R<0||R>Z)&&(R=Z);let re="";for(let ue=N;ue<R;++ue)re+=Le[H[ue]];return re}function oe(H,N,R){const Z=H.slice(N,R);let re="";for(let ue=0;ue<Z.length-1;ue+=2)re+=String.fromCharCode(Z[ue]+Z[ue+1]*256);return re}c.prototype.slice=function(N,R){const Z=this.length;N=~~N,R=R===void 0?Z:~~R,N<0?(N+=Z,N<0&&(N=0)):N>Z&&(N=Z),R<0?(R+=Z,R<0&&(R=0)):R>Z&&(R=Z),R<N&&(R=N);const re=this.subarray(N,R);return Object.setPrototypeOf(re,c.prototype),re};function z(H,N,R){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+N>R)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(N,R,Z){N=N>>>0,R=R>>>0,Z||z(N,R,this.length);let re=this[N],ue=1,he=0;for(;++he<R&&(ue*=256);)re+=this[N+he]*ue;return re},c.prototype.readUintBE=c.prototype.readUIntBE=function(N,R,Z){N=N>>>0,R=R>>>0,Z||z(N,R,this.length);let re=this[N+--R],ue=1;for(;R>0&&(ue*=256);)re+=this[N+--R]*ue;return re},c.prototype.readUint8=c.prototype.readUInt8=function(N,R){return N=N>>>0,R||z(N,1,this.length),this[N]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(N,R){return N=N>>>0,R||z(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(N,R){return N=N>>>0,R||z(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(N,R){return N=N>>>0,R||z(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(N,R){return N=N>>>0,R||z(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readBigUInt64LE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],Z=this[N+7];(R===void 0||Z===void 0)&&I(N,this.length-8);const re=R+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,ue=this[++N]+this[++N]*2**8+this[++N]*2**16+Z*2**24;return BigInt(re)+(BigInt(ue)<<BigInt(32))}),c.prototype.readBigUInt64BE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],Z=this[N+7];(R===void 0||Z===void 0)&&I(N,this.length-8);const re=R*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],ue=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Z;return(BigInt(re)<<BigInt(32))+BigInt(ue)}),c.prototype.readIntLE=function(N,R,Z){N=N>>>0,R=R>>>0,Z||z(N,R,this.length);let re=this[N],ue=1,he=0;for(;++he<R&&(ue*=256);)re+=this[N+he]*ue;return ue*=128,re>=ue&&(re-=Math.pow(2,8*R)),re},c.prototype.readIntBE=function(N,R,Z){N=N>>>0,R=R>>>0,Z||z(N,R,this.length);let re=R,ue=1,he=this[N+--re];for(;re>0&&(ue*=256);)he+=this[N+--re]*ue;return ue*=128,he>=ue&&(he-=Math.pow(2,8*R)),he},c.prototype.readInt8=function(N,R){return N=N>>>0,R||z(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},c.prototype.readInt16LE=function(N,R){N=N>>>0,R||z(N,2,this.length);const Z=this[N]|this[N+1]<<8;return Z&32768?Z|4294901760:Z},c.prototype.readInt16BE=function(N,R){N=N>>>0,R||z(N,2,this.length);const Z=this[N+1]|this[N]<<8;return Z&32768?Z|4294901760:Z},c.prototype.readInt32LE=function(N,R){return N=N>>>0,R||z(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,R){return N=N>>>0,R||z(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readBigInt64LE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],Z=this[N+7];(R===void 0||Z===void 0)&&I(N,this.length-8);const re=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(Z<<24);return(BigInt(re)<<BigInt(32))+BigInt(R+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),c.prototype.readBigInt64BE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],Z=this[N+7];(R===void 0||Z===void 0)&&I(N,this.length-8);const re=(R<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(re)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Z)}),c.prototype.readFloatLE=function(N,R){return N=N>>>0,R||z(N,4,this.length),n.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,R){return N=N>>>0,R||z(N,4,this.length),n.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,R){return N=N>>>0,R||z(N,8,this.length),n.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,R){return N=N>>>0,R||z(N,8,this.length),n.read(this,N,!1,52,8)};function q(H,N,R,Z,re,ue){if(!c.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>re||N<ue)throw new RangeError('"value" argument is out of bounds');if(R+Z>H.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(N,R,Z,re){if(N=+N,R=R>>>0,Z=Z>>>0,!re){const Xe=Math.pow(2,8*Z)-1;q(this,N,R,Z,Xe,0)}let ue=1,he=0;for(this[R]=N&255;++he<Z&&(ue*=256);)this[R+he]=N/ue&255;return R+Z},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(N,R,Z,re){if(N=+N,R=R>>>0,Z=Z>>>0,!re){const Xe=Math.pow(2,8*Z)-1;q(this,N,R,Z,Xe,0)}let ue=Z-1,he=1;for(this[R+ue]=N&255;--ue>=0&&(he*=256);)this[R+ue]=N/he&255;return R+Z},c.prototype.writeUint8=c.prototype.writeUInt8=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,1,255,0),this[R]=N&255,R+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,2,65535,0),this[R]=N&255,this[R+1]=N>>>8,R+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,2,65535,0),this[R]=N>>>8,this[R+1]=N&255,R+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,4,4294967295,0),this[R+3]=N>>>24,this[R+2]=N>>>16,this[R+1]=N>>>8,this[R]=N&255,R+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,4,4294967295,0),this[R]=N>>>24,this[R+1]=N>>>16,this[R+2]=N>>>8,this[R+3]=N&255,R+4};function ge(H,N,R,Z,re){Ke(N,Z,re,H,R,7);let ue=Number(N&BigInt(4294967295));H[R++]=ue,ue=ue>>8,H[R++]=ue,ue=ue>>8,H[R++]=ue,ue=ue>>8,H[R++]=ue;let he=Number(N>>BigInt(32)&BigInt(4294967295));return H[R++]=he,he=he>>8,H[R++]=he,he=he>>8,H[R++]=he,he=he>>8,H[R++]=he,R}function pe(H,N,R,Z,re){Ke(N,Z,re,H,R,7);let ue=Number(N&BigInt(4294967295));H[R+7]=ue,ue=ue>>8,H[R+6]=ue,ue=ue>>8,H[R+5]=ue,ue=ue>>8,H[R+4]=ue;let he=Number(N>>BigInt(32)&BigInt(4294967295));return H[R+3]=he,he=he>>8,H[R+2]=he,he=he>>8,H[R+1]=he,he=he>>8,H[R]=he,R+8}c.prototype.writeBigUInt64LE=Ne(function(N,R=0){return ge(this,N,R,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Ne(function(N,R=0){return pe(this,N,R,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(N,R,Z,re){if(N=+N,R=R>>>0,!re){const yt=Math.pow(2,8*Z-1);q(this,N,R,Z,yt-1,-yt)}let ue=0,he=1,Xe=0;for(this[R]=N&255;++ue<Z&&(he*=256);)N<0&&Xe===0&&this[R+ue-1]!==0&&(Xe=1),this[R+ue]=(N/he>>0)-Xe&255;return R+Z},c.prototype.writeIntBE=function(N,R,Z,re){if(N=+N,R=R>>>0,!re){const yt=Math.pow(2,8*Z-1);q(this,N,R,Z,yt-1,-yt)}let ue=Z-1,he=1,Xe=0;for(this[R+ue]=N&255;--ue>=0&&(he*=256);)N<0&&Xe===0&&this[R+ue+1]!==0&&(Xe=1),this[R+ue]=(N/he>>0)-Xe&255;return R+Z},c.prototype.writeInt8=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,1,127,-128),N<0&&(N=255+N+1),this[R]=N&255,R+1},c.prototype.writeInt16LE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,2,32767,-32768),this[R]=N&255,this[R+1]=N>>>8,R+2},c.prototype.writeInt16BE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,2,32767,-32768),this[R]=N>>>8,this[R+1]=N&255,R+2},c.prototype.writeInt32LE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,4,2147483647,-2147483648),this[R]=N&255,this[R+1]=N>>>8,this[R+2]=N>>>16,this[R+3]=N>>>24,R+4},c.prototype.writeInt32BE=function(N,R,Z){return N=+N,R=R>>>0,Z||q(this,N,R,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[R]=N>>>24,this[R+1]=N>>>16,this[R+2]=N>>>8,this[R+3]=N&255,R+4},c.prototype.writeBigInt64LE=Ne(function(N,R=0){return ge(this,N,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Ne(function(N,R=0){return pe(this,N,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(H,N,R,Z,re,ue){if(R+Z>H.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Ae(H,N,R,Z,re){return N=+N,R=R>>>0,re||me(H,N,R,4),n.write(H,N,R,Z,23,4),R+4}c.prototype.writeFloatLE=function(N,R,Z){return Ae(this,N,R,!0,Z)},c.prototype.writeFloatBE=function(N,R,Z){return Ae(this,N,R,!1,Z)};function we(H,N,R,Z,re){return N=+N,R=R>>>0,re||me(H,N,R,8),n.write(H,N,R,Z,52,8),R+8}c.prototype.writeDoubleLE=function(N,R,Z){return we(this,N,R,!0,Z)},c.prototype.writeDoubleBE=function(N,R,Z){return we(this,N,R,!1,Z)},c.prototype.copy=function(N,R,Z,re){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!re&&re!==0&&(re=this.length),R>=N.length&&(R=N.length),R||(R=0),re>0&&re<Z&&(re=Z),re===Z||N.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),N.length-R<re-Z&&(re=N.length-R+Z);const ue=re-Z;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,Z,re):Uint8Array.prototype.set.call(N,this.subarray(Z,re),R),ue},c.prototype.fill=function(N,R,Z,re){if(typeof N=="string"){if(typeof R=="string"?(re=R,R=0,Z=this.length):typeof Z=="string"&&(re=Z,Z=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!c.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(N.length===1){const he=N.charCodeAt(0);(re==="utf8"&&he<128||re==="latin1")&&(N=he)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(R<0||this.length<R||this.length<Z)throw new RangeError("Out of range index");if(Z<=R)return this;R=R>>>0,Z=Z===void 0?this.length:Z>>>0,N||(N=0);let ue;if(typeof N=="number")for(ue=R;ue<Z;++ue)this[ue]=N;else{const he=c.isBuffer(N)?N:c.from(N,re),Xe=he.length;if(Xe===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ue=0;ue<Z-R;++ue)this[ue+R]=he[ue%Xe]}return this};const xe={};function Se(H,N,R){xe[H]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(H,N){return`The "${H}" argument must be of type number. Received type ${typeof N}`},TypeError),Se("ERR_OUT_OF_RANGE",function(H,N,R){let Z=`The value of "${H}" is out of range.`,re=R;return Number.isInteger(R)&&Math.abs(R)>2**32?re=je(String(R)):typeof R=="bigint"&&(re=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(re=je(re)),re+="n"),Z+=` It must be ${N}. Received ${re}`,Z},RangeError);function je(H){let N="",R=H.length;const Z=H[0]==="-"?1:0;for(;R>=Z+4;R-=3)N=`_${H.slice(R-3,R)}${N}`;return`${H.slice(0,R)}${N}`}function Ue(H,N,R){Ye(N,"offset"),(H[N]===void 0||H[N+R]===void 0)&&I(N,H.length-(R+1))}function Ke(H,N,R,Z,re,ue){if(H>R||H<N){const he=typeof N=="bigint"?"n":"";let Xe;throw N===0||N===BigInt(0)?Xe=`>= 0${he} and < 2${he} ** ${(ue+1)*8}${he}`:Xe=`>= -(2${he} ** ${(ue+1)*8-1}${he}) and < 2 ** ${(ue+1)*8-1}${he}`,new xe.ERR_OUT_OF_RANGE("value",Xe,H)}Ue(Z,re,ue)}function Ye(H,N){if(typeof H!="number")throw new xe.ERR_INVALID_ARG_TYPE(N,"number",H)}function I(H,N,R){throw Math.floor(H)!==H?(Ye(H,R),new xe.ERR_OUT_OF_RANGE("offset","an integer",H)):N<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,H)}const ye=/[^+/0-9A-Za-z-_]/g;function de(H){if(H=H.split("=")[0],H=H.trim().replace(ye,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Y(H,N){N=N||1/0;let R;const Z=H.length;let re=null;const ue=[];for(let he=0;he<Z;++he){if(R=H.charCodeAt(he),R>55295&&R<57344){if(!re){if(R>56319){(N-=3)>-1&&ue.push(239,191,189);continue}else if(he+1===Z){(N-=3)>-1&&ue.push(239,191,189);continue}re=R;continue}if(R<56320){(N-=3)>-1&&ue.push(239,191,189),re=R;continue}R=(re-55296<<10|R-56320)+65536}else re&&(N-=3)>-1&&ue.push(239,191,189);if(re=null,R<128){if((N-=1)<0)break;ue.push(R)}else if(R<2048){if((N-=2)<0)break;ue.push(R>>6|192,R&63|128)}else if(R<65536){if((N-=3)<0)break;ue.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((N-=4)<0)break;ue.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ue}function G(H){const N=[];for(let R=0;R<H.length;++R)N.push(H.charCodeAt(R)&255);return N}function ie(H,N){let R,Z,re;const ue=[];for(let he=0;he<H.length&&!((N-=2)<0);++he)R=H.charCodeAt(he),Z=R>>8,re=R%256,ue.push(re),ue.push(Z);return ue}function be(H){return t.toByteArray(de(H))}function Ee(H,N,R,Z){let re;for(re=0;re<Z&&!(re+R>=N.length||re>=H.length);++re)N[re+R]=H[re];return re}function ae(H,N){return H instanceof N||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===N.name}function Te(H){return H!==H}const Le=function(){const H="0123456789abcdef",N=new Array(256);for(let R=0;R<16;++R){const Z=R*16;for(let re=0;re<16;++re)N[Z+re]=H[R]+H[re]}return N}();function Ne(H){return typeof BigInt>"u"?qe:H}function qe(){throw new Error("BigInt not supported")}}(Wp)),Wp}var u4=c4();const d4=tf(u4);globalThis.Buffer||(globalThis.Buffer=d4.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const o=new AbortController;return o.abort(r.reason),o.signal}const t=new AbortController,n=r=>{const o=r.target;t.abort(o.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var _=nf();const Xo=tf(_),gy=Qj({__proto__:null,default:Xo},[_]);class f4 extends _.Component{constructor(n){super(n);Ie(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsxs("div",{className:"max-w-md w-full space-y-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),p.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),p.jsx("div",{className:"bg-muted p-4 rounded-lg",children:p.jsxs("details",{className:"text-sm",children:[p.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),p.jsxs("div",{className:"mt-2 space-y-2",children:[p.jsxs("div",{children:[p.jsx("strong",{className:"text-foreground",children:"Message:"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&p.jsxs("div",{children:[p.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),p.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),p.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Ma=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},li=typeof window>"u"||"Deno"in globalThis;function tr(){}function h4(e,t){return typeof e=="function"?e(t):e}function Qm(e){return typeof e=="number"&&e>=0&&e!==1/0}function dE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sa(e,t){return typeof e=="function"?e(t):e}function xr(e,t){return typeof e=="function"?e(t):e}function c1(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:a,stale:c}=e;if(a){if(r){if(t.queryHash!==yy(a,t.options))return!1}else if(!rc(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||o&&o!==t.state.fetchStatus||i&&!i(t))}function u1(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ci(t.options.mutationKey)!==ci(i))return!1}else if(!rc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function yy(e,t){return((t==null?void 0:t.queryKeyHashFn)||ci)(e)}function ci(e){return JSON.stringify(e,(t,n)=>Xm(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function rc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>rc(e[n],t[n])):!1}function fE(e,t){if(e===t)return e;const n=d1(e)&&d1(t);if(n||Xm(e)&&Xm(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),a=i.length,c=n?[]:{};let u=0;for(let f=0;f<a;f++){const m=n?f:i[f];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(c[m]=void 0,u++):(c[m]=fE(e[m],t[m]),c[m]===e[m]&&e[m]!==void 0&&u++)}return o===a&&u===o?e:c}return t}function kd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function d1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xm(e){if(!f1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!f1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function f1(e){return Object.prototype.toString.call(e)==="[object Object]"}function p4(e){return new Promise(t=>{setTimeout(t,e)})}function eg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?fE(e,t):t}function m4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function g4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vy=Symbol();function hE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ys,ns,fa,Q2,y4=(Q2=class extends Ma{constructor(){super();We(this,Ys);We(this,ns);We(this,fa);Me(this,fa,t=>{if(!li&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,ns)||this.setEventListener(te(this,fa))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ns))==null||t.call(this),Me(this,ns,void 0))}setEventListener(t){var n;Me(this,fa,t),(n=te(this,ns))==null||n.call(this),Me(this,ns,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){te(this,Ys)!==t&&(Me(this,Ys,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof te(this,Ys)=="boolean"?te(this,Ys):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ys=new WeakMap,ns=new WeakMap,fa=new WeakMap,Q2),wy=new y4,ha,rs,pa,X2,v4=(X2=class extends Ma{constructor(){super();We(this,ha,!0);We(this,rs);We(this,pa);Me(this,pa,t=>{if(!li&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,rs)||this.setEventListener(te(this,pa))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,rs))==null||t.call(this),Me(this,rs,void 0))}setEventListener(t){var n;Me(this,pa,t),(n=te(this,rs))==null||n.call(this),Me(this,rs,t(this.setOnline.bind(this)))}setOnline(t){te(this,ha)!==t&&(Me(this,ha,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return te(this,ha)}},ha=new WeakMap,rs=new WeakMap,pa=new WeakMap,X2),Cd=new v4;function tg(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function w4(e){return Math.min(1e3*2**e,3e4)}function pE(e){return(e??"online")==="online"?Cd.isOnline():!0}var mE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Vp(e){return e instanceof mE}function gE(e){let t=!1,n=0,r=!1,o;const i=tg(),a=g=>{var x;r||(w(new mE(g)),(x=e.abort)==null||x.call(e))},c=()=>{t=!0},u=()=>{t=!1},f=()=>wy.isFocused()&&(e.networkMode==="always"||Cd.isOnline())&&e.canRun(),m=()=>pE(e.networkMode)&&e.canRun(),h=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),o==null||o(),i.resolve(g))},w=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),o==null||o(),i.reject(g))},y=()=>new Promise(g=>{var x;o=E=>{(r||f())&&g(E)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;o=void 0,r||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(r)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(h).catch(E=>{var L;if(r)return;const k=e.retry??(li?0:3),C=e.retryDelay??w4,A=typeof C=="function"?C(n,E):C,j=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,E);if(t||!j){w(E);return}n++,(L=e.onFail)==null||L.call(e,n,E),p4(A).then(()=>f()?void 0:y()).then(()=>{t?w(E):b()})})};return{promise:i,cancel:a,continue:()=>(o==null||o(),i),cancelRetry:c,continueRetry:u,canStart:m,start:()=>(m()?b():y().then(b),i)}}var x4=e=>setTimeout(e,0);function b4(){let e=[],t=0,n=c=>{c()},r=c=>{c()},o=x4;const i=c=>{t?e.push(c):o(()=>{n(c)})},a=()=>{const c=e;e=[],c.length&&o(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{o=c}}}var qt=b4(),Js,eE,yE=(eE=class{constructor(){We(this,Js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qm(this.gcTime)&&Me(this,Js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(li?1/0:5*60*1e3))}clearGcTimeout(){te(this,Js)&&(clearTimeout(te(this,Js)),Me(this,Js,void 0))}},Js=new WeakMap,eE),ma,ga,er,Qs,cn,Ec,Xs,vr,oo,tE,E4=(tE=class extends yE{constructor(t){super();We(this,vr);We(this,ma);We(this,ga);We(this,er);We(this,Qs);We(this,cn);We(this,Ec);We(this,Xs);Me(this,Xs,!1),Me(this,Ec,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Qs,t.client),Me(this,er,te(this,Qs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,ma,_4(this.options)),this.state=t.state??te(this,ma),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,cn))==null?void 0:t.promise}setOptions(t){this.options={...te(this,Ec),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,er).remove(this)}setData(t,n){const r=eg(this.state.data,t,this.options);return et(this,vr,oo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){et(this,vr,oo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=te(this,cn))==null?void 0:r.promise;return(o=te(this,cn))==null||o.cancel(t),n?n.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,ma))}isActive(){return this.observers.some(t=>xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!dE(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=te(this,cn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=te(this,cn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(te(this,cn)&&(te(this,Xs)?te(this,cn).cancel({revert:!0}):te(this,cn).cancelRetry()),this.scheduleGc()),te(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,vr,oo).call(this,{type:"invalidate"})}fetch(t,n){var u,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,cn))return te(this,cn).continueRetry(),te(this,cn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(w=>w.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Me(this,Xs,!0),r.signal)})},i=()=>{const h=hE(this.options,n),w={client:te(this,Qs),queryKey:this.queryKey,meta:this.meta};return o(w),Me(this,Xs,!1),this.options.persister?this.options.persister(h,w,this):h(w)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:te(this,Qs),state:this.state,fetchFn:i};o(a),(u=this.options.behavior)==null||u.onFetch(a,this),Me(this,ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&et(this,vr,oo).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const c=h=>{var w,y,b,g;Vp(h)&&h.silent||et(this,vr,oo).call(this,{type:"error",error:h}),Vp(h)||((y=(w=te(this,er).config).onError)==null||y.call(w,h,this),(g=(b=te(this,er).config).onSettled)==null||g.call(b,this.state.data,h,this)),this.scheduleGc()};return Me(this,cn,gE({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var w,y,b,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(y=(w=te(this,er).config).onSuccess)==null||y.call(w,h,this),(g=(b=te(this,er).config).onSettled)==null||g.call(b,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,w)=>{et(this,vr,oo).call(this,{type:"failed",failureCount:h,error:w})},onPause:()=>{et(this,vr,oo).call(this,{type:"pause"})},onContinue:()=>{et(this,vr,oo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),te(this,cn).start()}},ma=new WeakMap,ga=new WeakMap,er=new WeakMap,Qs=new WeakMap,cn=new WeakMap,Ec=new WeakMap,Xs=new WeakMap,vr=new WeakSet,oo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vE(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Vp(o)&&o.revert&&te(this,ga)?{...te(this,ga),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),te(this,er).notify({query:this,type:"updated",action:t})})},tE);function vE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dr,nE,S4=(nE=class extends Ma{constructor(t={}){super();We(this,Dr);this.config=t,Me(this,Dr,new Map)}build(t,n,r){const o=n.queryKey,i=n.queryHash??yy(o,n);let a=this.get(i);return a||(a=new E4({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(a)),a}add(t){te(this,Dr).has(t.queryHash)||(te(this,Dr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=te(this,Dr).get(t.queryHash);n&&(t.destroy(),n===t&&te(this,Dr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,Dr).get(t)}getAll(){return[...te(this,Dr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>c1(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>c1(t,r)):n}notify(t){qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dr=new WeakMap,nE),zr,yn,ei,Br,es,rE,k4=(rE=class extends yE{constructor(t){super();We(this,Br);We(this,zr);We(this,yn);We(this,ei);this.mutationId=t.mutationId,Me(this,yn,t.mutationCache),Me(this,zr,[]),this.state=t.state||wE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,zr).includes(t)||(te(this,zr).push(t),this.clearGcTimeout(),te(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,zr,te(this,zr).filter(n=>n!==t)),this.scheduleGc(),te(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,zr).length||(this.state.status==="pending"?this.scheduleGc():te(this,yn).remove(this))}continue(){var t;return((t=te(this,ei))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,c,u,f,m,h,w,y,b,g,x,E,k,C,A,j,L,D,B;const n=()=>{et(this,Br,es).call(this,{type:"continue"})};Me(this,ei,gE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,F)=>{et(this,Br,es).call(this,{type:"failed",failureCount:O,error:F})},onPause:()=>{et(this,Br,es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,yn).canRun(this)}));const r=this.state.status==="pending",o=!te(this,ei).canStart();try{if(r)n();else{et(this,Br,es).call(this,{type:"pending",variables:t,isPaused:o}),await((a=(i=te(this,yn).config).onMutate)==null?void 0:a.call(i,t,this));const F=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));F!==this.state.context&&et(this,Br,es).call(this,{type:"pending",context:F,variables:t,isPaused:o})}const O=await te(this,ei).start();return await((m=(f=te(this,yn).config).onSuccess)==null?void 0:m.call(f,O,t,this.state.context,this)),await((w=(h=this.options).onSuccess)==null?void 0:w.call(h,O,t,this.state.context)),await((b=(y=te(this,yn).config).onSettled)==null?void 0:b.call(y,O,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,O,null,t,this.state.context)),et(this,Br,es).call(this,{type:"success",data:O}),O}catch(O){try{throw await((k=(E=te(this,yn).config).onError)==null?void 0:k.call(E,O,t,this.state.context,this)),await((A=(C=this.options).onError)==null?void 0:A.call(C,O,t,this.state.context)),await((L=(j=te(this,yn).config).onSettled)==null?void 0:L.call(j,void 0,O,this.state.variables,this.state.context,this)),await((B=(D=this.options).onSettled)==null?void 0:B.call(D,void 0,O,t,this.state.context)),O}finally{et(this,Br,es).call(this,{type:"error",error:O})}}finally{te(this,yn).runNext(this)}}},zr=new WeakMap,yn=new WeakMap,ei=new WeakMap,Br=new WeakSet,es=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qt.batch(()=>{te(this,zr).forEach(r=>{r.onMutationUpdate(t)}),te(this,yn).notify({mutation:this,type:"updated",action:t})})},rE);function wE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var io,wr,_c,oE,C4=(oE=class extends Ma{constructor(t={}){super();We(this,io);We(this,wr);We(this,_c);this.config=t,Me(this,io,new Set),Me(this,wr,new Map),Me(this,_c,0)}build(t,n,r){const o=new k4({mutationCache:this,mutationId:++Gu(this,_c)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){te(this,io).add(t);const n=Xu(t);if(typeof n=="string"){const r=te(this,wr).get(n);r?r.push(t):te(this,wr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,io).delete(t)){const n=Xu(t);if(typeof n=="string"){const r=te(this,wr).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&te(this,wr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Xu(t);if(typeof n=="string"){const r=te(this,wr).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=Xu(t);if(typeof n=="string"){const o=(r=te(this,wr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{te(this,io).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,io).clear(),te(this,wr).clear()})}getAll(){return Array.from(te(this,io))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>u1(n,r))}findAll(t={}){return this.getAll().filter(n=>u1(t,n))}notify(t){qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return qt.batch(()=>Promise.all(t.map(n=>n.continue().catch(tr))))}},io=new WeakMap,wr=new WeakMap,_c=new WeakMap,oE);function Xu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function h1(e){return{onFetch:(t,n)=>{var m,h,w,y,b;const r=t.options,o=(w=(h=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:h.fetchMore)==null?void 0:w.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],a=((b=t.state.data)==null?void 0:b.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const f=async()=>{let g=!1;const x=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},E=hE(t.options,t.fetchOptions),k=async(C,A,j)=>{if(g)return Promise.reject();if(A==null&&C.pages.length)return Promise.resolve(C);const L={client:t.client,queryKey:t.queryKey,pageParam:A,direction:j?"backward":"forward",meta:t.options.meta};x(L);const D=await E(L),{maxPages:B}=t.options,O=j?g4:m4;return{pages:O(C.pages,D,B),pageParams:O(C.pageParams,A,B)}};if(o&&i.length){const C=o==="backward",A=C?N4:p1,j={pages:i,pageParams:a},L=A(r,j);c=await k(j,L,C)}else{const C=e??i.length;do{const A=u===0?a[0]??r.initialPageParam:p1(r,c);if(u>0&&A==null)break;c=await k(c,A),u++}while(u<C)}return c};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function p1(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function N4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var It,os,ss,ya,va,is,wa,xa,sE,T4=(sE=class{constructor(e={}){We(this,It);We(this,os);We(this,ss);We(this,ya);We(this,va);We(this,is);We(this,wa);We(this,xa);Me(this,It,e.queryCache||new S4),Me(this,os,e.mutationCache||new C4),Me(this,ss,e.defaultOptions||{}),Me(this,ya,new Map),Me(this,va,new Map),Me(this,is,0)}mount(){Gu(this,is)._++,te(this,is)===1&&(Me(this,wa,wy.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,It).onFocus())})),Me(this,xa,Cd.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,It).onOnline())})))}unmount(){var e,t;Gu(this,is)._--,te(this,is)===0&&((e=te(this,wa))==null||e.call(this),Me(this,wa,void 0),(t=te(this,xa))==null||t.call(this),Me(this,xa,void 0))}isFetching(e){return te(this,It).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,os).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=te(this,It).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=te(this,It).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(sa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return te(this,It).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=te(this,It).get(r.queryHash),i=o==null?void 0:o.state.data,a=h4(t,i);if(a!==void 0)return te(this,It).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return qt.batch(()=>te(this,It).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=te(this,It).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=te(this,It);qt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=te(this,It);return qt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=qt.batch(()=>te(this,It).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(tr).catch(tr)}invalidateQueries(e,t={}){return qt.batch(()=>(te(this,It).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=qt.batch(()=>te(this,It).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(tr)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=te(this,It).build(this,t);return n.isStaleByTime(sa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tr).catch(tr)}fetchInfiniteQuery(e){return e.behavior=h1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tr).catch(tr)}ensureInfiniteQueryData(e){return e.behavior=h1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cd.isOnline()?te(this,os).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,It)}getMutationCache(){return te(this,os)}getDefaultOptions(){return te(this,ss)}setDefaultOptions(e){Me(this,ss,e)}setQueryDefaults(e,t){te(this,ya).set(ci(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,ya).values()],n={};return t.forEach(r=>{rc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){te(this,va).set(ci(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,va).values()],n={};return t.forEach(r=>{rc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,ss).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===vy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,ss).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,It).clear(),te(this,os).clear()}},It=new WeakMap,os=new WeakMap,ss=new WeakMap,ya=new WeakMap,va=new WeakMap,is=new WeakMap,wa=new WeakMap,xa=new WeakMap,sE),Tn,at,Sc,vn,ti,ba,as,ls,kc,Ea,_a,ni,ri,cs,Sa,ht,Kl,ng,rg,og,sg,ig,ag,lg,xE,iE,P4=(iE=class extends Ma{constructor(t,n){super();We(this,ht);We(this,Tn);We(this,at);We(this,Sc);We(this,vn);We(this,ti);We(this,ba);We(this,as);We(this,ls);We(this,kc);We(this,Ea);We(this,_a);We(this,ni);We(this,ri);We(this,cs);We(this,Sa,new Set);this.options=n,Me(this,Tn,t),Me(this,ls,null),Me(this,as,tg()),this.options.experimental_prefetchInRender||te(this,as).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,at).addObserver(this),m1(te(this,at),this.options)?et(this,ht,Kl).call(this):this.updateResult(),et(this,ht,sg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cg(te(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cg(te(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,et(this,ht,ig).call(this),et(this,ht,ag).call(this),te(this,at).removeObserver(this)}setOptions(t){const n=this.options,r=te(this,at);if(this.options=te(this,Tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xr(this.options.enabled,te(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");et(this,ht,lg).call(this),te(this,at).setOptions(this.options),n._defaulted&&!kd(this.options,n)&&te(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,at),observer:this});const o=this.hasListeners();o&&g1(te(this,at),r,this.options,n)&&et(this,ht,Kl).call(this),this.updateResult(),o&&(te(this,at)!==r||xr(this.options.enabled,te(this,at))!==xr(n.enabled,te(this,at))||sa(this.options.staleTime,te(this,at))!==sa(n.staleTime,te(this,at)))&&et(this,ht,ng).call(this);const i=et(this,ht,rg).call(this);o&&(te(this,at)!==r||xr(this.options.enabled,te(this,at))!==xr(n.enabled,te(this,at))||i!==te(this,cs))&&et(this,ht,og).call(this,i)}getOptimisticResult(t){const n=te(this,Tn).getQueryCache().build(te(this,Tn),t),r=this.createResult(n,t);return A4(this,r)&&(Me(this,vn,r),Me(this,ba,this.options),Me(this,ti,te(this,at).state)),r}getCurrentResult(){return te(this,vn)}trackResult(t,n){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(r,o))})}trackProp(t){te(this,Sa).add(t)}getCurrentQuery(){return te(this,at)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=te(this,Tn).defaultQueryOptions(t),r=te(this,Tn).getQueryCache().build(te(this,Tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return et(this,ht,Kl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,vn)))}createResult(t,n){var O;const r=te(this,at),o=this.options,i=te(this,vn),a=te(this,ti),c=te(this,ba),f=t!==r?t.state:te(this,Sc),{state:m}=t;let h={...m},w=!1,y;if(n._optimisticResults){const F=this.hasListeners(),W=!F&&m1(t,n),M=F&&g1(t,r,n,o);(W||M)&&(h={...h,...vE(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=h;y=h.data;let E=!1;if(n.placeholderData!==void 0&&y===void 0&&x==="pending"){let F;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(F=i.data,E=!0):F=typeof n.placeholderData=="function"?n.placeholderData((O=te(this,_a))==null?void 0:O.state.data,te(this,_a)):n.placeholderData,F!==void 0&&(x="success",y=eg(i==null?void 0:i.data,F,n),w=!0)}if(n.select&&y!==void 0&&!E)if(i&&y===(a==null?void 0:a.data)&&n.select===te(this,kc))y=te(this,Ea);else try{Me(this,kc,n.select),y=n.select(y),y=eg(i==null?void 0:i.data,y,n),Me(this,Ea,y),Me(this,ls,null)}catch(F){Me(this,ls,F)}te(this,ls)&&(b=te(this,ls),y=te(this,Ea),g=Date.now(),x="error");const k=h.fetchStatus==="fetching",C=x==="pending",A=x==="error",j=C&&k,L=y!==void 0,B={status:x,fetchStatus:h.fetchStatus,isPending:C,isSuccess:x==="success",isError:A,isInitialLoading:j,isLoading:j,data:y,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:A&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:A&&L,isStale:xy(t,n),refetch:this.refetch,promise:te(this,as)};if(this.options.experimental_prefetchInRender){const F=V=>{B.status==="error"?V.reject(B.error):B.data!==void 0&&V.resolve(B.data)},W=()=>{const V=Me(this,as,B.promise=tg());F(V)},M=te(this,as);switch(M.status){case"pending":t.queryHash===r.queryHash&&F(M);break;case"fulfilled":(B.status==="error"||B.data!==M.value)&&W();break;case"rejected":(B.status!=="error"||B.error!==M.reason)&&W();break}}return B}updateResult(){const t=te(this,vn),n=this.createResult(te(this,at),this.options);if(Me(this,ti,te(this,at).state),Me(this,ba,this.options),te(this,ti).data!==void 0&&Me(this,_a,te(this,at)),kd(n,t))return;Me(this,vn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!te(this,Sa).size)return!0;const a=new Set(i??te(this,Sa));return this.options.throwOnError&&a.add("error"),Object.keys(te(this,vn)).some(c=>{const u=c;return te(this,vn)[u]!==t[u]&&a.has(u)})};et(this,ht,xE).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&et(this,ht,sg).call(this)}},Tn=new WeakMap,at=new WeakMap,Sc=new WeakMap,vn=new WeakMap,ti=new WeakMap,ba=new WeakMap,as=new WeakMap,ls=new WeakMap,kc=new WeakMap,Ea=new WeakMap,_a=new WeakMap,ni=new WeakMap,ri=new WeakMap,cs=new WeakMap,Sa=new WeakMap,ht=new WeakSet,Kl=function(t){et(this,ht,lg).call(this);let n=te(this,at).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(tr)),n},ng=function(){et(this,ht,ig).call(this);const t=sa(this.options.staleTime,te(this,at));if(li||te(this,vn).isStale||!Qm(t))return;const r=dE(te(this,vn).dataUpdatedAt,t)+1;Me(this,ni,setTimeout(()=>{te(this,vn).isStale||this.updateResult()},r))},rg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,at)):this.options.refetchInterval)??!1},og=function(t){et(this,ht,ag).call(this),Me(this,cs,t),!(li||xr(this.options.enabled,te(this,at))===!1||!Qm(te(this,cs))||te(this,cs)===0)&&Me(this,ri,setInterval(()=>{(this.options.refetchIntervalInBackground||wy.isFocused())&&et(this,ht,Kl).call(this)},te(this,cs)))},sg=function(){et(this,ht,ng).call(this),et(this,ht,og).call(this,et(this,ht,rg).call(this))},ig=function(){te(this,ni)&&(clearTimeout(te(this,ni)),Me(this,ni,void 0))},ag=function(){te(this,ri)&&(clearInterval(te(this,ri)),Me(this,ri,void 0))},lg=function(){const t=te(this,Tn).getQueryCache().build(te(this,Tn),this.options);if(t===te(this,at))return;const n=te(this,at);Me(this,at,t),Me(this,Sc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},xE=function(t){qt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(te(this,vn))}),te(this,Tn).getQueryCache().notify({query:te(this,at),type:"observerResultsUpdated"})})},iE);function R4(e,t){return xr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function m1(e,t){return R4(e,t)||e.state.data!==void 0&&cg(e,t,t.refetchOnMount)}function cg(e,t,n){if(xr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&xy(e,t)}return!1}function g1(e,t,n,r){return(e!==t||xr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&xy(e,n)}function xy(e,t){return xr(t.enabled,e)!==!1&&e.isStaleByTime(sa(t.staleTime,e))}function A4(e,t){return!kd(e.getCurrentResult(),t)}var us,ds,Pn,ao,yo,yd,ug,aE,j4=(aE=class extends Ma{constructor(n,r){super();We(this,yo);We(this,us);We(this,ds);We(this,Pn);We(this,ao);Me(this,us,n),this.setOptions(r),this.bindMethods(),et(this,yo,yd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=te(this,us).defaultMutationOptions(n),kd(this.options,r)||te(this,us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,Pn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ci(r.mutationKey)!==ci(this.options.mutationKey)?this.reset():((o=te(this,Pn))==null?void 0:o.state.status)==="pending"&&te(this,Pn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=te(this,Pn))==null||n.removeObserver(this)}onMutationUpdate(n){et(this,yo,yd).call(this),et(this,yo,ug).call(this,n)}getCurrentResult(){return te(this,ds)}reset(){var n;(n=te(this,Pn))==null||n.removeObserver(this),Me(this,Pn,void 0),et(this,yo,yd).call(this),et(this,yo,ug).call(this)}mutate(n,r){var o;return Me(this,ao,r),(o=te(this,Pn))==null||o.removeObserver(this),Me(this,Pn,te(this,us).getMutationCache().build(te(this,us),this.options)),te(this,Pn).addObserver(this),te(this,Pn).execute(n)}},us=new WeakMap,ds=new WeakMap,Pn=new WeakMap,ao=new WeakMap,yo=new WeakSet,yd=function(){var r;const n=((r=te(this,Pn))==null?void 0:r.state)??wE();Me(this,ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ug=function(n){qt.batch(()=>{var r,o,i,a,c,u,f,m;if(te(this,ao)&&this.hasListeners()){const h=te(this,ds).variables,w=te(this,ds).context;(n==null?void 0:n.type)==="success"?((o=(r=te(this,ao)).onSuccess)==null||o.call(r,n.data,h,w),(a=(i=te(this,ao)).onSettled)==null||a.call(i,n.data,null,h,w)):(n==null?void 0:n.type)==="error"&&((u=(c=te(this,ao)).onError)==null||u.call(c,n.error,h,w),(m=(f=te(this,ao)).onSettled)==null||m.call(f,void 0,n.error,h,w))}this.listeners.forEach(h=>{h(te(this,ds))})})},aE),bE=_.createContext(void 0),by=e=>{const t=_.useContext(bE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},I4=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(bE.Provider,{value:e,children:t})),EE=_.createContext(!1),O4=()=>_.useContext(EE);EE.Provider;function M4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var L4=_.createContext(M4()),D4=()=>_.useContext(L4);function _E(e,t){return typeof e=="function"?e(...t):!!e}function dg(){}var z4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},B4=e=>{_.useEffect(()=>{e.clearReset()},[e])},F4=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||_E(n,[e.error,r])),$4=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},U4=(e,t)=>e.isLoading&&e.isFetching&&!t,H4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,y1=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function W4(e,t,n){var h,w,y,b,g;const r=by(),o=O4(),i=D4(),a=r.defaultQueryOptions(e);(w=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||w.call(h,a),a._optimisticResults=o?"isRestoring":"optimistic",$4(a),z4(a,i),B4(i);const c=!r.getQueryCache().get(a.queryHash),[u]=_.useState(()=>new t(r,a)),f=u.getOptimisticResult(a),m=!o&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(x=>{const E=m?u.subscribe(qt.batchCalls(x)):dg;return u.updateResult(),E},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(a)},[a,u]),H4(a,f))throw y1(a,u,i);if(F4({result:f,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;if((b=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,a,f),a.experimental_prefetchInRender&&!li&&U4(f,o)){const x=c?y1(a,u,i):(g=r.getQueryCache().get(a.queryHash))==null?void 0:g.promise;x==null||x.catch(dg).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?f:u.trackResult(f)}function $r(e,t){return W4(e,P4)}function Ey(e,t){const n=by(),[r]=_.useState(()=>new j4(n,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const o=_.useSyncExternalStore(_.useCallback(a=>r.subscribe(qt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=_.useCallback((a,c)=>{r.mutate(a,c).catch(dg)},[r]);if(o.error&&_E(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:i,mutateAsync:o.mutate}}function fg(e,t={},n){for(const r in e){const o=e[r],i=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?fg(o,t,i):typeof o=="function"&&(t[i]=o)}return t}const V4={run:e=>e()},q4=()=>V4,SE=typeof console.createTask<"u"?console.createTask:q4;function K4(e,t){const n=t.shift(),r=SE(n);return e.reduce((o,i)=>o.then(()=>r.run(()=>i(...t))),Promise.resolve())}function Z4(e,t){const n=t.shift(),r=SE(n);return Promise.all(e.map(o=>r.run(()=>o(...t))))}function qp(e,t){for(const n of[...e])n(t)}class G4{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const o=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!r.allowDeprecated){let a=i.message;a||(a=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,o=(...i)=>(typeof r=="function"&&r(),r=void 0,o=void 0,n(...i));return r=this.hook(t,o),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const o of r)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=fg(t),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of r.splice(0,r.length))o()}}removeHooks(t){const n=fg(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(K4,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(Z4,t,...n)}callHookWith(t,n,...r){const o=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&qp(this._before,o);const i=t(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&o&&qp(this._after,o)}):(this._after&&o&&qp(this._after,o),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function Y4(){return new G4}const J4=new Set(["link","style","script","noscript"]),Q4=new Set(["title","titleTemplate","script","style","noscript"]),v1=new Set(["base","meta","link","style","script","noscript"]),X4=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),eI=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),tI=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),nI=new Set(["templateParams","htmlAttrs","bodyAttrs"]),_y=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),rI=["name","property","http-equiv"];function kE(e){const t=e.split(":");return t.length?_y.has(t[1]):!1}function hg(e){const{props:t,tag:n}=e;if(eI.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of rI)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(Q4.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function w1(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,o])=>`${r}:${String(o)}`).join(",")}`}function pg(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let o;if(t&&(o=t(n,e)),Array.isArray(o))return o.map(i=>pg(i,t));if((o==null?void 0:o.constructor)===Object){const i={};for(const a of Object.keys(o))i[a]=pg(o[a],t,a);return i}return o}function oI(e,t){const n=e==="style"?new Map:new Set;function r(o){const i=o.trim();if(i)if(e==="style"){const[a,...c]=i.split(":").map(u=>u.trim());a&&c.length&&n.set(a,c.join(":"))}else i.split(" ").filter(Boolean).forEach(a=>n.add(a))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(o=>r(o)):t&&typeof t=="object"&&Object.entries(t).forEach(([o,i])=>{i&&i!=="false"&&(e==="style"?n.set(o.trim(),i):r(o))}),n}function CE(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=oI(n,r);return}if(tI.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let a=t.type;if(t.type||(a="application/json"),!(a!=null&&a.endsWith("json"))&&a!=="speculationrules")return;t.type=a,e.props.type=a,e[n]=JSON.stringify(r)}else e[n]=r;return}const o=String(r),i=n.startsWith("data-");o==="true"||o===""?e.props[n]=i?o:!0:!r&&i&&o==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function sI(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=CE({tag:e,props:{}},n);return r.key&&J4.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(o=>({...r,props:{...r.props,content:o}})):r}function iI(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(o,i)=>{for(let a=0;a<t.length;a++)i=t[a](o,i);return i};e=n(void 0,e);const r=[];return e=pg(e,n),Object.entries(e||{}).forEach(([o,i])=>{if(i!==void 0)for(const a of Array.isArray(i)?i:[i])r.push(sI(o,a))}),r.flat()}const x1=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,b1={base:-10,title:10},aI={critical:-8,high:-1,low:2},E1={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},lI=/@import/,Fl=e=>e===""||e===!0;function cI(e,t){var i;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=aI[t.tagPriority]||0,o=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:E1;if(t.tag in b1)n=b1[t.tag];else if(t.tag==="meta"){const a=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;a&&(n=E1.meta[a])}else t.tag==="link"&&t.props.rel?n=o.link[t.props.rel]:t.tag==="script"?Fl(t.props.async)?n=o.script.async:t.props.src&&!Fl(t.props.defer)&&!Fl(t.props.async)&&t.props.type!=="module"&&!((i=t.props.type)!=null&&i.endsWith("json"))?n=o.script.sync:Fl(t.props.defer)&&t.props.src&&!Fl(t.props.async)&&(n=o.script.defer):t.tag==="style"&&(n=t.innerHTML&&lI.test(t.innerHTML)?o.style.imported:o.style.sync);return(n||100)+r}function _1(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function uI(e={}){var c;const t=Y4();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,o=new Map,i=[],a={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:u=>_1(a,u),push(u,f){const m={...f||{}};delete m.head;const h=m._index??a._entryCount++,w={_i:h,input:u,options:m},y={_poll(b=!1){a.dirty=!0,!b&&i.push(h),t.callHook("entries:updated",a)},dispose(){r.delete(h)&&y._poll(!0)},patch(b){(!m.mode||m.mode==="server"&&n||m.mode==="client"&&!n)&&(w.input=b,r.set(h,w),y._poll())}};return y.patch(u),y},async resolveTags(){var y;const u={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await t.callHook("entries:resolve",u);i.length;){const b=i.shift(),g=r.get(b);if(g){const x={tags:iI(g.input,e.propResolvers||[]).map(E=>Object.assign(E,g.options)),entry:g};await t.callHook("entries:normalize",x),g._tags=x.tags.map((E,k)=>(E._w=cI(a,E),E._p=(g._i<<10)+k,E._d=hg(E),E))}}let f=!1;u.entries.flatMap(b=>(b._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(x1).reduce((b,g)=>{const x=String(g._d||g._p);if(!b.has(x))return b.set(x,g);const E=b.get(x);if(((g==null?void 0:g.tagDuplicateStrategy)||(nI.has(g.tag)?"merge":null)||(g.key&&g.key===E.key?"merge":null))==="merge"){const C={...E.props};Object.entries(g.props).forEach(([A,j])=>C[A]=A==="style"?new Map([...E.props.style||new Map,...j]):A==="class"?new Set([...E.props.class||new Set,...j]):j),b.set(x,{...g,props:C})}else g._p>>10===E._p>>10&&g.tag==="meta"&&kE(x)?(b.set(x,Object.assign([...Array.isArray(E)?E:[E],g],g)),f=!0):(g._w===E._w?g._p>E._p:(g==null?void 0:g._w)<(E==null?void 0:E._w))&&b.set(x,g);return b},u.tagMap);const m=u.tagMap.get("title"),h=u.tagMap.get("titleTemplate");if(a._title=m==null?void 0:m.textContent,h){const b=h==null?void 0:h.textContent;if(a._titleTemplate=b,b){let g=typeof b=="function"?b(m==null?void 0:m.textContent):b;typeof g=="string"&&!a.plugins.has("template-params")&&(g=g.replace("%s",(m==null?void 0:m.textContent)||"")),m?g===null?u.tagMap.delete("title"):u.tagMap.set("title",{...m,textContent:g}):(h.tag="title",h.textContent=g)}}u.tags=Array.from(u.tagMap.values()),f&&(u.tags=u.tags.flat().sort(x1)),await t.callHook("tags:beforeResolve",u),await t.callHook("tags:resolve",u),await t.callHook("tags:afterResolve",u);const w=[];for(const b of u.tags){const{innerHTML:g,tag:x,props:E}=b;if(X4.has(x)&&!(Object.keys(E).length===0&&!b.innerHTML&&!b.textContent)&&!(x==="meta"&&!E.content&&!E["http-equiv"]&&!E.charset)){if(x==="script"&&g){if((y=E.type)!=null&&y.endsWith("json")){const k=typeof g=="string"?g:JSON.stringify(g);b.innerHTML=k.replace(/</g,"\\u003C")}else typeof g=="string"&&(b.innerHTML=g.replace(new RegExp(`</${x}`,"g"),`<\\/${x}`));b._d=hg(b)}w.push(b)}}return w}};return((e==null?void 0:e.plugins)||[]).forEach(u=>_1(a,u)),a.hooks.callHook("init",a),(c=e.init)==null||c.forEach(u=>u&&a.push(u)),a}async function NE(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{var y;const i=new Map,a=new Promise(b=>{e.resolveTags().then(g=>{b(g.map(x=>{const E=i.get(x._d)||0,k={tag:x,id:(E?`${x._d}:${E}`:x._d)||w1(x),shouldRender:!0};return x._d&&kE(x._d)&&i.set(x._d,E+1),k}))})});let c=e._dom;if(!c){c={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const b of["body","head"]){const g=(y=n[b])==null?void 0:y.children;for(const x of g){const E=x.tagName.toLowerCase();if(!v1.has(E))continue;const k=CE({tag:E,props:{}},{innerHTML:x.innerHTML,...x.getAttributeNames().reduce((C,A)=>(C[A]=x.getAttribute(A),C),{})||{}});if(k.key=x.getAttribute("data-hid")||void 0,k._d=hg(k)||w1(k),c.elMap.has(k._d)){let C=1,A=k._d;for(;c.elMap.has(A);)A=`${k._d}:${C++}`;c.elMap.set(A,x)}else c.elMap.set(k._d,x)}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function u(b,g,x){const E=`${b}:${g}`;c.sideEffects[E]=x,delete c.pendingSideEffects[E]}function f({id:b,$el:g,tag:x}){const E=x.tag.endsWith("Attrs");c.elMap.set(b,g),E||(x.textContent&&x.textContent!==g.textContent&&(g.textContent=x.textContent),x.innerHTML&&x.innerHTML!==g.innerHTML&&(g.innerHTML=x.innerHTML),u(b,"el",()=>{g==null||g.remove(),c.elMap.delete(b)}));for(const k in x.props){if(!Object.prototype.hasOwnProperty.call(x.props,k))continue;const C=x.props[k];if(k.startsWith("on")&&typeof C=="function"){const j=g==null?void 0:g.dataset;if(j&&j[`${k}fired`]){const L=k.slice(0,-5);C.call(g,new Event(L.substring(2)))}g.getAttribute(`data-${k}`)!==""&&((x.tag==="bodyAttrs"?n.defaultView:g).addEventListener(k.substring(2),C.bind(g)),g.setAttribute(`data-${k}`,""));continue}const A=`attr:${k}`;if(k==="class"){if(!C)continue;for(const j of C)E&&u(b,`${A}:${j}`,()=>g.classList.remove(j)),!g.classList.contains(j)&&g.classList.add(j)}else if(k==="style"){if(!C)continue;for(const[j,L]of C)u(b,`${A}:${j}`,()=>{g.style.removeProperty(j)}),g.style.setProperty(j,L)}else C!==!1&&C!==null&&(g.getAttribute(k)!==C&&g.setAttribute(k,C===!0?"":String(C)),E&&u(b,A,()=>g.removeAttribute(k)))}}const m=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},w=await a;for(const b of w){const{tag:g,shouldRender:x,id:E}=b;if(x){if(g.tag==="title"){n.title=g.textContent,u("title","",()=>n.title=c.title);continue}b.$el=b.$el||c.elMap.get(E),b.$el?f(b):v1.has(g.tag)&&m.push(b)}}for(const b of m){const g=b.tag.tagPosition||"head";b.$el=n.createElement(b.tag.tag),f(b),h[g]=h[g]||n.createDocumentFragment(),h[g].appendChild(b.$el)}for(const b of w)await e.hooks.callHook("dom:renderTag",b,n,u);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const b in c.pendingSideEffects)c.pendingSideEffects[b]();e._dom=c,await e.hooks.callHook("dom:rendered",{renders:w}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function dI(e={}){var r,o,i;const t=((r=e.domOptions)==null?void 0:r.render)||NE;e.document=e.document||(typeof window<"u"?document:void 0);const n=((i=(o=e.document)==null?void 0:o.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return uI({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function fI(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const TE=_.createContext(null);function PE(e={}){const t=dI({domOptions:{render:fI(()=>NE(t),n=>setTimeout(n,0))},...e});return t}function hI({children:e,head:t}){return _.createElement(TE.Provider,{value:t||PE()},e)}const oc={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},pI={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},RE={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${fo(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?fo(e):`${fo(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${fo(e)} ${t}`}},charset:{}};function fo(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:oc.META.has(t.slice(0,n))||oc.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function AE(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function mg(e){return Array.isArray(e)?e.map(mg):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[fo(t),mg(n)]))}function jE(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:o,resolve:i}=t;return Object.entries(e).map(([a,c])=>{if(i){const f=i({key:a,value:c});if(f!==void 0)return f}const u=typeof c=="object"?jE(c,t):typeof c=="number"?c.toString():typeof c=="string"&&o?`${o}${c.replace(new RegExp(o,"g"),`\\${o}`)}${o}`:c;return`${a}${r}${u}`}).join(n)}function S1(e,t){const n=AE(t),r=fo(e),o=IE(r);if(!_y.has(r))return[{[o]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([a,c])=>[`${e}${a==="url"?"":`${a[0].toUpperCase()}${a.slice(1)}`}`,c]));return Nd(i||{}).sort((a,c)=>{var u,f;return(((u=a[o])==null?void 0:u.length)||0)-(((f=c[o])==null?void 0:f.length)||0)})}function IE(e){var r;if(((r=RE[e])==null?void 0:r.metaKey)==="http-equiv"||oc.HTTP_EQUIV.has(e))return"http-equiv";const t=fo(e),n=t.indexOf(":");return n===-1?"name":oc.OG.has(t.slice(0,n))?"property":"name"}function mI(e){return pI[e]||fo(e)}function gI(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:jE(mg(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:o})=>r===null?"":typeof r=="boolean"?o:void 0,...(n=RE[t])==null?void 0:n.unpack})}function Nd(e){const t=[],n={};for(const[o,i]of Object.entries(e)){if(Array.isArray(i)){if(o==="themeColor"){i.forEach(a=>{typeof a=="object"&&a!==null&&t.push({name:"theme-color",...a})});continue}for(const a of i)if(typeof a=="object"&&a!==null){const c=[],u=[];for(const[f,m]of Object.entries(a)){const h=`${o}${f==="url"?"":`:${f}`}`,w=Nd({[h]:m});(f==="url"?c:u).push(...w)}t.push(...c,...u)}else t.push(...typeof a=="string"?Nd({[o]:a}):S1(o,a));continue}if(typeof i=="object"&&i)if(oc.MEDIA.has(o)){const a=o.startsWith("twitter")?"twitter":"og",c=o.replace(/^(og|twitter)/,"").toLowerCase(),u=a==="twitter"?"name":"property";i.url&&t.push({[u]:`${a}:${c}`,content:i.url}),i.secureUrl&&t.push({[u]:`${a}:${c}:secure_url`,content:i.secureUrl});for(const[f,m]of Object.entries(i))f!=="url"&&f!=="secureUrl"&&t.push({[u]:`${a}:${c}:${f}`,content:m})}else _y.has(fo(o))?t.push(...S1(o,i)):n[o]=AE(i);else n[o]=i}const r=Object.entries(n).map(([o,i])=>{if(o==="charset")return{charset:i===null?"_null":i};const a=IE(o),c=mI(o),u=i===null?"_null":typeof i=="object"?gI(i,o):typeof i=="number"?i.toString():i;return a==="http-equiv"?{"http-equiv":c,content:u}:{[a]:c,content:u}});return[...t,...r].map(o=>"content"in o&&o.content==="_null"?{...o,content:null}:o)}const yI={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(Nd(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function vI(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var c,u;let r=t._titleTemplate||t._title;const o=n.get("meta:og:title");typeof(o==null?void 0:o.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),o.props.content=e.ogTitle?e.ogTitle(r):r||"",o.processTemplateParams=!0);const i=(u=(c=n.get("meta:description"))==null?void 0:c.props)==null?void 0:u.content,a=n.get("meta:og:description");typeof(a==null?void 0:a.props["data-infer"])<"u"&&(a.props.content=e.ogDescription?e.ogDescription(i):i||"",a.processTemplateParams=!0)}}})}class Xl{constructor(t){Ie(this,"pubkey");Ie(this,"relays");Ie(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),o=n.hostname||n.pathname.slice(2),i=r.getAll("relay"),a=r.get("secret")??void 0;if(!o)throw new Error("Invalid bunker URI");this.pubkey=o,this.relays=i,this.secret=a}get href(){return this.toString()}toString(){return Xl.toString(this)}static fromJSON(t){const n=Xl.toString(t);return new Xl(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class wI{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const o=await t.nip04.encrypt(n,r);if(typeof o!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(o)}`);return o},decrypt:async(n,r)=>{const o=await t.nip04.decrypt(n,r);if(typeof o!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(o)}`);return o}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const o=await t.nip44.encrypt(n,r);if(typeof o!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(o)}`);return o},decrypt:async(n,r)=>{const o=await t.nip44.decrypt(n,r);if(typeof o!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(o)}`);return o}}}}function k1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function OE(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function xI(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");k1(e.outputLen),k1(e.blockLen)}function Td(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function bI(e,t){OE(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Kp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ME=e=>e instanceof Uint8Array,Zp=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Rr=(e,t)=>e<<32-t|e>>>t,EI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!EI)throw new Error("Non little-endian hardware is not supported");function _I(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Sy(e){if(typeof e=="string"&&(e=_I(e)),!ME(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function SI(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!ME(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let LE=class{clone(){return this._cloneInto()}};function kI(e){const t=r=>e().update(Sy(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function DE(e=32){if(Kp&&typeof Kp.getRandomValues=="function")return Kp.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function CI(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),a=Number(n>>o&i),c=Number(n&i),u=r?4:0,f=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+f,c,r)}let NI=class extends LE{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Zp(this.buffer)}update(t){Td(this);const{view:n,buffer:r,blockLen:o}=this;t=Sy(t);const i=t.length;for(let a=0;a<i;){const c=Math.min(o-this.pos,i-a);if(c===o){const u=Zp(t);for(;o<=i-a;a+=o)this.process(u,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Td(this),bI(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let h=a;h<o;h++)n[h]=0;CI(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Zp(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,m=this.get();if(f>m.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,m[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:a,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=a,o%n&&t.buffer.set(r),t}};const TI=(e,t,n)=>e&t^~e&n,PI=(e,t,n)=>e&t^e&n^t&n,RI=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vo=new Uint32Array(64);let AI=class extends NI{constructor(){super(64,32,8,!1),this.A=Wo[0]|0,this.B=Wo[1]|0,this.C=Wo[2]|0,this.D=Wo[3]|0,this.E=Wo[4]|0,this.F=Wo[5]|0,this.G=Wo[6]|0,this.H=Wo[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:a,G:c,H:u}=this;return[t,n,r,o,i,a,c,u]}set(t,n,r,o,i,a,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=u|0}process(t,n){for(let h=0;h<16;h++,n+=4)Vo[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const w=Vo[h-15],y=Vo[h-2],b=Rr(w,7)^Rr(w,18)^w>>>3,g=Rr(y,17)^Rr(y,19)^y>>>10;Vo[h]=g+Vo[h-7]+b+Vo[h-16]|0}let{A:r,B:o,C:i,D:a,E:c,F:u,G:f,H:m}=this;for(let h=0;h<64;h++){const w=Rr(c,6)^Rr(c,11)^Rr(c,25),y=m+w+TI(c,u,f)+RI[h]+Vo[h]|0,g=(Rr(r,2)^Rr(r,13)^Rr(r,22))+PI(r,o,i)|0;m=f,f=u,u=c,c=a+y|0,a=i,i=o,o=r,r=y+g|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,m=m+this.H|0,this.set(r,o,i,a,c,u,f,m)}roundClean(){Vo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const gg=kI(()=>new AI);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zE=BigInt(0),rf=BigInt(1),jI=BigInt(2),of=e=>e instanceof Uint8Array,II=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Na(e){if(!of(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=II[e[n]];return t}function BE(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ky(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Ta(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function An(e){return ky(Na(e))}function Cy(e){if(!of(e))throw new Error("Uint8Array expected");return ky(Na(Uint8Array.from(e).reverse()))}function ws(e,t){return Ta(e.toString(16).padStart(t*2,"0"))}function Ny(e,t){return ws(e,t).reverse()}function OI(e){return Ta(BE(e))}function un(e,t,n){let r;if(typeof t=="string")try{r=Ta(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(of(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function ui(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!of(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function MI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LI(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function DI(e){let t;for(t=0;e>zE;e>>=rf,t+=1);return t}function zI(e,t){return e>>BigInt(t)&rf}const BI=(e,t,n)=>e|(n?rf:zE)<<BigInt(t),Ty=e=>(jI<<BigInt(e-1))-rf,Gp=e=>new Uint8Array(e),C1=e=>Uint8Array.from(e);function FE(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Gp(e),o=Gp(e),i=0;const a=()=>{r.fill(1),o.fill(0),i=0},c=(...h)=>n(o,r,...h),u=(h=Gp())=>{o=c(C1([0]),h),r=c(),h.length!==0&&(o=c(C1([1]),h),r=c())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const w=[];for(;h<t;){r=c();const y=r.slice();w.push(y),h+=r.length}return ui(...w)};return(h,w)=>{a(),u(h);let y;for(;!(y=w(f()));)u();return a(),y}}const FI={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Tc(e,t,n={}){const r=(o,i,a)=>{const c=FI[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const u=e[o];if(!(a&&u===void 0)&&!c(u,e))throw new Error(`Invalid param ${String(o)}=${u} (${typeof u}), expected ${i}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}const $I=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zI,bitLen:DI,bitMask:Ty,bitSet:BI,bytesToHex:Na,bytesToNumberBE:An,bytesToNumberLE:Cy,concatBytes:ui,createHmacDrbg:FE,ensureBytes:un,equalBytes:MI,hexToBytes:Ta,hexToNumber:ky,numberToBytesBE:ws,numberToBytesLE:Ny,numberToHexUnpadded:BE,numberToVarBytesBE:OI,utf8ToBytes:LI,validateObject:Tc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jt=BigInt(0),Ft=BigInt(1),Vs=BigInt(2),UI=BigInt(3),yg=BigInt(4),N1=BigInt(5),T1=BigInt(8);BigInt(9);BigInt(16);function nn(e,t){const n=e%t;return n>=Jt?n:t+n}function HI(e,t,n){if(n<=Jt||t<Jt)throw new Error("Expected power/modulo > 0");if(n===Ft)return Jt;let r=Ft;for(;t>Jt;)t&Ft&&(r=r*e%n),e=e*e%n,t>>=Ft;return r}function Jn(e,t,n){let r=e;for(;t-- >Jt;)r*=r,r%=n;return r}function vg(e,t){if(e===Jt||t<=Jt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=nn(e,t),r=t,o=Jt,i=Ft;for(;n!==Jt;){const c=r/n,u=r%n,f=o-i*c;r=n,n=u,o=i,i=f}if(r!==Ft)throw new Error("invert: does not exist");return nn(o,t)}function WI(e){const t=(e-Ft)/Vs;let n,r,o;for(n=e-Ft,r=0;n%Vs===Jt;n/=Vs,r++);for(o=Vs;o<e&&HI(o,t,e)!==e-Ft;o++);if(r===1){const a=(e+Ft)/yg;return function(u,f){const m=u.pow(f,a);if(!u.eql(u.sqr(m),f))throw new Error("Cannot find square root");return m}}const i=(n+Ft)/Vs;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,m=c.pow(c.mul(c.ONE,o),n),h=c.pow(u,i),w=c.pow(u,n);for(;!c.eql(w,c.ONE);){if(c.eql(w,c.ZERO))return c.ZERO;let y=1;for(let g=c.sqr(w);y<f&&!c.eql(g,c.ONE);y++)g=c.sqr(g);const b=c.pow(m,Ft<<BigInt(f-y-1));m=c.sqr(b),h=c.mul(h,b),w=c.mul(w,m),f=y}return h}}function VI(e){if(e%yg===UI){const t=(e+Ft)/yg;return function(r,o){const i=r.pow(o,t);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(e%T1===N1){const t=(e-N1)/T1;return function(r,o){const i=r.mul(o,Vs),a=r.pow(i,t),c=r.mul(o,a),u=r.mul(r.mul(c,Vs),a),f=r.mul(c,r.sub(u,r.ONE));if(!r.eql(r.sqr(f),o))throw new Error("Cannot find square root");return f}}return WI(e)}const qI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KI(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=qI.reduce((r,o)=>(r[o]="function",r),t);return Tc(e,n)}function ZI(e,t,n){if(n<Jt)throw new Error("Expected power > 0");if(n===Jt)return e.ONE;if(n===Ft)return t;let r=e.ONE,o=t;for(;n>Jt;)n&Ft&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Ft;return r}function GI(e,t){const n=new Array(t.length),r=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),o=e.inv(r);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),o),n}function $E(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function YI(e,t,n=!1,r={}){if(e<=Jt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=$E(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=VI(e),c=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:Ty(o),ZERO:Jt,ONE:Ft,create:u=>nn(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Jt<=u&&u<e},is0:u=>u===Jt,isOdd:u=>(u&Ft)===Ft,neg:u=>nn(-u,e),eql:(u,f)=>u===f,sqr:u=>nn(u*u,e),add:(u,f)=>nn(u+f,e),sub:(u,f)=>nn(u-f,e),mul:(u,f)=>nn(u*f,e),pow:(u,f)=>ZI(c,u,f),div:(u,f)=>nn(u*vg(f,e),e),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>vg(u,e),sqrt:r.sqrt||(u=>a(c,u)),invertBatch:u=>GI(c,u),cmov:(u,f,m)=>m?f:u,toBytes:u=>n?Ny(u,i):ws(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return n?Cy(u):An(u)}});return Object.freeze(c)}function UE(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function HE(e){const t=UE(e);return t+Math.ceil(t/2)}function JI(e,t,n=!1){const r=e.length,o=UE(t),i=HE(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?An(e):Cy(e),c=nn(a,t-Ft)+Ft;return n?Ny(c,o):ws(c,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QI=BigInt(0),Yp=BigInt(1);function XI(e,t){const n=(o,i)=>{const a=i.negate();return o?a:i},r=o=>{const i=Math.ceil(t/o)+1,a=2**(o-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(o,i){let a=e.ZERO,c=o;for(;i>QI;)i&Yp&&(a=a.add(c)),c=c.double(),i>>=Yp;return a},precomputeWindow(o,i){const{windows:a,windowSize:c}=r(i),u=[];let f=o,m=f;for(let h=0;h<a;h++){m=f,u.push(m);for(let w=1;w<c;w++)m=m.add(f),u.push(m);f=m.double()}return u},wNAF(o,i,a){const{windows:c,windowSize:u}=r(o);let f=e.ZERO,m=e.BASE;const h=BigInt(2**o-1),w=2**o,y=BigInt(o);for(let b=0;b<c;b++){const g=b*u;let x=Number(a&h);a>>=y,x>u&&(x-=w,a+=Yp);const E=g,k=g+Math.abs(x)-1,C=b%2!==0,A=x<0;x===0?m=m.add(n(C,i[E])):f=f.add(n(A,i[k]))}return{p:f,f:m}},wNAFCached(o,i,a,c){const u=o._WINDOW_SIZE||1;let f=i.get(o);return f||(f=this.precomputeWindow(o,u),u!==1&&i.set(o,c(f))),this.wNAF(u,f,a)}}}function WE(e){return KI(e.Fp),Tc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$E(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e3(e){const t=WE(e);Tc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:t3,hexToBytes:n3}=$I,qs={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=qs;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:t3(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=qs,n=typeof e=="string"?n3(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=qs._parseInt(n.subarray(2)),{d:a,l:c}=qs._parseInt(i);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:a}},hexFromSig(e){const t=f=>Number.parseInt(f[0],16)&8?"00"+f:f,n=f=>{const m=f.toString(16);return m.length&1?`0${m}`:m},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,a=o.length/2,c=n(i),u=n(a);return`30${n(a+i+4)}02${u}${o}02${c}${r}`}},co=BigInt(0),nr=BigInt(1);BigInt(2);const P1=BigInt(3);BigInt(4);function r3(e){const t=e3(e),{Fp:n}=t,r=t.toBytes||((b,g,x)=>{const E=g.toAffine();return ui(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),o=t.fromBytes||(b=>{const g=b.subarray(1),x=n.fromBytes(g.subarray(0,n.BYTES)),E=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x,y:E}});function i(b){const{a:g,b:x}=t,E=n.sqr(b),k=n.mul(E,b);return n.add(n.add(k,n.mul(b,g)),x)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(b){return typeof b=="bigint"&&co<b&&b<t.n}function c(b){if(!a(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(b){const{allowedPrivateKeyLengths:g,nByteLength:x,wrapPrivateKey:E,n:k}=t;if(g&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=Na(b)),typeof b!="string"||!g.includes(b.length))throw new Error("Invalid key");b=b.padStart(x*2,"0")}let C;try{C=typeof b=="bigint"?b:An(un("private key",b,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof b}`)}return E&&(C=nn(C,k)),c(C),C}const f=new Map;function m(b){if(!(b instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,x,E){if(this.px=g,this.py=x,this.pz=E,g==null||!n.isValid(g))throw new Error("x required");if(x==null||!n.isValid(x))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required")}static fromAffine(g){const{x,y:E}=g||{};if(!g||!n.isValid(x)||!n.isValid(E))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const k=C=>n.eql(C,n.ZERO);return k(x)&&k(E)?h.ZERO:new h(x,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const x=n.invertBatch(g.map(E=>E.pz));return g.map((E,k)=>E.toAffine(x[k])).map(h.fromAffine)}static fromHex(g){const x=h.fromAffine(o(un("pointHex",g)));return x.assertValidity(),x}static fromPrivateKey(g){return h.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,f.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:x}=this.toAffine();if(!n.isValid(g)||!n.isValid(x))throw new Error("bad point: x or y not FE");const E=n.sqr(x),k=i(g);if(!n.eql(E,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){m(g);const{px:x,py:E,pz:k}=this,{px:C,py:A,pz:j}=g,L=n.eql(n.mul(x,j),n.mul(C,k)),D=n.eql(n.mul(E,j),n.mul(A,k));return L&&D}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:x}=t,E=n.mul(x,P1),{px:k,py:C,pz:A}=this;let j=n.ZERO,L=n.ZERO,D=n.ZERO,B=n.mul(k,k),O=n.mul(C,C),F=n.mul(A,A),W=n.mul(k,C);return W=n.add(W,W),D=n.mul(k,A),D=n.add(D,D),j=n.mul(g,D),L=n.mul(E,F),L=n.add(j,L),j=n.sub(O,L),L=n.add(O,L),L=n.mul(j,L),j=n.mul(W,j),D=n.mul(E,D),F=n.mul(g,F),W=n.sub(B,F),W=n.mul(g,W),W=n.add(W,D),D=n.add(B,B),B=n.add(D,B),B=n.add(B,F),B=n.mul(B,W),L=n.add(L,B),F=n.mul(C,A),F=n.add(F,F),B=n.mul(F,W),j=n.sub(j,B),D=n.mul(F,O),D=n.add(D,D),D=n.add(D,D),new h(j,L,D)}add(g){m(g);const{px:x,py:E,pz:k}=this,{px:C,py:A,pz:j}=g;let L=n.ZERO,D=n.ZERO,B=n.ZERO;const O=t.a,F=n.mul(t.b,P1);let W=n.mul(x,C),M=n.mul(E,A),V=n.mul(k,j),P=n.add(x,E),U=n.add(C,A);P=n.mul(P,U),U=n.add(W,M),P=n.sub(P,U),U=n.add(x,k);let X=n.add(C,j);return U=n.mul(U,X),X=n.add(W,V),U=n.sub(U,X),X=n.add(E,k),L=n.add(A,j),X=n.mul(X,L),L=n.add(M,V),X=n.sub(X,L),B=n.mul(O,U),L=n.mul(F,V),B=n.add(L,B),L=n.sub(M,B),B=n.add(M,B),D=n.mul(L,B),M=n.add(W,W),M=n.add(M,W),V=n.mul(O,V),U=n.mul(F,U),M=n.add(M,V),V=n.sub(W,V),V=n.mul(O,V),U=n.add(U,V),W=n.mul(M,U),D=n.add(D,W),W=n.mul(X,U),L=n.mul(P,L),L=n.sub(L,W),W=n.mul(P,M),B=n.mul(X,B),B=n.add(B,W),new h(L,D,B)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return y.wNAFCached(this,f,g,x=>{const E=n.invertBatch(x.map(k=>k.pz));return x.map((k,C)=>k.toAffine(E[C])).map(h.fromAffine)})}multiplyUnsafe(g){const x=h.ZERO;if(g===co)return x;if(c(g),g===nr)return this;const{endo:E}=t;if(!E)return y.unsafeLadder(this,g);let{k1neg:k,k1:C,k2neg:A,k2:j}=E.splitScalar(g),L=x,D=x,B=this;for(;C>co||j>co;)C&nr&&(L=L.add(B)),j&nr&&(D=D.add(B)),B=B.double(),C>>=nr,j>>=nr;return k&&(L=L.negate()),A&&(D=D.negate()),D=new h(n.mul(D.px,E.beta),D.py,D.pz),L.add(D)}multiply(g){c(g);let x=g,E,k;const{endo:C}=t;if(C){const{k1neg:A,k1:j,k2neg:L,k2:D}=C.splitScalar(x);let{p:B,f:O}=this.wNAF(j),{p:F,f:W}=this.wNAF(D);B=y.constTimeNegate(A,B),F=y.constTimeNegate(L,F),F=new h(n.mul(F.px,C.beta),F.py,F.pz),E=B.add(F),k=O.add(W)}else{const{p:A,f:j}=this.wNAF(x);E=A,k=j}return h.normalizeZ([E,k])[0]}multiplyAndAddUnsafe(g,x,E){const k=h.BASE,C=(j,L)=>L===co||L===nr||!j.equals(k)?j.multiplyUnsafe(L):j.multiply(L),A=C(this,x).add(C(g,E));return A.is0()?void 0:A}toAffine(g){const{px:x,py:E,pz:k}=this,C=this.is0();g==null&&(g=C?n.ONE:n.inv(k));const A=n.mul(x,g),j=n.mul(E,g),L=n.mul(k,g);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:A,y:j}}isTorsionFree(){const{h:g,isTorsionFree:x}=t;if(g===nr)return!0;if(x)return x(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:x}=t;return g===nr?this:x?x(h,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return Na(this.toRawBytes(g))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const w=t.nBitLength,y=XI(h,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:a}}function o3(e){const t=WE(e);return Tc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function s3(e){const t=o3(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function a(U){return co<U&&U<n.ORDER}function c(U){return nn(U,r)}function u(U){return vg(U,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:m,weierstrassEquation:h,isWithinCurveOrder:w}=r3({...t,toBytes(U,X,J){const ee=X.toAffine(),K=n.toBytes(ee.x),oe=ui;return J?oe(Uint8Array.from([X.hasEvenY()?2:3]),K):oe(Uint8Array.from([4]),K,n.toBytes(ee.y))},fromBytes(U){const X=U.length,J=U[0],ee=U.subarray(1);if(X===o&&(J===2||J===3)){const K=An(ee);if(!a(K))throw new Error("Point is not on curve");const oe=h(K);let z=n.sqrt(oe);const q=(z&nr)===nr;return(J&1)===1!==q&&(z=n.neg(z)),{x:K,y:z}}else if(X===i&&J===4){const K=n.fromBytes(ee.subarray(0,n.BYTES)),oe=n.fromBytes(ee.subarray(n.BYTES,2*n.BYTES));return{x:K,y:oe}}else throw new Error(`Point of length ${X} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),y=U=>Na(ws(U,t.nByteLength));function b(U){const X=r>>nr;return U>X}function g(U){return b(U)?c(-U):U}const x=(U,X,J)=>An(U.slice(X,J));class E{constructor(X,J,ee){this.r=X,this.s=J,this.recovery=ee,this.assertValidity()}static fromCompact(X){const J=t.nByteLength;return X=un("compactSignature",X,J*2),new E(x(X,0,J),x(X,J,2*J))}static fromDER(X){const{r:J,s:ee}=qs.toSig(un("DER",X));return new E(J,ee)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(X){return new E(this.r,this.s,X)}recoverPublicKey(X){const{r:J,s:ee,recovery:K}=this,oe=D(un("msgHash",X));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");const z=K===2||K===3?J+t.n:J;if(z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(K&1)===0?"02":"03",ge=f.fromHex(q+y(z)),pe=u(z),me=c(-oe*pe),Ae=c(ee*pe),we=f.BASE.multiplyAndAddUnsafe(ge,me,Ae);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ta(this.toDERHex())}toDERHex(){return qs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ta(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const k={isValidPrivateKey(U){try{return m(U),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const U=HE(t.n);return JI(t.randomBytes(U),t.n)},precompute(U=8,X=f.BASE){return X._setWindowSize(U),X.multiply(BigInt(3)),X}};function C(U,X=!0){return f.fromPrivateKey(U).toRawBytes(X)}function A(U){const X=U instanceof Uint8Array,J=typeof U=="string",ee=(X||J)&&U.length;return X?ee===o||ee===i:J?ee===2*o||ee===2*i:U instanceof f}function j(U,X,J=!0){if(A(U))throw new Error("first arg must be private key");if(!A(X))throw new Error("second arg must be public key");return f.fromHex(X).multiply(m(U)).toRawBytes(J)}const L=t.bits2int||function(U){const X=An(U),J=U.length*8-t.nBitLength;return J>0?X>>BigInt(J):X},D=t.bits2int_modN||function(U){return c(L(U))},B=Ty(t.nBitLength);function O(U){if(typeof U!="bigint")throw new Error("bigint expected");if(!(co<=U&&U<B))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ws(U,t.nByteLength)}function F(U,X,J=W){if(["recovered","canonical"].some(Se=>Se in J))throw new Error("sign() legacy options not supported");const{hash:ee,randomBytes:K}=t;let{lowS:oe,prehash:z,extraEntropy:q}=J;oe==null&&(oe=!0),U=un("msgHash",U),z&&(U=un("prehashed msgHash",ee(U)));const ge=D(U),pe=m(X),me=[O(pe),O(ge)];if(q!=null){const Se=q===!0?K(n.BYTES):q;me.push(un("extraEntropy",Se))}const Ae=ui(...me),we=ge;function xe(Se){const je=L(Se);if(!w(je))return;const Ue=u(je),Ke=f.BASE.multiply(je).toAffine(),Ye=c(Ke.x);if(Ye===co)return;const I=c(Ue*c(we+Ye*pe));if(I===co)return;let ye=(Ke.x===Ye?0:2)|Number(Ke.y&nr),de=I;return oe&&b(I)&&(de=g(I),ye^=1),new E(Ye,de,ye)}return{seed:Ae,k2sig:xe}}const W={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function V(U,X,J=W){const{seed:ee,k2sig:K}=F(U,X,J),oe=t;return FE(oe.hash.outputLen,oe.nByteLength,oe.hmac)(ee,K)}f.BASE._setWindowSize(8);function P(U,X,J,ee=M){var Ke;const K=U;if(X=un("msgHash",X),J=un("publicKey",J),"strict"in ee)throw new Error("options.strict was renamed to lowS");const{lowS:oe,prehash:z}=ee;let q,ge;try{if(typeof K=="string"||K instanceof Uint8Array)try{q=E.fromDER(K)}catch(Ye){if(!(Ye instanceof qs.Err))throw Ye;q=E.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){const{r:Ye,s:I}=K;q=new E(Ye,I)}else throw new Error("PARSE");ge=f.fromHex(J)}catch(Ye){if(Ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(oe&&q.hasHighS())return!1;z&&(X=t.hash(X));const{r:pe,s:me}=q,Ae=D(X),we=u(me),xe=c(Ae*we),Se=c(pe*we),je=(Ke=f.BASE.multiplyAndAddUnsafe(ge,xe,Se))==null?void 0:Ke.toAffine();return je?c(je.x)===pe:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:j,sign:V,verify:P,ProjectivePoint:f,Signature:E,utils:k}}let VE=class extends LE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,xI(t);const r=Sy(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(t){return Td(this),this.iHash.update(t),this}digestInto(t){Td(this),OE(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:a,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=a,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const qE=(e,t,n)=>new VE(e,t).update(n).digest();qE.create=(e,t)=>new VE(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function i3(e){return{hash:e,hmac:(t,...n)=>qE(e,t,SI(...n)),randomBytes:DE}}function a3(e,t){const n=r=>s3({...e,...i3(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),KE=BigInt(1),Rd=BigInt(2),R1=(e,t)=>(e+t/Rd)/t;function ZE(e){const t=sf,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),f=e*e*e%t,m=f*f*e%t,h=Jn(m,n,t)*m%t,w=Jn(h,n,t)*m%t,y=Jn(w,Rd,t)*f%t,b=Jn(y,o,t)*y%t,g=Jn(b,i,t)*b%t,x=Jn(g,c,t)*g%t,E=Jn(x,u,t)*x%t,k=Jn(E,c,t)*g%t,C=Jn(k,n,t)*m%t,A=Jn(C,a,t)*b%t,j=Jn(A,r,t)*f%t,L=Jn(j,Rd,t);if(!wg.eql(wg.sqr(L),e))throw new Error("Cannot find square root");return L}const wg=YI(sf,void 0,void 0,{sqrt:ZE}),La=a3({a:BigInt(0),b:BigInt(7),Fp:wg,n:Pd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Pd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-KE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),c=R1(i*e,t),u=R1(-r*e,t);let f=nn(e-c*n-u*o,t),m=nn(-c*r-u*i,t);const h=f>a,w=m>a;if(h&&(f=t-f),w&&(m=t-m),f>a||m>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:f,k2neg:w,k2:m}}}},gg),af=BigInt(0),GE=e=>typeof e=="bigint"&&af<e&&e<sf,l3=e=>typeof e=="bigint"&&af<e&&e<Pd,A1={};function Ad(e,...t){let n=A1[e];if(n===void 0){const r=gg(Uint8Array.from(e,o=>o.charCodeAt(0)));n=ui(r,r),A1[e]=n}return gg(ui(n,...t))}const Py=e=>e.toRawBytes(!0).slice(1),xg=e=>ws(e,32),Jp=e=>nn(e,sf),sc=e=>nn(e,Pd),Ry=La.ProjectivePoint,c3=(e,t,n)=>Ry.BASE.multiplyAndAddUnsafe(e,t,n);function bg(e){let t=La.utils.normPrivateKeyToScalar(e),n=Ry.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:sc(-t),bytes:Py(n)}}function YE(e){if(!GE(e))throw new Error("bad x: need 0 < x < p");const t=Jp(e*e),n=Jp(t*e+BigInt(7));let r=ZE(n);r%Rd!==af&&(r=Jp(-r));const o=new Ry(e,r,KE);return o.assertValidity(),o}function JE(...e){return sc(An(Ad("BIP0340/challenge",...e)))}function u3(e){return bg(e).bytes}function d3(e,t,n=DE(32)){const r=un("message",e),{bytes:o,scalar:i}=bg(t),a=un("auxRand",n,32),c=xg(i^An(Ad("BIP0340/aux",a))),u=Ad("BIP0340/nonce",c,o,r),f=sc(An(u));if(f===af)throw new Error("sign failed: k is zero");const{bytes:m,scalar:h}=bg(f),w=JE(m,o,r),y=new Uint8Array(64);if(y.set(m,0),y.set(xg(sc(h+w*i)),32),!QE(y,r,o))throw new Error("sign: Invalid signature produced");return y}function QE(e,t,n){const r=un("signature",e,64),o=un("message",t),i=un("publicKey",n,32);try{const a=YE(An(i)),c=An(r.subarray(0,32));if(!GE(c))return!1;const u=An(r.subarray(32,64));if(!l3(u))return!1;const f=JE(xg(c),Py(a),o),m=c3(a,u,sc(-f));return!(!m||!m.hasEvenY()||m.toAffine().x!==c)}catch{return!1}}const $l={getPublicKey:u3,sign:d3,verify:QE,utils:{randomPrivateKey:La.utils.randomPrivateKey,lift_x:YE,pointToBytes:Py,numberToBytesBE:ws,bytesToNumberBE:An,taggedHash:Ad,mod:nn}},Qp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ay=e=>e instanceof Uint8Array,Xp=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ar=(e,t)=>e<<32-t|e>>>t,f3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!f3)throw new Error("Non little-endian hardware is not supported");const h3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dn(e){if(!Ay(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=h3[e[n]];return t}function di(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function p3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ic(e){if(typeof e=="string"&&(e=p3(e)),!Ay(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function lf(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!Ay(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class XE{clone(){return this._cloneInto()}}function e_(e){const t=r=>e().update(ic(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function t_(e=32){if(Qp&&typeof Qp.getRandomValues=="function")return Qp.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Eg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function m3(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function n_(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function g3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Eg(e.outputLen),Eg(e.blockLen)}function y3(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function v3(e,t){n_(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ur={number:Eg,bool:m3,bytes:n_,hash:g3,exists:y3,output:v3};function w3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),a=Number(n>>o&i),c=Number(n&i),u=r?4:0,f=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+f,c,r)}class x3 extends XE{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Xp(this.buffer)}update(t){Ur.exists(this);const{view:n,buffer:r,blockLen:o}=this;t=ic(t);const i=t.length;for(let a=0;a<i;){const c=Math.min(o-this.pos,i-a);if(c===o){const u=Xp(t);for(;o<=i-a;a+=o)this.process(u,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ur.exists(this),Ur.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let h=a;h<o;h++)n[h]=0;w3(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Xp(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,m=this.get();if(f>m.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,m[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:a,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=a,o%n&&t.buffer.set(r),t}}const b3=(e,t,n)=>e&t^~e&n,E3=(e,t,n)=>e&t^e&n^t&n,_3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ko=new Uint32Array(64);class r_ extends x3{constructor(){super(64,32,8,!1),this.A=qo[0]|0,this.B=qo[1]|0,this.C=qo[2]|0,this.D=qo[3]|0,this.E=qo[4]|0,this.F=qo[5]|0,this.G=qo[6]|0,this.H=qo[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:a,G:c,H:u}=this;return[t,n,r,o,i,a,c,u]}set(t,n,r,o,i,a,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=u|0}process(t,n){for(let h=0;h<16;h++,n+=4)Ko[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const w=Ko[h-15],y=Ko[h-2],b=Ar(w,7)^Ar(w,18)^w>>>3,g=Ar(y,17)^Ar(y,19)^y>>>10;Ko[h]=g+Ko[h-7]+b+Ko[h-16]|0}let{A:r,B:o,C:i,D:a,E:c,F:u,G:f,H:m}=this;for(let h=0;h<64;h++){const w=Ar(c,6)^Ar(c,11)^Ar(c,25),y=m+w+b3(c,u,f)+_3[h]+Ko[h]|0,g=(Ar(r,2)^Ar(r,13)^Ar(r,22))+E3(r,o,i)|0;m=f,f=u,u=c,c=a+y|0,a=i,i=o,o=r,r=y+g|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,m=m+this.H|0,this.set(r,o,i,a,c,u,f,m)}roundClean(){Ko.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class S3 extends r_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Da=e_(()=>new r_);e_(()=>new S3);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function za(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Eo(...e){const t=(o,i)=>a=>o(i(a)),n=Array.from(e).reverse().reduce((o,i)=>o?t(o,i.encode):i.encode,void 0),r=e.reduce((o,i)=>o?t(o,i.decode):i.decode,void 0);return{encode:n,decode:r}}function _o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(za(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function So(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function cf(e,t="="){if(za(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function o_(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function j1(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach(a=>{if(za(a),a<0||a>=t)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let u=r;u<i.length;u++){const f=i[u],m=t*a+f;if(!Number.isSafeInteger(m)||t*a/t!==a||m-f!==t*a)throw new Error("convertRadix: carry overflow");if(a=m%n,i[u]=Math.floor(m/n),!Number.isSafeInteger(i[u])||i[u]*n+a!==m)throw new Error("convertRadix: carry overflow");if(c)i[u]?c=!1:r=u;else continue}if(o.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)o.push(0);return o.reverse()}const s_=(e,t)=>t?s_(t,e%t):e,jd=(e,t)=>e+(t-s_(e,t));function _g(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(jd(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${jd(t,n)}`);let o=0,i=0;const a=2**n-1,c=[];for(const u of e){if(za(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(o=o<<t|u,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function k3(e){return za(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return j1(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(j1(t,e,2**8))}}}function Ss(e,t=!1){if(za(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(jd(8,e)>32||jd(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return _g(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(_g(n,e,8,t))}}}function I1(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const C3=Eo(Ss(4),_o("0123456789ABCDEF"),So("")),N3=Eo(Ss(5),_o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),cf(5),So(""));Eo(Ss(5),_o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),cf(5),So(""));Eo(Ss(5),_o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),So(""),o_(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const vo=Eo(Ss(6),_o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),cf(6),So("")),T3=Eo(Ss(6),_o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),cf(6),So("")),jy=e=>Eo(k3(58),_o(e),So("")),Sg=jy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");jy("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");jy("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const O1=[0,2,3,5,6,7,9,10,11],P3={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Sg.encode(r).padStart(O1[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=O1.indexOf(r.length),i=Sg.decode(r);for(let a=0;a<i.length-o;a++)if(i[a]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},kg=Eo(_o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),So("")),M1=[996825010,642813549,513874426,1027748829,705979059];function Ul(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<M1.length;r++)(t>>r&1)===1&&(n^=M1[r]);return n}function L1(e,t,n=1){const r=e.length;let o=1;for(let i=0;i<r;i++){const a=e.charCodeAt(i);if(a<33||a>126)throw new Error(`Invalid prefix (${e})`);o=Ul(o)^a>>5}o=Ul(o);for(let i=0;i<r;i++)o=Ul(o)^e.charCodeAt(i)&31;for(let i of t)o=Ul(o)^i;for(let i=0;i<6;i++)o=Ul(o);return o^=n,kg.encode(_g([o%2**30],30,5,!1))}function i_(e){const t=e==="bech32"?1:734539939,n=Ss(5),r=n.decode,o=n.encode,i=I1(r);function a(m,h,w=90){if(typeof m!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof m}`);if(!Array.isArray(h)||h.length&&typeof h[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof h}`);const y=m.length+7+h.length;if(w!==!1&&y>w)throw new TypeError(`Length ${y} exceeds limit ${w}`);return m=m.toLowerCase(),`${m}1${kg.encode(h)}${L1(m,h,t)}`}function c(m,h=90){if(typeof m!="string")throw new Error(`bech32.decode input should be string, not ${typeof m}`);if(m.length<8||h!==!1&&m.length>h)throw new TypeError(`Wrong string length: ${m.length} (${m}). Expected (8..${h})`);const w=m.toLowerCase();if(m!==w&&m!==m.toUpperCase())throw new Error("String must be lowercase or uppercase");m=w;const y=m.lastIndexOf("1");if(y===0||y===-1)throw new Error('Letter "1" must be present between prefix and data only');const b=m.slice(0,y),g=m.slice(y+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const x=kg.decode(g).slice(0,-6),E=L1(b,x,t);if(!g.endsWith(E))throw new Error(`Invalid checksum in ${m}: expected "${E}"`);return{prefix:b,words:x}}const u=I1(c);function f(m){const{prefix:h,words:w}=c(m,!1);return{prefix:h,words:w,bytes:r(w)}}return{encode:a,decode:c,decodeToBytes:f,decodeUnsafe:u,fromWords:r,fromWordsUnsafe:i,toWords:o}}const Pa=i_("bech32");i_("bech32m");const R3={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},A3=Eo(Ss(4),_o("0123456789abcdef"),So(""),o_(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),j3={utf8:R3,hex:A3,base16:C3,base32:N3,base64:vo,base64url:T3,base58:Sg,base58xmr:P3};`${Object.keys(j3).join(", ")}`;function em(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function D1(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function I3(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ho(e,...t){if(!I3(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const hn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),O3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!O3)throw new Error("Non little-endian hardware is not supported");function M3(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function L3(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const D3=(e,t)=>(Object.assign(t,e),t),gs=16,z3=283;function Iy(e){return e<<1^z3&-(e>>7)}function ra(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Iy(e);return n}const Cg=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Iy(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),B3=Cg.map((e,t)=>Cg.indexOf(t)),F3=e=>e<<24|e>>>8,tm=e=>e<<8|e>>>24;function a_(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((f,m)=>t(e[m])),r=n.map(tm),o=r.map(tm),i=o.map(tm),a=new Uint32Array(256*256),c=new Uint32Array(256*256),u=new Uint16Array(256*256);for(let f=0;f<256;f++)for(let m=0;m<256;m++){const h=f*256+m;a[h]=n[f]^r[m],c[h]=o[f]^i[m],u[h]=e[f]<<8|e[m]}return{sbox:e,sbox2:u,T0:n,T1:r,T2:o,T3:i,T01:a,T23:c}}const Oy=a_(Cg,e=>ra(e,3)<<24|e<<16|e<<8|ra(e,2)),l_=a_(B3,e=>ra(e,11)<<24|ra(e,13)<<16|ra(e,9)<<8|ra(e,14)),$3=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Iy(n))e[t]=n;return e})();function c_(e){ho(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Oy,r=hn(e),o=r.length,i=c=>Hr(n,c,c,c,c),a=new Uint32Array(t+28);a.set(r);for(let c=o;c<a.length;c++){let u=a[c-1];c%o===0?u=i(F3(u))^$3[c/o-1]:o>6&&c%o===4&&(u=i(u)),a[c]=a[c-o]^u}return a}function U3(e){const t=c_(e),n=t.slice(),r=t.length,{sbox2:o}=Oy,{T0:i,T1:a,T2:c,T3:u}=l_;for(let f=0;f<r;f+=4)for(let m=0;m<4;m++)n[f+m]=t[r-f-4+m];t.fill(0);for(let f=4;f<r-4;f++){const m=n[f],h=Hr(o,m,m,m,m);n[f]=i[h&255]^a[h>>>8&255]^c[h>>>16&255]^u[h>>>24]}return n}function fs(e,t,n,r,o,i){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|i>>>24&255]}function Hr(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function z1(e,t,n,r,o){const{sbox2:i,T01:a,T23:c}=Oy;let u=0;t^=e[u++],n^=e[u++],r^=e[u++],o^=e[u++];const f=e.length/4-2;for(let b=0;b<f;b++){const g=e[u++]^fs(a,c,t,n,r,o),x=e[u++]^fs(a,c,n,r,o,t),E=e[u++]^fs(a,c,r,o,t,n),k=e[u++]^fs(a,c,o,t,n,r);t=g,n=x,r=E,o=k}const m=e[u++]^Hr(i,t,n,r,o),h=e[u++]^Hr(i,n,r,o,t),w=e[u++]^Hr(i,r,o,t,n),y=e[u++]^Hr(i,o,t,n,r);return{s0:m,s1:h,s2:w,s3:y}}function H3(e,t,n,r,o){const{sbox2:i,T01:a,T23:c}=l_;let u=0;t^=e[u++],n^=e[u++],r^=e[u++],o^=e[u++];const f=e.length/4-2;for(let b=0;b<f;b++){const g=e[u++]^fs(a,c,t,o,r,n),x=e[u++]^fs(a,c,n,t,o,r),E=e[u++]^fs(a,c,r,n,t,o),k=e[u++]^fs(a,c,o,r,n,t);t=g,n=x,r=E,o=k}const m=e[u++]^Hr(i,t,o,r,n),h=e[u++]^Hr(i,n,t,o,r),w=e[u++]^Hr(i,r,n,t,o),y=e[u++]^Hr(i,o,r,n,t);return{s0:m,s1:h,s2:w,s3:y}}function u_(e,t){if(!t)return new Uint8Array(e);if(ho(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function W3(e){if(ho(e),e.length%gs!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${gs}`)}function V3(e,t,n){let r=e.length;const o=r%gs;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=hn(e);if(t){let u=gs-o;u||(u=gs),r=r+u}const a=u_(r,n),c=hn(a);return{b:i,o:c,out:a}}function q3(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const o=e.subarray(0,-r);for(let i=0;i<r;i++)if(e[n-i-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function K3(e){const t=new Uint8Array(16),n=hn(t);t.set(e);const r=gs-e.length;for(let o=gs-r;o<gs;o++)t[o]=r;return n}const d_=D3({blockSize:16,nonceLength:16},function(t,n,r={}){ho(t),ho(n,16);const o=!r.disablePadding;return{encrypt:(i,a)=>{const c=c_(t),{b:u,o:f,out:m}=V3(i,o,a),h=hn(n);let w=h[0],y=h[1],b=h[2],g=h[3],x=0;for(;x+4<=u.length;)w^=u[x+0],y^=u[x+1],b^=u[x+2],g^=u[x+3],{s0:w,s1:y,s2:b,s3:g}=z1(c,w,y,b,g),f[x++]=w,f[x++]=y,f[x++]=b,f[x++]=g;if(o){const E=K3(i.subarray(x*4));w^=E[0],y^=E[1],b^=E[2],g^=E[3],{s0:w,s1:y,s2:b,s3:g}=z1(c,w,y,b,g),f[x++]=w,f[x++]=y,f[x++]=b,f[x++]=g}return c.fill(0),m},decrypt:(i,a)=>{W3(i);const c=U3(t),u=hn(n),f=u_(i.length,a),m=hn(i),h=hn(f);let w=u[0],y=u[1],b=u[2],g=u[3];for(let x=0;x+4<=m.length;){const E=w,k=y,C=b,A=g;w=m[x+0],y=m[x+1],b=m[x+2],g=m[x+3];const{s0:j,s1:L,s2:D,s3:B}=H3(c,w,y,b,g);h[x++]=j^E,h[x++]=L^k,h[x++]=D^C,h[x++]=B^A}return c.fill(0),q3(f,o)}}}),f_=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Z3=f_("expand 16-byte k"),G3=f_("expand 32-byte k"),Y3=hn(Z3),h_=hn(G3);h_.slice();function dt(e,t){return e<<t|e>>>32-t}function Ng(e){return e.byteOffset%4===0}const ed=64,J3=16,p_=2**32-1,B1=new Uint32Array;function Q3(e,t,n,r,o,i,a,c){const u=o.length,f=new Uint8Array(ed),m=hn(f),h=Ng(o)&&Ng(i),w=h?hn(o):B1,y=h?hn(i):B1;for(let b=0;b<u;a++){if(e(t,n,r,m,a,c),a>=p_)throw new Error("arx: counter overflow");const g=Math.min(ed,u-b);if(h&&g===ed){const x=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let E=0,k;E<J3;E++)k=x+E,y[k]=w[k]^m[E];b+=ed;continue}for(let x=0,E;x<g;x++)E=b+x,i[E]=o[E]^f[x];b+=g}}function X3(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:a}=M3({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return em(o),em(a),D1(i),D1(n),(c,u,f,m,h=0)=>{ho(c),ho(u),ho(f);const w=f.length;if(m||(m=new Uint8Array(w)),ho(m),em(h),h<0||h>=p_)throw new Error("arx: counter overflow");if(m.length<w)throw new Error(`arx: output (${m.length}) is shorter than data (${w})`);const y=[];let b=c.length,g,x;if(b===32)g=c.slice(),y.push(g),x=h_;else if(b===16&&n)g=new Uint8Array(32),g.set(c),g.set(c,16),x=Y3,y.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);Ng(u)||(u=u.slice(),y.push(u));const E=hn(g);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(x,E,hn(u.subarray(0,16)),E),u=u.subarray(16)}const k=16-o;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const A=new Uint8Array(12);A.set(u,i?0:12-u.length),u=A,y.push(u)}const C=hn(u);for(Q3(e,x,E,C,f,m,h,a);y.length>0;)y.pop().fill(0);return m}}function eO(e,t,n,r,o,i=20){let a=e[0],c=e[1],u=e[2],f=e[3],m=t[0],h=t[1],w=t[2],y=t[3],b=t[4],g=t[5],x=t[6],E=t[7],k=o,C=n[0],A=n[1],j=n[2],L=a,D=c,B=u,O=f,F=m,W=h,M=w,V=y,P=b,U=g,X=x,J=E,ee=k,K=C,oe=A,z=j;for(let ge=0;ge<i;ge+=2)L=L+F|0,ee=dt(ee^L,16),P=P+ee|0,F=dt(F^P,12),L=L+F|0,ee=dt(ee^L,8),P=P+ee|0,F=dt(F^P,7),D=D+W|0,K=dt(K^D,16),U=U+K|0,W=dt(W^U,12),D=D+W|0,K=dt(K^D,8),U=U+K|0,W=dt(W^U,7),B=B+M|0,oe=dt(oe^B,16),X=X+oe|0,M=dt(M^X,12),B=B+M|0,oe=dt(oe^B,8),X=X+oe|0,M=dt(M^X,7),O=O+V|0,z=dt(z^O,16),J=J+z|0,V=dt(V^J,12),O=O+V|0,z=dt(z^O,8),J=J+z|0,V=dt(V^J,7),L=L+W|0,z=dt(z^L,16),X=X+z|0,W=dt(W^X,12),L=L+W|0,z=dt(z^L,8),X=X+z|0,W=dt(W^X,7),D=D+M|0,ee=dt(ee^D,16),J=J+ee|0,M=dt(M^J,12),D=D+M|0,ee=dt(ee^D,8),J=J+ee|0,M=dt(M^J,7),B=B+V|0,K=dt(K^B,16),P=P+K|0,V=dt(V^P,12),B=B+V|0,K=dt(K^B,8),P=P+K|0,V=dt(V^P,7),O=O+F|0,oe=dt(oe^O,16),U=U+oe|0,F=dt(F^U,12),O=O+F|0,oe=dt(oe^O,8),U=U+oe|0,F=dt(F^U,7);let q=0;r[q++]=a+L|0,r[q++]=c+D|0,r[q++]=u+B|0,r[q++]=f+O|0,r[q++]=m+F|0,r[q++]=h+W|0,r[q++]=w+M|0,r[q++]=y+V|0,r[q++]=b+P|0,r[q++]=g+U|0,r[q++]=x+X|0,r[q++]=E+J|0,r[q++]=k+ee|0,r[q++]=C+K|0,r[q++]=A+oe|0,r[q++]=j+z|0}const m_=X3(eO,{counterRight:!1,counterLength:4,allowShortKeys:!1});class g_ extends XE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ur.hash(t);const r=ic(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ur.exists(this),this.iHash.update(t),this}digestInto(t){Ur.exists(this),Ur.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:a,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=a,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uf=(e,t,n)=>new g_(e,t).update(n).digest();uf.create=(e,t)=>new g_(e,t);function tO(e,t,n){return Ur.hash(e),uf(e,ic(n),ic(t))}const nm=new Uint8Array([0]),F1=new Uint8Array;function nO(e,t,n,r=32){if(Ur.hash(e),Ur.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=F1);const i=new Uint8Array(o*e.outputLen),a=uf.create(e,t),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let f=0;f<o;f++)nm[0]=f+1,c.update(f===0?F1:u).update(n).update(nm).digestInto(u),i.set(u,e.outputLen*f),a._cloneInto(c);return a.destroy(),c.destroy(),u.fill(0),nm.fill(0),i.slice(0,r)}var rO=Object.defineProperty,Ct=(e,t)=>{for(var n in t)rO(e,n,{get:t[n],enumerable:!0})},Yi=Symbol("verified"),oO=e=>e instanceof Object;function My(e){if(!oO(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var sO={};Ct(sO,{Queue:()=>w_,QueueNode:()=>v_,binarySearch:()=>Ly,bytesToHex:()=>dn,hexToBytes:()=>di,insertEventIntoAscendingList:()=>aO,insertEventIntoDescendingList:()=>iO,normalizeURL:()=>y_,utf8Decoder:()=>po,utf8Encoder:()=>br});var po=new TextDecoder("utf-8"),br=new TextEncoder;function y_(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function iO(e,t){const[n,r]=Ly(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function aO(e,t){const[n,r]=Ly(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function Ly(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=Math.floor((n+r)/2),i=t(e[o]);if(i===0)return[o,!0];i<0?r=o-1:n=o+1}return[n,!1]}var v_=class{constructor(e){Ie(this,"value");Ie(this,"next",null);Ie(this,"prev",null);this.value=e}},w_=class{constructor(){Ie(this,"first");Ie(this,"last");this.first=null,this.last=null}enqueue(e){const t=new v_(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},lO=class{generateSecretKey(){return $l.utils.randomPrivateKey()}getPublicKey(e){return dn($l.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=dn($l.getPublicKey(t)),n.id=ec(n),n.sig=dn($l.sign(ec(n),t)),n[Yi]=!0,n}verifyEvent(e){if(typeof e[Yi]=="boolean")return e[Yi];const t=ec(e);if(t!==e.id)return e[Yi]=!1,!1;try{const n=$l.verify(e.sig,t,e.pubkey);return e[Yi]=n,n}catch{return e[Yi]=!1,!1}}};function cO(e){if(!My(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function ec(e){let t=Da(br.encode(cO(e)));return dn(t)}var df=new lO,Pc=df.generateSecretKey,wo=df.getPublicKey,ir=df.finalizeEvent,Rc=df.verifyEvent,uO={};Ct(uO,{Application:()=>c5,BadgeAward:()=>vO,BadgeDefinition:()=>n5,BlockedRelaysList:()=>FO,BookmarkList:()=>DO,Bookmarksets:()=>XO,Calendar:()=>g5,CalendarEventRSVP:()=>y5,ChannelCreation:()=>k_,ChannelHideMessage:()=>T_,ChannelMessage:()=>N_,ChannelMetadata:()=>C_,ChannelMuteUser:()=>P_,ClassifiedListing:()=>f5,ClientAuth:()=>A_,CommunitiesList:()=>zO,CommunityDefinition:()=>x5,CommunityPostApproval:()=>CO,Contacts:()=>mO,CreateOrUpdateProduct:()=>s5,CreateOrUpdateStall:()=>o5,Curationsets:()=>e5,Date:()=>p5,DirectMessageRelaysList:()=>WO,DraftClassifiedListing:()=>h5,DraftLong:()=>a5,Emojisets:()=>l5,EncryptedDirectMessage:()=>gO,EventDeletion:()=>yO,FileMetadata:()=>xO,FileServerPreference:()=>VO,Followsets:()=>YO,GenericRepost:()=>By,Genericlists:()=>JO,GiftWrap:()=>R_,HTTPAuth:()=>Fy,Handlerinformation:()=>w5,Handlerrecommendation:()=>v5,Highlights:()=>IO,InterestsList:()=>UO,Interestsets:()=>r5,JobFeedback:()=>PO,JobRequest:()=>NO,JobResult:()=>TO,Label:()=>kO,LightningPubRPC:()=>KO,LiveChatMessage:()=>bO,LiveEvent:()=>u5,LongFormArticle:()=>i5,Metadata:()=>hO,Mutelist:()=>OO,NWCWalletInfo:()=>qO,NWCWalletRequest:()=>j_,NWCWalletResponse:()=>ZO,NostrConnect:()=>GO,OpenTimestamps:()=>wO,Pinlist:()=>MO,PrivateDirectMessage:()=>S_,ProblemTracker:()=>EO,ProfileBadges:()=>t5,PublicChatsList:()=>BO,Reaction:()=>zy,RecommendRelay:()=>pO,RelayList:()=>LO,Relaysets:()=>QO,Report:()=>_O,Reporting:()=>SO,Repost:()=>Dy,Seal:()=>__,SearchRelaysList:()=>$O,ShortTextNote:()=>E_,Time:()=>m5,UserEmojiList:()=>HO,UserStatuses:()=>d5,Zap:()=>jO,ZapGoal:()=>RO,ZapRequest:()=>AO,classifyKind:()=>dO,isAddressableKind:()=>hf,isEphemeralKind:()=>b_,isKind:()=>fO,isRegularKind:()=>x_,isReplaceableKind:()=>ff});function x_(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function ff(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function b_(e){return 2e4<=e&&e<3e4}function hf(e){return 3e4<=e&&e<4e4}function dO(e){return x_(e)?"regular":ff(e)?"replaceable":b_(e)?"ephemeral":hf(e)?"parameterized":"unknown"}function fO(e,t){const n=t instanceof Array?t:[t];return My(e)&&n.includes(e.kind)||!1}var hO=0,E_=1,pO=2,mO=3,gO=4,yO=5,Dy=6,zy=7,vO=8,__=13,S_=14,By=16,k_=40,C_=41,N_=42,T_=43,P_=44,wO=1040,R_=1059,xO=1063,bO=1311,EO=1971,_O=1984,SO=1984,kO=1985,CO=4550,NO=5999,TO=6999,PO=7e3,RO=9041,AO=9734,jO=9735,IO=9802,OO=1e4,MO=10001,LO=10002,DO=10003,zO=10004,BO=10005,FO=10006,$O=10007,UO=10015,HO=10030,WO=10050,VO=10096,qO=13194,KO=21e3,A_=22242,j_=23194,ZO=23195,GO=24133,Fy=27235,YO=3e4,JO=30001,QO=30002,XO=30003,e5=30004,t5=30008,n5=30009,r5=30015,o5=30017,s5=30018,i5=30023,a5=30024,l5=30030,c5=30078,u5=30311,d5=30315,f5=30402,h5=30403,p5=31922,m5=31923,g5=31924,y5=31925,v5=31989,w5=31990,x5=34550;function b5(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e[`#${r}`];if(o&&!t.tags.find(([i,a])=>i===n.slice(1)&&o.indexOf(a)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function I_(e,t){for(let n=0;n<e.length;n++)if(b5(e[n],t))return!0;return!1}function O_(e){var t,n,r,o,i,a;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[c,u]of Object.entries(e))if(c[0]==="#"&&Array.isArray(u)&&!u.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(c=>ff(c)))?e.authors.length*e.kinds.length:1/0,(o=e.authors)!=null&&o.length&&((i=e.kinds)!=null&&i.every(c=>hf(c)))&&((a=e["#d"])!=null&&a.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var E5={};Ct(E5,{getHex64:()=>pf,getInt:()=>M_,getSubscriptionId:()=>L_,matchEventId:()=>_5,matchEventKind:()=>k5,matchEventPubkey:()=>S5});function pf(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function M_(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function L_(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let i=r+1+o;return e.slice(r+1,i)}function _5(e,t){return t===pf(e,"id")}function S5(e,t){return t===pf(e,"pubkey")}function k5(e,t){return t===M_(e,"kind")}var C5={};Ct(C5,{makeAuthEvent:()=>D_});function D_(e,t){return{kind:A_,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function N5(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var z_=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},B_=class{constructor(e,t){Ie(this,"url");Ie(this,"_connected",!1);Ie(this,"onclose",null);Ie(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));Ie(this,"baseEoseTimeout",4400);Ie(this,"connectionTimeout",4400);Ie(this,"publishTimeout",4400);Ie(this,"openSubs",new Map);Ie(this,"connectionTimeoutHandle");Ie(this,"connectionPromise");Ie(this,"openCountRequests",new Map);Ie(this,"openEventPublishes",new Map);Ie(this,"ws");Ie(this,"incomingMessageQueue",new w_);Ie(this,"queueRunning",!1);Ie(this,"challenge");Ie(this,"authPromise");Ie(this,"serial",0);Ie(this,"verifyEvent");Ie(this,"_WebSocket");this.url=y_(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new B_(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await N5();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=L_(e);if(t){const o=this.openSubs.get(t);if(!o)return;const i=pf(e,"id"),a=(n=o.alreadyHaveEvent)==null?void 0:n.call(o,i);if((r=o.receivedEvent)==null||r.call(o,this,i),a)return}try{let o=JSON.parse(e);switch(o[0]){case"EVENT":{const i=this.openSubs.get(o[1]),a=o[2];this.verifyEvent(a)&&I_(i.filters,a)&&i.onevent(a);return}case"COUNT":{const i=o[1],a=o[2],c=this.openCountRequests.get(i);c&&(c.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(o[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=o[1],a=o[2],c=o[3],u=this.openEventPublishes.get(i);u&&(clearTimeout(u.timeout),a?u.resolve(c):u.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{const i=o[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(o[2]);return}case"NOTICE":this.onnotice(o[1]);return;case"AUTH":{this.challenge=o[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new z_(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let o=await e(D_(this.url,t)),i=setTimeout(()=>{let a=this.openEventPublishes.get(o.id);a&&(a.reject(new Error("auth timed out")),this.openEventPublishes.delete(o.id))},this.publishTimeout);this.openEventPublishes.set(o.id,{resolve:n,reject:r,timeout:i}),this.send('["AUTH",'+JSON.stringify(o)+"]")}catch(o){console.warn("subscribe auth function failed:",o)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const o=setTimeout(()=>{const i=this.openEventPublishes.get(e.id);i&&(i.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:o})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((o,i)=>{this.openCountRequests.set(n,{resolve:o,reject:i})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new T5(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},T5=class{constructor(e,t,n,r){Ie(this,"relay");Ie(this,"id");Ie(this,"closed",!1);Ie(this,"eosed",!1);Ie(this,"filters");Ie(this,"alreadyHaveEvent");Ie(this,"receivedEvent");Ie(this,"onevent");Ie(this,"oneose");Ie(this,"onclose");Ie(this,"eoseTimeout");Ie(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(o=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof z_))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},F_;try{F_=WebSocket}catch{}var $_=class extends B_{constructor(e){super(e,{verifyEvent:Rc,websocketImplementation:F_})}static async connect(e){const t=new $_(e);return await t.connect(),t}},P5;try{P5=WebSocket}catch{}var xn={};Ct(xn,{BECH32_REGEX:()=>U_,Bech32MaxSize:()=>$y,NostrTypeGuard:()=>R5,decode:()=>mf,decodeNostrURI:()=>j5,encodeBytes:()=>yf,naddrEncode:()=>z5,neventEncode:()=>D5,noteEncode:()=>M5,nprofileEncode:()=>L5,npubEncode:()=>O5,nsecEncode:()=>I5});var R5={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},$y=5e3,U_=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function A5(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function j5(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),mf(e)}catch{return{type:"invalid",data:null}}}function mf(e){var o,i,a,c,u,f,m;let{prefix:t,words:n}=Pa.decode(e,$y),r=new Uint8Array(Pa.fromWords(n));switch(t){case"nprofile":{let h=rm(r);if(!((o=h[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(h[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:dn(h[0][0]),relays:h[1]?h[1].map(w=>po.decode(w)):[]}}}case"nevent":{let h=rm(r);if(!((i=h[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(h[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(h[2]&&h[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(h[3]&&h[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:dn(h[0][0]),relays:h[1]?h[1].map(w=>po.decode(w)):[],author:(a=h[2])!=null&&a[0]?dn(h[2][0]):void 0,kind:(c=h[3])!=null&&c[0]?parseInt(dn(h[3][0]),16):void 0}}}case"naddr":{let h=rm(r);if(!((u=h[0])!=null&&u[0]))throw new Error("missing TLV 0 for naddr");if(!((f=h[2])!=null&&f[0]))throw new Error("missing TLV 2 for naddr");if(h[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((m=h[3])!=null&&m[0]))throw new Error("missing TLV 3 for naddr");if(h[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:po.decode(h[0][0]),pubkey:dn(h[2][0]),kind:parseInt(dn(h[3][0]),16),relays:h[1]?h[1].map(w=>po.decode(w)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:dn(r)};default:throw new Error(`unknown prefix ${t}`)}}function rm(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],i=n.slice(2,2+o);if(n=n.slice(2+o),i.length<o)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(i)}return t}function I5(e){return yf("nsec",e)}function O5(e){return yf("npub",di(e))}function M5(e){return yf("note",di(e))}function gf(e,t){let n=Pa.toWords(t);return Pa.encode(e,n,$y)}function yf(e,t){return gf(e,t)}function L5(e){let t=Uy({0:[di(e.pubkey)],1:(e.relays||[]).map(n=>br.encode(n))});return gf("nprofile",t)}function D5(e){let t;e.kind!==void 0&&(t=A5(e.kind));let n=Uy({0:[di(e.id)],1:(e.relays||[]).map(r=>br.encode(r)),2:e.author?[di(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return gf("nevent",n)}function z5(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Uy({0:[br.encode(e.identifier)],1:(e.relays||[]).map(r=>br.encode(r)),2:[di(e.pubkey)],3:[new Uint8Array(t)]});return gf("naddr",n)}function Uy(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let i=new Uint8Array(o.length+2);i.set([parseInt(n)],0),i.set([o.length],1),i.set(o,2),t.push(i)})}),lf(...t)}var ac={};Ct(ac,{decrypt:()=>B5,encrypt:()=>H_});function H_(e,t,n){const r=e instanceof Uint8Array?dn(e):e,o=La.getSharedSecret(r,"02"+t),i=W_(o);let a=Uint8Array.from(t_(16)),c=br.encode(n),u=d_(i,a).encrypt(c),f=vo.encode(new Uint8Array(u)),m=vo.encode(new Uint8Array(a.buffer));return`${f}?iv=${m}`}function B5(e,t,n){const r=e instanceof Uint8Array?dn(e):e;let[o,i]=n.split("?iv="),a=La.getSharedSecret(r,"02"+t),c=W_(a),u=vo.decode(i),f=vo.decode(o),m=d_(c,u).decrypt(f);return po.decode(m)}function W_(e){return e.slice(1,33)}var F5={};Ct(F5,{NIP05_REGEX:()=>Hy,isNip05:()=>$5,isValid:()=>W5,queryProfile:()=>V_,searchDomain:()=>H5,useFetchImplementation:()=>U5});var Hy=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,$5=e=>Hy.test(e||""),vf;try{vf=fetch}catch{}function U5(e){vf=e}async function H5(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await vf(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function V_(e){var o;const t=e.match(Hy);if(!t)return null;const[,n="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${n}`,a=await vf(i,{redirect:"manual"});if(a.status!==200)throw Error("Wrong response code");const c=await a.json(),u=c.names[n];return u?{pubkey:u,relays:(o=c.relays)==null?void 0:o[u]}:null}catch{return null}}async function W5(e,t){const n=await V_(t);return n?n.pubkey===e:!1}var V5={};Ct(V5,{parse:()=>q5});function q5(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let o=e.tags.length-1;o>=0;o--){const i=e.tags[o];if(i[0]==="e"&&i[1]){const[a,c,u,f,m]=i,h={id:c,relays:u?[u]:[],author:m};if(f==="root"){t.root=h;continue}if(f==="reply"){t.reply=h;continue}if(f==="mention"){t.mentions.push(h);continue}n?r=h:n=h,t.mentions.push(h);continue}if(i[0]==="q"&&i[1]){const[a,c,u]=i;t.quotes.push({id:c,relays:u?[u]:[]})}if(i[0]==="p"&&i[1]){t.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let i=t.mentions.indexOf(o);if(i!==-1&&t.mentions.splice(i,1),o.author){let a=t.profiles.find(c=>c.pubkey===o.author);a&&a.relays&&(o.relays||(o.relays=[]),a.relays.forEach(c=>{var u;((u=o.relays)==null?void 0:u.indexOf(c))===-1&&o.relays.push(c)}),a.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let i=t.profiles.find(a=>a.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(a=>{o.relays.indexOf(a)===-1&&o.relays.push(a)}),i.relays=o.relays)}}),t}var K5={};Ct(K5,{fetchRelayInformation:()=>G5,useFetchImplementation:()=>Z5});var q_;try{q_=fetch}catch{}function Z5(e){q_=e}async function G5(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Y5={};Ct(Y5,{fastEventHash:()=>Z_,getPow:()=>K_,minePow:()=>J5});function K_(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function J5(e,t){let n=0;const r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),o[1]=(++n).toString(),r.id=Z_(r),K_(r.id)>=t)break}return r}function Z_(e){return dn(Da(br.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var Q5={};Ct(Q5,{unwrapEvent:()=>cM,unwrapManyEvents:()=>uM,wrapEvent:()=>aS,wrapManyEvents:()=>lM});var X5={};Ct(X5,{createRumor:()=>rS,createSeal:()=>oS,createWrap:()=>sS,unwrapEvent:()=>Zy,unwrapManyEvents:()=>iS,wrapEvent:()=>Id,wrapManyEvents:()=>iM});var hs={};Ct(hs,{decrypt:()=>Ky,encrypt:()=>qy,getConversationKey:()=>Wy,v2:()=>oM});var G_=1,Y_=65535;function Wy(e,t){const n=La.getSharedSecret(e,"02"+t).subarray(1,33);return tO(Da,n,"nip44-v2")}function J_(e,t){const n=nO(Da,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Vy(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function eM(e){if(!Number.isSafeInteger(e)||e<G_||e>Y_)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function tM(e){const t=br.encode(e),n=t.length,r=eM(n),o=new Uint8Array(Vy(n)-n);return lf(r,t,o)}function nM(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<G_||t>Y_||n.length!==t||e.length!==2+Vy(t))throw new Error("invalid padding");return po.decode(n)}function Q_(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=lf(n,t);return uf(Da,e,r)}function rM(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=vo.decode(e)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function qy(e,t,n=t_(32)){const{chacha_key:r,chacha_nonce:o,hmac_key:i}=J_(t,n),a=tM(e),c=m_(r,o,a),u=Q_(i,c,n);return vo.encode(lf(new Uint8Array([2]),n,c,u))}function Ky(e,t){const{nonce:n,ciphertext:r,mac:o}=rM(e),{chacha_key:i,chacha_nonce:a,hmac_key:c}=J_(t,n),u=Q_(c,r,n);if(!L3(u,o))throw new Error("invalid MAC");const f=m_(i,a,r);return nM(f)}var oM={utils:{getConversationKey:Wy,calcPaddedLen:Vy},encrypt:qy,decrypt:Ky},sM=2*24*60*60,X_=()=>Math.round(Date.now()/1e3),eS=()=>Math.round(X_()-Math.random()*sM),tS=(e,t)=>Wy(e,t),nS=(e,t,n)=>qy(JSON.stringify(e),tS(t,n)),$1=(e,t)=>JSON.parse(Ky(e.content,tS(t,e.pubkey)));function rS(e,t){const n={created_at:X_(),content:"",tags:[],...e,pubkey:wo(t)};return n.id=ec(n),n}function oS(e,t,n){return ir({kind:__,content:nS(e,t,n),created_at:eS(),tags:[]},t)}function sS(e,t){const n=Pc();return ir({kind:R_,content:nS(e,n,t),created_at:eS(),tags:[["p",t]]},n)}function Id(e,t,n){const r=rS(e,t),o=oS(r,t,n);return sS(o,n)}function iM(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=wo(t),o=[Id(e,t,r)];return n.forEach(i=>{o.push(Id(e,t,i))}),o}function Zy(e,t){const n=$1(e,t);return $1(n,t)}function iS(e,t){let n=[];return e.forEach(r=>{n.push(Zy(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}function aM(e,t,n,r){const o={created_at:Math.ceil(Date.now()/1e3),kind:S_,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:a,relayUrl:c})=>{o.tags.push(c?["p",a,c]:["p",a])}),r&&o.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&o.tags.push(["subject",n]),o}function aS(e,t,n,r,o){const i=aM(t,n,r,o);return Id(i,e,t.publicKey)}function lM(e,t,n,r,o){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:wo(e)},...t].map(a=>aS(e,a,n,r,o))}var cM=Zy,uM=iS,dM={};Ct(dM,{finishRepostEvent:()=>fM,getRepostedEvent:()=>hM,getRepostedEventPointer:()=>lS});function fM(e,t,n,r){var a;let o;const i=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===E_?o=Dy:(o=By,i.push(["k",String(t.kind)])),ir({kind:o,tags:i,content:e.content===""||(a=t.tags)!=null&&a.find(c=>c[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function lS(e){if(![Dy,By].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function hM(e,{skipVerification:t}={}){const n=lS(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Rc(r)))return r}var pM={};Ct(pM,{NOSTR_URI_REGEX:()=>Gy,parse:()=>gM,test:()=>mM});var Gy=new RegExp(`nostr:(${U_.source})`);function mM(e){return typeof e=="string"&&new RegExp(`^${Gy.source}$`).test(e)}function gM(e){const t=e.match(new RegExp(`^${Gy.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:mf(t[1])}}var yM={};Ct(yM,{finishReactionEvent:()=>vM,getReactedEventPointer:()=>wM});function vM(e,t,n){const r=t.tags.filter(o=>o.length>=2&&(o[0]==="e"||o[0]==="p"));return ir({...e,kind:zy,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function wM(e){if(e.kind!==zy)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var xM={};Ct(xM,{parse:()=>EM});var bM=/\W/m,U1=/\W |\W$|$|,| /m;function*EM(e){const t=e.length;let n=0,r=0;for(;r<t;){let o=e.indexOf(":",r);if(o===-1)break;if(e.substring(o-5,o)==="nostr"){const i=e.substring(o+60).match(bM),a=i?o+60+i.index:t;try{let c,{data:u,type:f}=mf(e.substring(o+1,a));switch(f){case"npub":c={pubkey:u};break;case"nsec":case"note":r=a+1;continue;default:c=u}n!==o-5&&(yield{type:"text",text:e.substring(n,o-5)}),yield{type:"reference",pointer:c},r=a,n=r;continue}catch{r=o+1;continue}}else if(e.substring(o-5,o)==="https"||e.substring(o-4,o)==="http"){const i=e.substring(o+4).match(U1),a=i?o+4+i.index:t,c=e[o-1]==="s"?5:4;try{let u=new URL(e.substring(o-c,a));if(u.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==o-c&&(yield{type:"text",text:e.substring(n,o-c)}),u.pathname.endsWith(".png")||u.pathname.endsWith(".jpg")||u.pathname.endsWith(".jpeg")||u.pathname.endsWith(".gif")||u.pathname.endsWith(".webp")){yield{type:"image",url:u.toString()},r=a,n=r;continue}if(u.pathname.endsWith(".mp4")||u.pathname.endsWith(".avi")||u.pathname.endsWith(".webm")||u.pathname.endsWith(".mkv")){yield{type:"video",url:u.toString()},r=a,n=r;continue}if(u.pathname.endsWith(".mp3")||u.pathname.endsWith(".aac")||u.pathname.endsWith(".ogg")||u.pathname.endsWith(".opus")){yield{type:"audio",url:u.toString()},r=a,n=r;continue}yield{type:"url",url:u.toString()},r=a,n=r;continue}catch{r=a+1;continue}}else if(e.substring(o-3,o)==="wss"||e.substring(o-2,o)==="ws"){const i=e.substring(o+4).match(U1),a=i?o+4+i.index:t,c=e[o-1]==="s"?3:2;try{let u=new URL(e.substring(o-c,a));if(u.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==o-c&&(yield{type:"text",text:e.substring(n,o-c)}),yield{type:"relay",url:u.toString()},r=a,n=r;continue}catch{r=a+1;continue}}else{r=o+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var _M={};Ct(_M,{channelCreateEvent:()=>SM,channelHideMessageEvent:()=>NM,channelMessageEvent:()=>CM,channelMetadataEvent:()=>kM,channelMuteUserEvent:()=>TM});var SM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ir({kind:k_,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},kM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ir({kind:C_,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},CM=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),ir({kind:N_,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},NM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ir({kind:T_,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},TM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ir({kind:P_,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},PM={};Ct(PM,{EMOJI_SHORTCODE_REGEX:()=>cS,matchAll:()=>RM,regex:()=>Yy,replaceAll:()=>AM});var cS=/:(\w+):/,Yy=()=>new RegExp(`\\B${cS.source}\\B`,"g");function*RM(e){const t=e.matchAll(Yy());for(const n of t)try{const[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch{}}function AM(e,t){return e.replaceAll(Yy(),(n,r)=>t({shortcode:n,name:r}))}var jM={};Ct(jM,{useFetchImplementation:()=>IM,validateGithub:()=>OM});var Jy;try{Jy=fetch}catch{}function IM(e){Jy=e}async function OM(e,t,n){try{return await(await Jy(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var MM={};Ct(MM,{makeNwcRequestEvent:()=>DM,parseConnectionString:()=>LM});function LM(e){const{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),i=n.get("secret");if(!r||!o||!i)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:i}}async function DM(e,t,n){const o=H_(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:j_,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return ir(i,t)}var zM={};Ct(zM,{normalizeIdentifier:()=>BM});function BM(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var FM={};Ct(FM,{getSatoshisAmountFromBolt11:()=>qM,getZapEndpoint:()=>UM,makeZapReceipt:()=>VM,makeZapRequest:()=>HM,useFetchImplementation:()=>$M,validateZapRequest:()=>WM});var Qy;try{Qy=fetch}catch{}function $M(e){Qy=e}async function UM(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:a}=Pa.decode(n,1e3),c=Pa.fromWords(a);t=po.decode(c)}else if(r){let[a,c]=r.split("@");t=new URL(`/.well-known/lnurlp/${a}`,`https://${c}`).toString()}else return null;let i=await(await Qy(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function HM({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&i.tags.push(["e",t]),t&&typeof t=="object"){if(ff(t.kind)){const a=["a",`${t.kind}:${t.pubkey}:`];i.tags.push(a)}else if(hf(t.kind)){let a=t.tags.find(([u,f])=>u==="d"&&f);if(!a)throw new Error("d tag not found or is empty");const c=["a",`${t.kind}:${t.pubkey}:${a[1]}`];i.tags.push(c)}}return i}function WM(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!My(t))return"Zap request is not a valid Nostr event.";if(!Rc(t))return"Invalid signature on zap request.";let n=t.tags.find(([i,a])=>i==="p"&&a);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([i,a])=>i==="e"&&a);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([i,a])=>i==="relays"&&a)?null:"Zap request doesn't have a 'relays' tag."}function VM({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),i=o.tags.filter(([c])=>c==="e"||c==="p"||c==="a"),a={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&a.tags.push(["preimage",t]),a}function qM(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const o=r[r.length-1],i=o.charCodeAt(0)-48,a=i>=0&&i<=9;let c=r.length-1;if(a&&c++,c<1)return 0;const u=parseInt(r.substring(0,c));switch(o){case"m":return u*1e5;case"u":return u*100;case"n":return u/10;case"p":return u/1e4;default:return u*1e8}}var KM={};Ct(KM,{getToken:()=>ZM,hashPayload:()=>Xy,unpackEventFromToken:()=>dS,validateEvent:()=>yS,validateEventKind:()=>hS,validateEventMethodTag:()=>mS,validateEventPayloadTag:()=>gS,validateEventTimestamp:()=>fS,validateEventUrlTag:()=>pS,validateToken:()=>GM});var uS="Nostr ";async function ZM(e,t,n,r=!1,o){const i={kind:Fy,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&i.tags.push(["payload",Xy(o)]);const a=await n(i);return(r?uS:"")+vo.encode(br.encode(JSON.stringify(a)))}async function GM(e,t,n){const r=await dS(e).catch(i=>{throw i});return await yS(r,t,n).catch(i=>{throw i})}async function dS(e){if(!e)throw new Error("Missing token");e=e.replace(uS,"");const t=po.decode(vo.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function fS(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function hS(e){return e.kind===Fy}function pS(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function mS(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Xy(e){const t=Da(br.encode(JSON.stringify(e)));return dn(t)}function gS(e,t){const n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;const r=Xy(t);return n.length>0&&n[1]===r}async function yS(e,t,n,r){if(!Rc(e))throw new Error("Invalid nostr event, signature invalid");if(!hS(e))throw new Error("Invalid nostr event, kind invalid");if(!fS(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!pS(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!mS(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!gS(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var lE,cE,ef,vS;const Mr=class Mr{constructor(t){We(this,ef);Ie(this,"cache");Ie(this,lE,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){et(this,ef,vS).call(this,t);for(const n of this){if(Mr.deletes(n,t)||Mr.replaces(n,t))return this;Mr.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,o)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Mr.sortEvents([...this.cache.values()]))yield t}[(cE=Symbol.iterator,lE=Symbol.toStringTag,cE)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var i,a;const{kind:r,pubkey:o}=t;if(Mr.isReplaceable(r))return r===n.kind&&o===n.pubkey&&Mr.sortEvents([t,n])[0]===t;if(Mr.isAddressable(r)){const c=((i=t.tags.find(([f])=>f==="d"))==null?void 0:i[1])||"",u=((a=n.tags.find(([f])=>f==="d"))==null?void 0:a[1])||"";return r===n.kind&&o===n.pubkey&&Mr.sortEvents([t,n])[0]===t&&c===u}return!1}static deletes(t,n){const{kind:r,pubkey:o,tags:i}=t;if(r===5&&o===n.pubkey){for(const[a,c]of i)if(a==="e"&&c===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};ef=new WeakSet,vS=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let Od=Mr;const YM=Object.freeze({status:"aborted"});function ve(e,t,n){function r(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,u);const f=a.prototype,m=Object.keys(f);for(let h=0;h<m.length;h++){const w=m[h];w in c||(c[w]=f[w].bind(c))}}const o=(n==null?void 0:n.Parent)??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function a(c){var u;const f=n!=null&&n.Parent?new i:this;r(f,c),(u=f._zod).deferred??(u.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:c=>{var u,f;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(f=(u=c==null?void 0:c._zod)==null?void 0:u.traits)==null?void 0:f.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ia extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class wS extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const xS={};function xs(e){return xS}function bS(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Tg(e,t){return typeof t=="bigint"?t.toString():t}function ev(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function tv(e){return e==null}function nv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function JM(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u!=null&&u[1]&&(o=Number.parseInt(u[1]))}const i=n>o?n:o,a=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return a%c/10**i}const H1=Symbol("evaluating");function gt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==H1)return r===void 0&&(r=H1,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function yi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ks(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function W1(e){return JSON.stringify(e)}function QM(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ES="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Md(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const XM=ev(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ra(e){if(Md(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Md(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function _S(e){return Ra(e)?{...e}:Array.isArray(e)?[...e]:e}const e8=new Set(["string","number","symbol"]);function Aa(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Cs(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Ve(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function t8(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const n8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function r8(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=ks(e._zod.def,{get shape(){const a={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(a[c]=n.shape[c])}return yi(this,"shape",a),a},checks:[]});return Cs(e,i)}function o8(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=ks(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete a[c]}return yi(this,"shape",a),a},checks:[]});return Cs(e,i)}function s8(e,t){if(!Ra(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const i=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ks(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return yi(this,"shape",i),i}});return Cs(e,o)}function i8(e,t){if(!Ra(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ks(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return yi(this,"shape",r),r}});return Cs(e,n)}function a8(e,t){const n=ks(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return yi(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Cs(e,n)}function l8(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=ks(t._zod.def,{get shape(){const c=t._zod.def.shape,u={...c};if(n)for(const f in n){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return yi(this,"shape",u),u},checks:[]});return Cs(t,a)}function c8(e,t,n){const r=ks(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new e({type:"nonoptional",innerType:o[a]}))}else for(const a in o)i[a]=new e({type:"nonoptional",innerType:o[a]});return yi(this,"shape",i),i}});return Cs(t,r)}function oa(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Ks(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function td(e){return typeof e=="string"?e:e==null?void 0:e.message}function bs(e,t,n){var o,i,a,c,u,f;const r={...e,path:e.path??[]};if(!e.message){const m=td((a=(i=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:i.error)==null?void 0:a.call(i,e))??td((c=t==null?void 0:t.error)==null?void 0:c.call(t,e))??td((u=n.customError)==null?void 0:u.call(n,e))??td((f=n.localeError)==null?void 0:f.call(n,e))??"Invalid input";r.message=m}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function rv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function lc(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const SS=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Tg,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},kS=ve("$ZodError",SS),CS=ve("$ZodError",SS,{Parent:Error});function u8(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function d8(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let a=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return r(e),n}const ov=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new ia;if(a.issues.length){const c=new((o==null?void 0:o.Err)??e)(a.issues.map(u=>bs(u,i,xs())));throw ES(c,o==null?void 0:o.callee),c}return a.value},sv=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const c=new((o==null?void 0:o.Err)??e)(a.issues.map(u=>bs(u,i,xs())));throw ES(c,o==null?void 0:o.callee),c}return a.value},wf=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new ia;return i.issues.length?{success:!1,error:new(e??kS)(i.issues.map(a=>bs(a,o,xs())))}:{success:!0,data:i.value}},f8=wf(CS),xf=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(a=>bs(a,o,xs())))}:{success:!0,data:i.value}},h8=xf(CS),p8=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ov(e)(t,n,o)},m8=e=>(t,n,r)=>ov(e)(t,n,r),g8=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sv(e)(t,n,o)},y8=e=>async(t,n,r)=>sv(e)(t,n,r),v8=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wf(e)(t,n,o)},w8=e=>(t,n,r)=>wf(e)(t,n,r),x8=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xf(e)(t,n,o)},b8=e=>async(t,n,r)=>xf(e)(t,n,r),E8=/^[cC][^\s-]{8,}$/,_8=/^[0-9a-z]+$/,S8=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,k8=/^[0-9a-vA-V]{20}$/,C8=/^[A-Za-z0-9]{27}$/,N8=/^[a-zA-Z0-9_-]{21}$/,T8=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,P8=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,V1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,R8=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,A8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function j8(){return new RegExp(A8,"u")}const I8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,O8=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,M8=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,L8=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,D8=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,NS=/^[A-Za-z0-9_-]*$/,z8=/^\+[1-9]\d{6,14}$/,TS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",B8=new RegExp(`^${TS}$`);function PS(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function F8(e){return new RegExp(`^${PS(e)}$`)}function $8(e){const t=PS({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${TS}T(?:${r})$`)}const U8=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},H8=/^-?\d+$/,RS=/^-?\d+(?:\.\d+)?$/,W8=/^(?:true|false)$/i,V8=/^[^A-Z]*$/,q8=/^[^a-z]*$/,jn=ve("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),AS={number:"number",bigint:"bigint",object:"date"},jS=ve("$ZodCheckLessThan",(e,t)=>{jn.init(e,t);const n=AS[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),IS=ve("$ZodCheckGreaterThan",(e,t)=>{jn.init(e,t);const n=AS[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),K8=ve("$ZodCheckMultipleOf",(e,t)=>{jn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):JM(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Z8=ve("$ZodCheckNumberFormat",(e,t)=>{var a;jn.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),r=n?"int":"number",[o,i]=n8[t.format];e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,n&&(u.pattern=H8)}),e._zod.check=c=>{const u=c.value;if(n){if(!Number.isInteger(u)){c.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?c.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):c.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}u<o&&c.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&c.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),G8=ve("$ZodCheckMaxLength",(e,t)=>{var n;jn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!tv(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const a=rv(o);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Y8=ve("$ZodCheckMinLength",(e,t)=>{var n;jn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!tv(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const a=rv(o);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),J8=ve("$ZodCheckLengthEquals",(e,t)=>{var n;jn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!tv(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const a=rv(o),c=i>t.length;r.issues.push({origin:a,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),bf=ve("$ZodCheckStringFormat",(e,t)=>{var n,r;jn.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Q8=ve("$ZodCheckRegex",(e,t)=>{bf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),X8=ve("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=V8),bf.init(e,t)}),e6=ve("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=q8),bf.init(e,t)}),t6=ve("$ZodCheckIncludes",(e,t)=>{jn.init(e,t);const n=Aa(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),n6=ve("$ZodCheckStartsWith",(e,t)=>{jn.init(e,t);const n=new RegExp(`^${Aa(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),r6=ve("$ZodCheckEndsWith",(e,t)=>{jn.init(e,t);const n=new RegExp(`.*${Aa(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),o6=ve("$ZodCheckOverwrite",(e,t)=>{jn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class s6{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),i=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const i6={major:4,minor:3,patch:6},St=ve("$ZodType",(e,t)=>{var o;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=i6;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const a of i._zod.onattach)a(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const i=(c,u,f)=>{let m=oa(c),h;for(const w of u){if(w._zod.def.when){if(!w._zod.def.when(c))continue}else if(m)continue;const y=c.issues.length,b=w._zod.check(c);if(b instanceof Promise&&(f==null?void 0:f.async)===!1)throw new ia;if(h||b instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await b,c.issues.length!==y&&(m||(m=oa(c,y)))});else{if(c.issues.length===y)continue;m||(m=oa(c,y))}}return h?h.then(()=>c):c},a=(c,u,f)=>{if(oa(c))return c.aborted=!0,c;const m=i(u,r,f);if(m instanceof Promise){if(f.async===!1)throw new ia;return m.then(h=>e._zod.parse(h,f))}return e._zod.parse(m,f)};e._zod.run=(c,u)=>{if(u.skipChecks)return e._zod.parse(c,u);if(u.direction==="backward"){const m=e._zod.parse({value:c.value,issues:[]},{...u,skipChecks:!0});return m instanceof Promise?m.then(h=>a(h,c,u)):a(m,c,u)}const f=e._zod.parse(c,u);if(f instanceof Promise){if(u.async===!1)throw new ia;return f.then(m=>i(m,r,u))}return i(f,r,u)}}gt(e,"~standard",()=>({validate:i=>{var a;try{const c=f8(e,i);return c.success?{value:c.data}:{issues:(a=c.error)==null?void 0:a.issues}}catch{return h8(e,i).then(u=>{var f;return u.success?{value:u.data}:{issues:(f=u.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),iv=ve("$ZodString",(e,t)=>{var n;St.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??U8(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Nt=ve("$ZodStringFormat",(e,t)=>{bf.init(e,t),iv.init(e,t)}),a6=ve("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=P8),Nt.init(e,t)}),l6=ve("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=V1(r))}else t.pattern??(t.pattern=V1());Nt.init(e,t)}),c6=ve("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=R8),Nt.init(e,t)}),u6=ve("$ZodURL",(e,t)=>{Nt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),d6=ve("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=j8()),Nt.init(e,t)}),f6=ve("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=N8),Nt.init(e,t)}),h6=ve("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=E8),Nt.init(e,t)}),p6=ve("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=_8),Nt.init(e,t)}),m6=ve("$ZodULID",(e,t)=>{t.pattern??(t.pattern=S8),Nt.init(e,t)}),g6=ve("$ZodXID",(e,t)=>{t.pattern??(t.pattern=k8),Nt.init(e,t)}),y6=ve("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=C8),Nt.init(e,t)}),v6=ve("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=$8(t)),Nt.init(e,t)}),w6=ve("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=B8),Nt.init(e,t)}),x6=ve("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=F8(t)),Nt.init(e,t)}),b6=ve("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=T8),Nt.init(e,t)}),E6=ve("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=I8),Nt.init(e,t),e._zod.bag.format="ipv4"}),_6=ve("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=O8),Nt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),S6=ve("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=M8),Nt.init(e,t)}),k6=ve("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=L8),Nt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function OS(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const C6=ve("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=D8),Nt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{OS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function N6(e){if(!NS.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return OS(n)}const T6=ve("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=NS),Nt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{N6(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),P6=ve("$ZodE164",(e,t)=>{t.pattern??(t.pattern=z8),Nt.init(e,t)});function R6(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const A6=ve("$ZodJWT",(e,t)=>{Nt.init(e,t),e._zod.check=n=>{R6(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),MS=ve("$ZodNumber",(e,t)=>{St.init(e,t),e._zod.pattern=e._zod.bag.pattern??RS,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),j6=ve("$ZodNumberFormat",(e,t)=>{Z8.init(e,t),MS.init(e,t)}),I6=ve("$ZodBoolean",(e,t)=>{St.init(e,t),e._zod.pattern=W8,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),O6=ve("$ZodUnknown",(e,t)=>{St.init(e,t),e._zod.parse=n=>n}),M6=ve("$ZodNever",(e,t)=>{St.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function q1(e,t,n){e.issues.length&&t.issues.push(...Ks(n,e.issues)),t.value[n]=e.value}const L6=ve("$ZodArray",(e,t)=>{St.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let a=0;a<o.length;a++){const c=o[a],u=t.element._zod.run({value:c,issues:[]},r);u instanceof Promise?i.push(u.then(f=>q1(f,n,a))):q1(u,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function Ld(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...Ks(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function LS(e){var r,o,i,a;const t=Object.keys(e.shape);for(const c of t)if(!((a=(i=(o=(r=e.shape)==null?void 0:r[c])==null?void 0:o._zod)==null?void 0:i.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=t8(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function DS(e,t,n,r,o,i){const a=[],c=o.keySet,u=o.catchall._zod,f=u.def.type,m=u.optout==="optional";for(const h in t){if(c.has(h))continue;if(f==="never"){a.push(h);continue}const w=u.run({value:t[h],issues:[]},r);w instanceof Promise?e.push(w.then(y=>Ld(y,n,h,t,m))):Ld(w,n,h,t,m)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const D6=ve("$ZodObject",(e,t)=>{St.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...c};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=ev(()=>LS(t));gt(e._zod,"propValues",()=>{const c=t.shape,u={};for(const f in c){const m=c[f]._zod;if(m.values){u[f]??(u[f]=new Set);for(const h of m.values)u[f].add(h)}}return u});const o=Md,i=t.catchall;let a;e._zod.parse=(c,u)=>{a??(a=r.value);const f=c.value;if(!o(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const m=[],h=a.shape;for(const w of a.keys){const y=h[w],b=y._zod.optout==="optional",g=y._zod.run({value:f[w],issues:[]},u);g instanceof Promise?m.push(g.then(x=>Ld(x,c,w,f,b))):Ld(g,c,w,f,b)}return i?DS(m,f,c,u,r.value,e):m.length?Promise.all(m).then(()=>c):c}}),z6=ve("$ZodObjectJIT",(e,t)=>{D6.init(e,t);const n=e._zod.parse,r=ev(()=>LS(t)),o=w=>{var C;const y=new s6(["shape","payload","ctx"]),b=r.value,g=A=>{const j=W1(A);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};y.write("const input = payload.value;");const x=Object.create(null);let E=0;for(const A of b.keys)x[A]=`key_${E++}`;y.write("const newResult = {};");for(const A of b.keys){const j=x[A],L=W1(A),D=w[A],B=((C=D==null?void 0:D._zod)==null?void 0:C.optout)==="optional";y.write(`const ${j} = ${g(A)};`),B?y.write(`
        if (${j}.issues.length) {
          if (${L} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${L}, ...iss.path] : [${L}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${j}.value;
        }
        
      `):y.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${j}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const k=y.compile();return(A,j)=>k(w,A,j)};let i;const a=Md,c=!xS.jitless,f=c&&XM.value,m=t.catchall;let h;e._zod.parse=(w,y)=>{h??(h=r.value);const b=w.value;return a(b)?c&&f&&(y==null?void 0:y.async)===!1&&y.jitless!==!0?(i||(i=o(t.shape)),w=i(w,y),m?DS([],b,w,y,h,e):w):n(w,y):(w.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),w)}});function K1(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!oa(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(a=>bs(a,r,xs())))}),t)}const B6=ve("$ZodUnion",(e,t)=>{St.init(e,t),gt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),gt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),gt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),gt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>nv(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const c=[];for(const u of t.options){const f=u._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)c.push(f),a=!0;else{if(f.issues.length===0)return f;c.push(f)}}return a?Promise.all(c).then(u=>K1(u,o,e,i)):K1(c,o,e,i)}}),F6=ve("$ZodIntersection",(e,t)=>{St.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),a=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,f])=>Z1(n,u,f)):Z1(n,i,a)}});function Pg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ra(e)&&Ra(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const a=Pg(e[i],t[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};o[i]=a.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],a=Pg(o,i);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Z1(e,t,n){const r=new Map;let o;for(const c of t.issues)if(c.code==="unrecognized_keys"){o??(o=c);for(const u of c.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const u of c.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(c);const i=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(i.length&&o&&e.issues.push({...o,keys:i}),oa(e))return e;const a=Pg(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const $6=ve("$ZodTuple",(e,t)=>{St.init(e,t);const n=t.items;e._zod.parse=(r,o)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const a=[],c=[...n].reverse().findIndex(m=>m._zod.optin!=="optional"),u=c===-1?0:n.length-c;if(!t.rest){const m=i.length>n.length,h=i.length<u-1;if(m||h)return r.issues.push({...m?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:e,origin:"array"}),r}let f=-1;for(const m of n){if(f++,f>=i.length&&f>=u)continue;const h=m._zod.run({value:i[f],issues:[]},o);h instanceof Promise?a.push(h.then(w=>nd(w,r,f))):nd(h,r,f)}if(t.rest){const m=i.slice(n.length);for(const h of m){f++;const w=t.rest._zod.run({value:h,issues:[]},o);w instanceof Promise?a.push(w.then(y=>nd(y,r,f))):nd(w,r,f)}}return a.length?Promise.all(a).then(()=>r):r}});function nd(e,t,n){e.issues.length&&t.issues.push(...Ks(n,e.issues)),t.value[n]=e.value}const U6=ve("$ZodRecord",(e,t)=>{St.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Ra(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[],a=t.keyType._zod.values;if(a){n.value={};const c=new Set;for(const f of a)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){c.add(typeof f=="number"?f.toString():f);const m=t.valueType._zod.run({value:o[f],issues:[]},r);m instanceof Promise?i.push(m.then(h=>{h.issues.length&&n.issues.push(...Ks(f,h.issues)),n.value[f]=h.value})):(m.issues.length&&n.issues.push(...Ks(f,m.issues)),n.value[f]=m.value)}let u;for(const f in o)c.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const c of Reflect.ownKeys(o)){if(c==="__proto__")continue;let u=t.keyType._zod.run({value:c,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof c=="string"&&RS.test(c)&&u.issues.length){const h=t.keyType._zod.run({value:Number(c),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){t.mode==="loose"?n.value[c]=o[c]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>bs(h,r,xs())),input:c,path:[c],inst:e});continue}const m=t.valueType._zod.run({value:o[c],issues:[]},r);m instanceof Promise?i.push(m.then(h=>{h.issues.length&&n.issues.push(...Ks(c,h.issues)),n.value[u.value]=h.value})):(m.issues.length&&n.issues.push(...Ks(c,m.issues)),n.value[u.value]=m.value)}}return i.length?Promise.all(i).then(()=>n):n}}),H6=ve("$ZodEnum",(e,t)=>{St.init(e,t);const n=bS(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>e8.has(typeof o)).map(o=>typeof o=="string"?Aa(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:e}),o}}),W6=ve("$ZodLiteral",(e,t)=>{if(St.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Aa(r):r?Aa(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),V6=ve("$ZodTransform",(e,t)=>{St.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new wS(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new ia;return n.value=o,n}});function G1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const zS=ve("$ZodOptional",(e,t)=>{St.init(e,t),e._zod.optin="optional",e._zod.optout="optional",gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),gt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${nv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>G1(i,n.value)):G1(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),q6=ve("$ZodExactOptional",(e,t)=>{zS.init(e,t),gt(e._zod,"values",()=>t.innerType._zod.values),gt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),K6=ve("$ZodNullable",(e,t)=>{St.init(e,t),gt(e._zod,"optin",()=>t.innerType._zod.optin),gt(e._zod,"optout",()=>t.innerType._zod.optout),gt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${nv(n.source)}|null)$`):void 0}),gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Z6=ve("$ZodDefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Y1(i,t)):Y1(o,t)}});function Y1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const G6=ve("$ZodPrefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Y6=ve("$ZodNonOptional",(e,t)=>{St.init(e,t),gt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>J1(i,e)):J1(o,e)}});function J1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const J6=ve("$ZodCatch",(e,t)=>{St.init(e,t),gt(e._zod,"optin",()=>t.innerType._zod.optin),gt(e._zod,"optout",()=>t.innerType._zod.optout),gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(a=>bs(a,r,xs()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>bs(i,r,xs()))},input:n.value}),n.issues=[]),n)}}),Q6=ve("$ZodPipe",(e,t)=>{St.init(e,t),gt(e._zod,"values",()=>t.in._zod.values),gt(e._zod,"optin",()=>t.in._zod.optin),gt(e._zod,"optout",()=>t.out._zod.optout),gt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(a=>rd(a,t.in,r)):rd(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>rd(i,t.out,r)):rd(o,t.out,r)}});function rd(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const X6=ve("$ZodReadonly",(e,t)=>{St.init(e,t),gt(e._zod,"propValues",()=>t.innerType._zod.propValues),gt(e._zod,"values",()=>t.innerType._zod.values),gt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),gt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Q1):Q1(o)}});function Q1(e){return e.value=Object.freeze(e.value),e}const eL=ve("$ZodCustom",(e,t)=>{jn.init(e,t),St.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>X1(i,n,r,e));X1(o,n,r,e)}});function X1(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(lc(o))}}var eb;class tL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function nL(){return new tL}(eb=globalThis).__zod_globalRegistry??(eb.__zod_globalRegistry=nL());const Zl=globalThis.__zod_globalRegistry;function rL(e,t){return new e({type:"string",...Ve(t)})}function BS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ve(t)})}function tb(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(t)})}function oL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(t)})}function sL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(t)})}function iL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(t)})}function aL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(t)})}function FS(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ve(t)})}function lL(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(t)})}function cL(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(t)})}function uL(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(t)})}function dL(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(t)})}function fL(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(t)})}function hL(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(t)})}function pL(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(t)})}function mL(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(t)})}function gL(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(t)})}function yL(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(t)})}function vL(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(t)})}function wL(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(t)})}function xL(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(t)})}function bL(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(t)})}function EL(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(t)})}function _L(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(t)})}function SL(e,t){return new e({type:"string",format:"date",check:"string_format",...Ve(t)})}function kL(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ve(t)})}function CL(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ve(t)})}function NL(e,t){return new e({type:"number",checks:[],...Ve(t)})}function TL(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(t)})}function PL(e,t){return new e({type:"boolean",...Ve(t)})}function RL(e){return new e({type:"unknown"})}function AL(e,t){return new e({type:"never",...Ve(t)})}function nb(e,t){return new jS({check:"less_than",...Ve(t),value:e,inclusive:!1})}function om(e,t){return new jS({check:"less_than",...Ve(t),value:e,inclusive:!0})}function rb(e,t){return new IS({check:"greater_than",...Ve(t),value:e,inclusive:!1})}function sm(e,t){return new IS({check:"greater_than",...Ve(t),value:e,inclusive:!0})}function ob(e,t){return new K8({check:"multiple_of",...Ve(t),value:e})}function $S(e,t){return new G8({check:"max_length",...Ve(t),maximum:e})}function Dd(e,t){return new Y8({check:"min_length",...Ve(t),minimum:e})}function US(e,t){return new J8({check:"length_equals",...Ve(t),length:e})}function jL(e,t){return new Q8({check:"string_format",format:"regex",...Ve(t),pattern:e})}function IL(e){return new X8({check:"string_format",format:"lowercase",...Ve(e)})}function OL(e){return new e6({check:"string_format",format:"uppercase",...Ve(e)})}function ML(e,t){return new t6({check:"string_format",format:"includes",...Ve(t),includes:e})}function LL(e,t){return new n6({check:"string_format",format:"starts_with",...Ve(t),prefix:e})}function DL(e,t){return new r6({check:"string_format",format:"ends_with",...Ve(t),suffix:e})}function Ba(e){return new o6({check:"overwrite",tx:e})}function zL(e){return Ba(t=>t.normalize(e))}function BL(){return Ba(e=>e.trim())}function FL(){return Ba(e=>e.toLowerCase())}function $L(){return Ba(e=>e.toUpperCase())}function UL(){return Ba(e=>QM(e))}function HL(e,t,n){return new e({type:"array",element:t,...Ve(n)})}function WL(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ve(n)})}function VL(e){const t=qL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(lc(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(lc(o))}},e(n.value,n)));return t}function qL(e,t){const n=new jn({check:"custom",...Ve(t)});return n._zod.check=e,n}function HS(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Zl,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Lt(e,t,n={path:[],schemaPath:[]}){var m,h;var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const c=(h=(m=e._zod).toJSONSchema)==null?void 0:h.call(m);if(c)a.schema=c;else{const w={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,w);else{const b=a.schema,g=t.processors[o.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);g(e,t,b,w)}const y=e._zod.parent;y&&(a.ref||(a.ref=y),Lt(y,t,w),t.seen.get(y).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&gn(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function WS(e,t){var a,c,u,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const m of e.seen.entries()){const h=(a=e.metadataRegistry.get(m[0]))==null?void 0:a.id;if(h){const w=r.get(h);if(w&&w!==m[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,m[0])}}const o=m=>{var g;const h=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const x=(g=e.external.registry.get(m[0]))==null?void 0:g.id,E=e.external.uri??(C=>C);if(x)return{ref:E(x)};const k=m[1].defId??m[1].schema.id??`schema${e.counter++}`;return m[1].defId=k,{defId:k,ref:`${E("__shared")}#/${h}/${k}`}}if(m[1]===n)return{ref:"#"};const y=`#/${h}/`,b=m[1].schema.id??`__schema${e.counter++}`;return{defId:b,ref:y+b}},i=m=>{if(m[1].schema.$ref)return;const h=m[1],{ref:w,defId:y}=o(m);h.def={...h.schema},y&&(h.defId=y);const b=h.schema;for(const g in b)delete b[g];b.$ref=w};if(e.cycles==="throw")for(const m of e.seen.entries()){const h=m[1];if(h.cycle)throw new Error(`Cycle detected: #/${(c=h.cycle)==null?void 0:c.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const m of e.seen.entries()){const h=m[1];if(t===m[0]){i(m);continue}if(e.external){const y=(u=e.external.registry.get(m[0]))==null?void 0:u.id;if(t!==m[0]&&y){i(m);continue}}if((f=e.metadataRegistry.get(m[0]))==null?void 0:f.id){i(m);continue}if(h.cycle){i(m);continue}if(h.count>1&&e.reused==="ref"){i(m);continue}}}function VS(e,t){var a,c,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{const m=e.seen.get(f);if(m.ref===null)return;const h=m.def??m.schema,w={...h},y=m.ref;if(m.ref=null,y){r(y);const g=e.seen.get(y),x=g.schema;if(x.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(x)):Object.assign(h,x),Object.assign(h,w),f._zod.parent===y)for(const k in h)k==="$ref"||k==="allOf"||k in w||delete h[k];if(x.$ref&&g.def)for(const k in h)k==="$ref"||k==="allOf"||k in g.def&&JSON.stringify(h[k])===JSON.stringify(g.def[k])&&delete h[k]}const b=f._zod.parent;if(b&&b!==y){r(b);const g=e.seen.get(b);if(g!=null&&g.schema.$ref&&(h.$ref=g.schema.$ref,g.def))for(const x in h)x==="$ref"||x==="allOf"||x in g.def&&JSON.stringify(h[x])===JSON.stringify(g.def[x])&&delete h[x]}e.override({zodSchema:f,jsonSchema:h,path:m.path??[]})};for(const f of[...e.seen.entries()].reverse())r(f[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const f=(c=e.external.registry.get(t))==null?void 0:c.id;if(!f)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(f)}Object.assign(o,n.def??n.schema);const i=((u=e.external)==null?void 0:u.defs)??{};for(const f of e.seen.entries()){const m=f[1];m.def&&m.defId&&(i[m.defId]=m.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const f=JSON.parse(JSON.stringify(o));return Object.defineProperty(f,"~standard",{value:{...t["~standard"],jsonSchema:{input:zd(t,"input",e.processors),output:zd(t,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function gn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return gn(r.element,n);if(r.type==="set")return gn(r.valueType,n);if(r.type==="lazy")return gn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return gn(r.innerType,n);if(r.type==="intersection")return gn(r.left,n)||gn(r.right,n);if(r.type==="record"||r.type==="map")return gn(r.keyType,n)||gn(r.valueType,n);if(r.type==="pipe")return gn(r.in,n)||gn(r.out,n);if(r.type==="object"){for(const o in r.shape)if(gn(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(gn(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(gn(o,n))return!0;return!!(r.rest&&gn(r.rest,n))}return!1}const KL=(e,t={})=>n=>{const r=HS({...n,processors:t});return Lt(e,r),WS(r,e),VS(r,e)},zd=(e,t,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},a=HS({...o??{},target:i,io:t,processors:n});return Lt(e,a),WS(a,e),VS(a,e)},ZL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},GL=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:a,format:c,patterns:u,contentEncoding:f}=e._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof a=="number"&&(o.maxLength=a),c&&(o.format=ZL[c]??c,o.format===""&&delete o.format,c==="time"&&delete o.format),f&&(o.contentEncoding=f),u&&u.size>0){const m=[...u];m.length===1?o.pattern=m[0].source:m.length>1&&(o.allOf=[...m.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},YL=(e,t,n,r)=>{const o=n,{minimum:i,maximum:a,format:c,multipleOf:u,exclusiveMaximum:f,exclusiveMinimum:m}=e._zod.bag;typeof c=="string"&&c.includes("int")?o.type="integer":o.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=m,o.exclusiveMinimum=!0):o.exclusiveMinimum=m),typeof i=="number"&&(o.minimum=i,typeof m=="number"&&t.target!=="draft-04"&&(m>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof a=="number"&&(o.maximum=a,typeof f=="number"&&t.target!=="draft-04"&&(f<=a?delete o.maximum:delete o.exclusiveMaximum)),typeof u=="number"&&(o.multipleOf=u)},JL=(e,t,n,r)=>{n.type="boolean"},QL=(e,t,n,r)=>{n.not={}},XL=(e,t,n,r)=>{},eD=(e,t,n,r)=>{const o=e._zod.def,i=bS(o.entries);i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),n.enum=i},tD=(e,t,n,r)=>{const o=e._zod.def,i=[];for(const a of o.values)if(a===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];n.type=a===null?"null":typeof a,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[a]:n.const=a}else i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),i.every(a=>typeof a=="boolean")&&(n.type="boolean"),i.every(a=>a===null)&&(n.type="null"),n.enum=i},nD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},rD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},oD=(e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:a,maximum:c}=e._zod.bag;typeof a=="number"&&(o.minItems=a),typeof c=="number"&&(o.maxItems=c),o.type="array",o.items=Lt(i.element,t,{...r,path:[...r.path,"items"]})},sD=(e,t,n,r)=>{var f;const o=n,i=e._zod.def;o.type="object",o.properties={};const a=i.shape;for(const m in a)o.properties[m]=Lt(a[m],t,{...r,path:[...r.path,"properties",m]});const c=new Set(Object.keys(a)),u=new Set([...c].filter(m=>{const h=i.shape[m]._zod;return t.io==="input"?h.optin===void 0:h.optout===void 0}));u.size>0&&(o.required=Array.from(u)),((f=i.catchall)==null?void 0:f._zod.def.type)==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=Lt(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},iD=(e,t,n,r)=>{const o=e._zod.def,i=o.inclusive===!1,a=o.options.map((c,u)=>Lt(c,t,{...r,path:[...r.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=a:n.anyOf=a},aD=(e,t,n,r)=>{const o=e._zod.def,i=Lt(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=Lt(o.right,t,{...r,path:[...r.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,u=[...c(i)?i.allOf:[i],...c(a)?a.allOf:[a]];n.allOf=u},lD=(e,t,n,r)=>{const o=n,i=e._zod.def;o.type="array";const a=t.target==="draft-2020-12"?"prefixItems":"items",c=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=i.items.map((w,y)=>Lt(w,t,{...r,path:[...r.path,a,y]})),f=i.rest?Lt(i.rest,t,{...r,path:[...r.path,c,...t.target==="openapi-3.0"?[i.items.length]:[]]}):null;t.target==="draft-2020-12"?(o.prefixItems=u,f&&(o.items=f)):t.target==="openapi-3.0"?(o.items={anyOf:u},f&&o.items.anyOf.push(f),o.minItems=u.length,f||(o.maxItems=u.length)):(o.items=u,f&&(o.additionalItems=f));const{minimum:m,maximum:h}=e._zod.bag;typeof m=="number"&&(o.minItems=m),typeof h=="number"&&(o.maxItems=h)},cD=(e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object";const a=i.keyType,c=a._zod.bag,u=c==null?void 0:c.patterns;if(i.mode==="loose"&&u&&u.size>0){const m=Lt(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const h of u)o.patternProperties[h.source]=m}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(o.propertyNames=Lt(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=Lt(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const f=a._zod.values;if(f){const m=[...f].filter(h=>typeof h=="string"||typeof h=="number");m.length>0&&(o.required=m)}},uD=(e,t,n,r)=>{const o=e._zod.def,i=Lt(o.innerType,t,r),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},dD=(e,t,n,r)=>{const o=e._zod.def;Lt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},fD=(e,t,n,r)=>{const o=e._zod.def;Lt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},hD=(e,t,n,r)=>{const o=e._zod.def;Lt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},pD=(e,t,n,r)=>{const o=e._zod.def;Lt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType;let a;try{a=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},mD=(e,t,n,r)=>{const o=e._zod.def,i=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;Lt(i,t,r);const a=t.seen.get(e);a.ref=i},gD=(e,t,n,r)=>{const o=e._zod.def;Lt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.readOnly=!0},qS=(e,t,n,r)=>{const o=e._zod.def;Lt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},yD=ve("ZodISODateTime",(e,t)=>{v6.init(e,t),At.init(e,t)});function vD(e){return _L(yD,e)}const wD=ve("ZodISODate",(e,t)=>{w6.init(e,t),At.init(e,t)});function xD(e){return SL(wD,e)}const bD=ve("ZodISOTime",(e,t)=>{x6.init(e,t),At.init(e,t)});function ED(e){return kL(bD,e)}const _D=ve("ZodISODuration",(e,t)=>{b6.init(e,t),At.init(e,t)});function SD(e){return CL(_D,e)}const kD=(e,t)=>{kS.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>d8(e,n)},flatten:{value:n=>u8(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Tg,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Tg,2)}},isEmpty:{get(){return e.issues.length===0}}})},ar=ve("ZodError",kD,{Parent:Error}),CD=ov(ar),ND=sv(ar),TD=wf(ar),PD=xf(ar),RD=p8(ar),AD=m8(ar),jD=g8(ar),ID=y8(ar),OD=v8(ar),MD=w8(ar),LD=x8(ar),DD=b8(ar),Tt=ve("ZodType",(e,t)=>(St.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:zd(e,"input"),output:zd(e,"output")}}),e.toJSONSchema=KL(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ks(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Cs(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>CD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>TD(e,n,r),e.parseAsync=async(n,r)=>ND(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>PD(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>RD(e,n,r),e.decode=(n,r)=>AD(e,n,r),e.encodeAsync=async(n,r)=>jD(e,n,r),e.decodeAsync=async(n,r)=>ID(e,n,r),e.safeEncode=(n,r)=>OD(e,n,r),e.safeDecode=(n,r)=>MD(e,n,r),e.safeEncodeAsync=async(n,r)=>LD(e,n,r),e.safeDecodeAsync=async(n,r)=>DD(e,n,r),e.refine=(n,r)=>e.check(Pz(n,r)),e.superRefine=n=>e.check(Rz(n)),e.overwrite=n=>e.check(Ba(n)),e.optional=()=>cb(e),e.exactOptional=()=>gz(e),e.nullable=()=>ub(e),e.nullish=()=>cb(ub(e)),e.nonoptional=n=>Ez(e,n),e.array=()=>JS(e),e.or=n=>Ag([e,n]),e.and=n=>lz(e,n),e.transform=n=>db(e,pz(n)),e.default=n=>wz(e,n),e.prefault=n=>bz(e,n),e.catch=n=>Sz(e,n),e.pipe=n=>db(e,n),e.readonly=()=>Nz(e),e.describe=n=>{const r=e.clone();return Zl.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Zl.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Zl.get(e);const r=e.clone();return Zl.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),KS=ve("_ZodString",(e,t)=>{iv.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(r,o,i)=>GL(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(jL(...r)),e.includes=(...r)=>e.check(ML(...r)),e.startsWith=(...r)=>e.check(LL(...r)),e.endsWith=(...r)=>e.check(DL(...r)),e.min=(...r)=>e.check(Dd(...r)),e.max=(...r)=>e.check($S(...r)),e.length=(...r)=>e.check(US(...r)),e.nonempty=(...r)=>e.check(Dd(1,...r)),e.lowercase=r=>e.check(IL(r)),e.uppercase=r=>e.check(OL(r)),e.trim=()=>e.check(BL()),e.normalize=(...r)=>e.check(zL(...r)),e.toLowerCase=()=>e.check(FL()),e.toUpperCase=()=>e.check($L()),e.slugify=()=>e.check(UL())}),zD=ve("ZodString",(e,t)=>{iv.init(e,t),KS.init(e,t),e.email=n=>e.check(BS(ZS,n)),e.url=n=>e.check(FS(GS,n)),e.jwt=n=>e.check(EL(XD,n)),e.emoji=n=>e.check(lL(BD,n)),e.guid=n=>e.check(tb(ib,n)),e.uuid=n=>e.check(oL(od,n)),e.uuidv4=n=>e.check(sL(od,n)),e.uuidv6=n=>e.check(iL(od,n)),e.uuidv7=n=>e.check(aL(od,n)),e.nanoid=n=>e.check(cL(FD,n)),e.guid=n=>e.check(tb(ib,n)),e.cuid=n=>e.check(uL($D,n)),e.cuid2=n=>e.check(dL(UD,n)),e.ulid=n=>e.check(fL(HD,n)),e.base64=n=>e.check(wL(YD,n)),e.base64url=n=>e.check(xL(JD,n)),e.xid=n=>e.check(hL(WD,n)),e.ksuid=n=>e.check(pL(VD,n)),e.ipv4=n=>e.check(mL(qD,n)),e.ipv6=n=>e.check(gL(KD,n)),e.cidrv4=n=>e.check(yL(ZD,n)),e.cidrv6=n=>e.check(vL(GD,n)),e.e164=n=>e.check(bL(QD,n)),e.datetime=n=>e.check(vD(n)),e.date=n=>e.check(xD(n)),e.time=n=>e.check(ED(n)),e.duration=n=>e.check(SD(n))});function ft(e){return rL(zD,e)}const At=ve("ZodStringFormat",(e,t)=>{Nt.init(e,t),KS.init(e,t)}),ZS=ve("ZodEmail",(e,t)=>{c6.init(e,t),At.init(e,t)});function sb(e){return BS(ZS,e)}const ib=ve("ZodGUID",(e,t)=>{a6.init(e,t),At.init(e,t)}),od=ve("ZodUUID",(e,t)=>{l6.init(e,t),At.init(e,t)}),GS=ve("ZodURL",(e,t)=>{u6.init(e,t),At.init(e,t)});function Gl(e){return FS(GS,e)}const BD=ve("ZodEmoji",(e,t)=>{d6.init(e,t),At.init(e,t)}),FD=ve("ZodNanoID",(e,t)=>{f6.init(e,t),At.init(e,t)}),$D=ve("ZodCUID",(e,t)=>{h6.init(e,t),At.init(e,t)}),UD=ve("ZodCUID2",(e,t)=>{p6.init(e,t),At.init(e,t)}),HD=ve("ZodULID",(e,t)=>{m6.init(e,t),At.init(e,t)}),WD=ve("ZodXID",(e,t)=>{g6.init(e,t),At.init(e,t)}),VD=ve("ZodKSUID",(e,t)=>{y6.init(e,t),At.init(e,t)}),qD=ve("ZodIPv4",(e,t)=>{E6.init(e,t),At.init(e,t)}),KD=ve("ZodIPv6",(e,t)=>{_6.init(e,t),At.init(e,t)}),ZD=ve("ZodCIDRv4",(e,t)=>{S6.init(e,t),At.init(e,t)}),GD=ve("ZodCIDRv6",(e,t)=>{k6.init(e,t),At.init(e,t)}),YD=ve("ZodBase64",(e,t)=>{C6.init(e,t),At.init(e,t)}),JD=ve("ZodBase64URL",(e,t)=>{T6.init(e,t),At.init(e,t)}),QD=ve("ZodE164",(e,t)=>{P6.init(e,t),At.init(e,t)}),XD=ve("ZodJWT",(e,t)=>{A6.init(e,t),At.init(e,t)}),YS=ve("ZodNumber",(e,t)=>{MS.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(r,o,i)=>YL(e,r,o),e.gt=(r,o)=>e.check(rb(r,o)),e.gte=(r,o)=>e.check(sm(r,o)),e.min=(r,o)=>e.check(sm(r,o)),e.lt=(r,o)=>e.check(nb(r,o)),e.lte=(r,o)=>e.check(om(r,o)),e.max=(r,o)=>e.check(om(r,o)),e.int=r=>e.check(ab(r)),e.safe=r=>e.check(ab(r)),e.positive=r=>e.check(rb(0,r)),e.nonnegative=r=>e.check(sm(0,r)),e.negative=r=>e.check(nb(0,r)),e.nonpositive=r=>e.check(om(0,r)),e.multipleOf=(r,o)=>e.check(ob(r,o)),e.step=(r,o)=>e.check(ob(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function so(e){return NL(YS,e)}const ez=ve("ZodNumberFormat",(e,t)=>{j6.init(e,t),YS.init(e,t)});function ab(e){return TL(ez,e)}const tz=ve("ZodBoolean",(e,t)=>{I6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>JL(e,n,r)});function oi(e){return PL(tz,e)}const nz=ve("ZodUnknown",(e,t)=>{O6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>XL()});function Rg(){return RL(nz)}const rz=ve("ZodNever",(e,t)=>{M6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>QL(e,n,r)});function oz(e){return AL(rz,e)}const sz=ve("ZodArray",(e,t)=>{L6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>oD(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Dd(n,r)),e.nonempty=n=>e.check(Dd(1,n)),e.max=(n,r)=>e.check($S(n,r)),e.length=(n,r)=>e.check(US(n,r)),e.unwrap=()=>e.element});function JS(e,t){return HL(sz,e,t)}const QS=ve("ZodObject",(e,t)=>{z6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>sD(e,n,r,o),gt(e,"shape",()=>t.shape),e.keyof=()=>XS(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Rg()}),e.loose=()=>e.clone({...e._zod.def,catchall:Rg()}),e.strict=()=>e.clone({...e._zod.def,catchall:oz()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>s8(e,n),e.safeExtend=n=>i8(e,n),e.merge=n=>a8(e,n),e.pick=n=>r8(e,n),e.omit=n=>o8(e,n),e.partial=(...n)=>l8(ek,e,n[0]),e.required=(...n)=>c8(tk,e,n[0])});function mo(e,t){const n={type:"object",shape:e??{},...Ve(t)};return new QS(n)}function lb(e,t){return new QS({type:"object",shape:e,catchall:Rg(),...Ve(t)})}const iz=ve("ZodUnion",(e,t)=>{B6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>iD(e,n,r,o),e.options=t.options});function Ag(e,t){return new iz({type:"union",options:e,...Ve(t)})}const az=ve("ZodIntersection",(e,t)=>{F6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>aD(e,n,r,o)});function lz(e,t){return new az({type:"intersection",left:e,right:t})}const cz=ve("ZodTuple",(e,t)=>{$6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>lD(e,n,r,o),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Qn(e,t,n){const r=t instanceof St,o=r?n:t,i=r?t:null;return new cz({type:"tuple",items:e,rest:i,...Ve(o)})}const uz=ve("ZodRecord",(e,t)=>{U6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>cD(e,n,r,o),e.keyType=t.keyType,e.valueType=t.valueType});function dz(e,t,n){return new uz({type:"record",keyType:e,valueType:t,...Ve(n)})}const jg=ve("ZodEnum",(e,t)=>{H6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(r,o,i)=>eD(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const a of r)if(n.has(a))i[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new jg({...t,checks:[],...Ve(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const a of r)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new jg({...t,checks:[],...Ve(o),entries:i})}});function XS(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new jg({type:"enum",entries:n,...Ve(t)})}const fz=ve("ZodLiteral",(e,t)=>{W6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>tD(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Xn(e,t){return new fz({type:"literal",values:Array.isArray(e)?e:[e],...Ve(t)})}const hz=ve("ZodTransform",(e,t)=>{V6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>rD(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new wS(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(lc(i,n.value,t));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(lc(a))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function pz(e){return new hz({type:"transform",transform:e})}const ek=ve("ZodOptional",(e,t)=>{zS.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>qS(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function cb(e){return new ek({type:"optional",innerType:e})}const mz=ve("ZodExactOptional",(e,t)=>{q6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>qS(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function gz(e){return new mz({type:"optional",innerType:e})}const yz=ve("ZodNullable",(e,t)=>{K6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>uD(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function ub(e){return new yz({type:"nullable",innerType:e})}const vz=ve("ZodDefault",(e,t)=>{Z6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>fD(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function wz(e,t){return new vz({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():_S(t)}})}const xz=ve("ZodPrefault",(e,t)=>{G6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>hD(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function bz(e,t){return new xz({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():_S(t)}})}const tk=ve("ZodNonOptional",(e,t)=>{Y6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>dD(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Ez(e,t){return new tk({type:"nonoptional",innerType:e,...Ve(t)})}const _z=ve("ZodCatch",(e,t)=>{J6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>pD(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Sz(e,t){return new _z({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const kz=ve("ZodPipe",(e,t)=>{Q6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>mD(e,n,r,o),e.in=t.in,e.out=t.out});function db(e,t){return new kz({type:"pipe",in:e,out:t})}const Cz=ve("ZodReadonly",(e,t)=>{X6.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>gD(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Nz(e){return new Cz({type:"readonly",innerType:e})}const Tz=ve("ZodCustom",(e,t)=>{eL.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>nD(e,n)});function Pz(e,t={}){return WL(Tz,e,t)}function Rz(e){return VL(e)}const Az={custom:"custom"};class it{static id(){return ft().regex(/^[0-9a-f]{64}$/)}static event(){return mo({id:it.id(),kind:so().int().nonnegative(),pubkey:it.id(),tags:ft().array().array(),content:ft(),created_at:so().int().nonnegative(),sig:ft()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return lb({kinds:so().int().nonnegative().array().optional(),ids:it.id().array().optional(),authors:it.id().array().optional(),since:so().int().nonnegative().optional(),until:so().int().nonnegative().optional(),limit:so().int().nonnegative().optional(),search:ft().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[o,i])=>((n.includes(o)||o.startsWith("#"))&&(r[o]=i),r),{})})}static bech32(t){return ft().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Gl().regex(/^wss?:\/\//)}static clientEVENT(){return Qn([Xn("EVENT"),it.event()])}static clientREQ(){return Qn([Xn("REQ"),ft()]).rest(it.filter())}static clientCOUNT(){return Qn([Xn("COUNT"),ft()]).rest(it.filter())}static clientCLOSE(){return Qn([Xn("CLOSE"),ft()])}static clientAUTH(){return Qn([Xn("AUTH"),it.event()])}static clientMsg(){return Ag([it.clientEVENT(),it.clientREQ(),it.clientCOUNT(),it.clientCLOSE(),it.clientAUTH()])}static relayEVENT(){return Qn([Xn("EVENT"),ft(),it.event()])}static relayOK(){return Qn([Xn("OK"),it.id(),oi(),ft()])}static relayEOSE(){return Qn([Xn("EOSE"),ft()])}static relayNOTICE(){return Qn([Xn("NOTICE"),ft()])}static relayCLOSED(){return Qn([Xn("CLOSED"),ft(),ft()])}static relayAUTH(){return Qn([Xn("AUTH"),ft()])}static relayCOUNT(){return Qn([Xn("COUNT"),ft(),mo({count:so().int().nonnegative(),approximate:oi().optional()})])}static relayMsg(){return Ag([it.relayEVENT(),it.relayOK(),it.relayEOSE(),it.relayNOTICE(),it.relayCLOSED(),it.relayAUTH(),it.relayCOUNT()])}static metadata(){return lb({about:ft().optional().catch(void 0),banner:Gl().optional().catch(void 0),bot:oi().optional().catch(void 0),display_name:ft().optional().catch(void 0),lud06:it.bech32("lnurl").optional().catch(void 0),lud16:sb().optional().catch(void 0),name:ft().optional().catch(void 0),nip05:sb().optional().catch(void 0),picture:Gl().optional().catch(void 0),website:Gl().optional().catch(void 0)})}static connectRequest(){return mo({id:ft(),method:ft(),params:ft().array()})}static connectResponse(){return mo({id:ft(),result:ft(),error:ft().optional()})}static json(){return ft().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:Az.custom,message:"Invalid JSON"}),YM}})}}class nk{constructor({relay:t,pubkey:n,signer:r,timeout:o,encryption:i="nip44"}){Ie(this,"relay");Ie(this,"pubkey");Ie(this,"signer");Ie(this,"timeout");Ie(this,"encryption");Ie(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});Ie(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=o,this.encryption=i}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return it.json().pipe(it.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return it.json().pipe(dz(ft(),mo({read:oi(),write:oi()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:o,error:i}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(i)throw new Error(i);return o}async send(t,n={}){const{signal:r}=n,o=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),i=await this.signer.getPublicKey(),a=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[i]}],{signal:r}),c=new Promise((u,f)=>{(async()=>{try{for await(const m of a){if(m[0]==="CLOSED")throw new Error("Subscription closed");if(m[0]==="EVENT"){const h=m[2],w=await this.decrypt(this.pubkey,h.content),y=it.json().pipe(it.connectResponse()).parse(w);if(y.id===t.id){u(y);return}}}}catch(m){f(m)}})()});return await this.relay.event(o,{signal:r}),c}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const rk={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),rk[e]=t}function jz(e){let t="";for(let n=0;n<e.byteLength;n++)t+=rk[e[n]];return t}const ok="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fb=Object.entries(ok).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),Iz=ok.split(""),aa=6,tc=8,Oz=63,Mz=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let o=0;o<e.length;o+=4){let i=0,a=0;for(let f=o,m=o+3;f<=m;f++)if(e[f]!=="="){if(!(e[f]in fb))throw new TypeError(`Invalid character ${e[f]} in base64 string.`);i|=fb[e[f]]<<(m-f)*aa,a+=aa}else i>>=aa;const c=o/4*3;i>>=a%tc;const u=Math.floor(a/tc);for(let f=0;f<u;f++){const m=(u-f-1)*tc;r.setUint8(c+f,(i&255<<m)>>m)}}return new Uint8Array(n)},Lz=e=>new TextEncoder().encode(e);function Dz(e){let t;typeof e=="string"?t=Lz(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let i=0;i<t.length;i+=3){let a=0,c=0;for(let f=i,m=Math.min(i+3,t.length);f<m;f++)a|=t[f]<<(m-f-1)*tc,c+=tc;const u=Math.ceil(c/aa);a<<=u*aa-c;for(let f=1;f<=u;f++){const m=(u-f)*aa;o+=Iz[(a&Oz<<m)>>m]}o+="==".slice(0,4-u)}return o}class zz{static encodeEvent(t){return Dz(JSON.stringify(t))}static decodeEvent(t){const n=Mz(t),r=new TextDecoder().decode(n);return it.json().pipe(it.event()).parse(r)}}class Bz{constructor(t){Ie(this,"set");Ie(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var ka,Ca,Cc;class sk{constructor(t){We(this,ka,[]);We(this,Ca);We(this,Cc,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!te(this,Cc);){if(te(this,ka).length){yield te(this,ka).shift();continue}await new Promise(t=>{Me(this,Ca,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;te(this,ka).push(t),(n=te(this,Ca))==null||n.call(this)}abort(){var t;Me(this,Cc,!0),(t=te(this,Ca))==null||t.call(this)}}ka=new WeakMap,Ca=new WeakMap,Cc=new WeakMap;class av{constructor(t){Ie(this,"_relays",new Map);Ie(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new av({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,o=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,i=n!=null&&n.relays?new Map(n.relays.map(y=>[y,t])):await this.opts.reqRouter(t);if(i.size<1)return;const a=new sk(o),c=new Set,u=new Set,f=new Bz(1e3),m=this.opts.eoseTimeout??1e3;let h;const w=[];for(const[y,b]of i.entries()){const g=this.relay(y),x=(async()=>{try{for await(const E of g.req(b,{signal:o}))if(E[0]==="EOSE"&&(c.add(y),c.size===1&&m>0&&h===void 0&&(h=setTimeout(()=>{r.abort()},m)),c.size===i.size&&a.push(E)),E[0]==="CLOSED"&&(u.add(y),u.size===i.size&&a.push(E)),E[0]==="EVENT"){const[,,k]=E;f.has(k.id)||(f.add(k.id),a.push(E))}}catch{}})();w.push(x)}try{for await(const y of a)yield y}finally{h!==void 0&&clearTimeout(h),r.abort(),await Promise.allSettled(w)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(o=>this.relay(o).event(t,n)))}async query(t,n){const r=new Map,o=new Od(r);if(t.reduce((a,c)=>a+O_(c),0)===0)return[];try{for await(const a of this.req(t,n))if(a[0]==="EOSE"||(a[0]==="EVENT"&&o.add(a[2]),a[0]==="CLOSED"))break}catch{}return t.some(a=>typeof a.search=="string")?[...r.values()]:[...o]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class Fz{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class $z{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var vt;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(vt||(vt={}));class Uz{constructor(t,n,r){var o,i,a,c,u,f,m,h,w,y,b,g,x,E,k;this._closedByUser=!1,this.handleOpenEvent=C=>this.handleEvent(vt.open,C),this.handleErrorEvent=C=>this.handleEvent(vt.error,C),this.handleCloseEvent=C=>this.handleEvent(vt.close,C),this.handleMessageEvent=C=>this.handleEvent(vt.message,C),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(o=r==null?void 0:r.retry)===null||o===void 0?void 0:o.maxRetries,instantReconnect:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.instantReconnect,backoff:(a=r==null?void 0:r.retry)===null||a===void 0?void 0:a.backoff},listeners:{open:[...(u=(c=r==null?void 0:r.listeners)===null||c===void 0?void 0:c.open)!==null&&u!==void 0?u:[]],close:[...(m=(f=r==null?void 0:r.listeners)===null||f===void 0?void 0:f.close)!==null&&m!==void 0?m:[]],error:[...(w=(h=r==null?void 0:r.listeners)===null||h===void 0?void 0:h.error)!==null&&w!==void 0?w:[]],message:[...(b=(y=r==null?void 0:r.listeners)===null||y===void 0?void 0:y.message)!==null&&b!==void 0?b:[]],retry:[...(x=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.retry)!==null&&x!==void 0?x:[]],reconnect:[...(k=(E=r==null?void 0:r.listeners)===null||E===void 0?void 0:E.reconnect)!==null&&k!==void 0?k:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const o=i=>i.listener!==n||i.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(o)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(vt.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(vt.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(vt.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(vt.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(vt.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(vt.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(vt.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(vt.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],o=[];r.forEach(({listener:i,options:a})=>{i(this,n),(a===void 0||a.once===void 0||!a.once)&&o.push({listener:i,options:a})}),this._options.listeners[t]=o}handleEvent(t,n){switch(t){case vt.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case vt.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},o=new CustomEvent(vt.reconnect,{detail:r});this.dispatchEvent(vt.reconnect,o),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case vt.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const o=new CustomEvent(vt.retry,{detail:r});this.handleEvent(vt.retry,o)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class Hz{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(vt.open,t,n),this}onClose(t,n){return this.addListener(vt.close,t,n),this}onError(t,n){return this.addListener(vt.error,t,n),this}onMessage(t,n){return this.addListener(vt.message,t,n),this}onRetry(t,n){return this.addListener(vt.retry,t,n),this}onReconnect(t,n){return this.addListener(vt.reconnect,t,n),this}build(){return new Uz(this._url,this._protocols,this._options)}addListener(t,n,r){var o,i,a,c,u,f,m,h,w,y,b,g,x,E,k,C,A,j,L,D,B;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(a=(i=(o=this._options)===null||o===void 0?void 0:o.listeners)===null||i===void 0?void 0:i.open)!==null&&a!==void 0?a:[],close:(f=(u=(c=this._options)===null||c===void 0?void 0:c.listeners)===null||u===void 0?void 0:u.close)!==null&&f!==void 0?f:[],error:(w=(h=(m=this._options)===null||m===void 0?void 0:m.listeners)===null||h===void 0?void 0:h.error)!==null&&w!==void 0?w:[],message:(g=(b=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||b===void 0?void 0:b.message)!==null&&g!==void 0?g:[],retry:(k=(E=(x=this._options)===null||x===void 0?void 0:x.listeners)===null||E===void 0?void 0:E.retry)!==null&&k!==void 0?k:[],reconnect:(j=(A=(C=this._options)===null||C===void 0?void 0:C.listeners)===null||A===void 0?void 0:A.reconnect)!==null&&j!==void 0?j:[],[t]:[...(B=(D=(L=this._options)===null||L===void 0?void 0:L.listeners)===null||D===void 0?void 0:D[t])!==null&&B!==void 0?B:[],{listener:n,options:r}]}}),this}}class Wz{constructor(t,n={}){Ie(this,"socket");Ie(this,"subs",new Map);Ie(this,"closedByUser",!1);Ie(this,"idleTimer");Ie(this,"controller",new AbortController);Ie(this,"url");Ie(this,"opts");Ie(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new Fz(1e3)}=this.opts;return new Hz(this.url).withBuffer(new $z).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const o=it.json().pipe(it.relayMsg()).safeParse(r.data);o.success?(this.log({level:"trace",ns:"relay.ws.message",data:o.data}),this.receive(o.data)):this.log({level:"warn",ns:"relay.ws.message",error:o.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Rc}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(o=>this.send(["AUTH",o])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,o=crypto.randomUUID(),i=this.on(`sub:${o}`,r),a=["REQ",o,...t];this.send(a);try{for await(const c of i){if(c[0]==="EOSE"&&(yield c),c[0]==="CLOSED")break;if(c[0]==="EVENT")if(I_(t,c[2]))yield c;else continue}}finally{this.send(["CLOSE",o])}}async query(t,n){const r=new Od,o=t.reduce((i,a)=>i+O_(a),0);if(o===0)return[];for await(const i of this.req(t,n)){if(i[0]==="EOSE")break;if(i[0]==="EVENT"&&r.add(i[2]),i[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=o)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(a){throw r.catch(()=>{}),a}const[,,o,i]=await r;if(!o)throw new Error(i)}async count(t,n){const r=crypto.randomUUID(),o=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(a){throw o.catch(()=>{}),a}const i=await o;switch(i[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,a]=i;return a}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const o=new sk(r),i=a=>o.push(a.detail);this.ee.addEventListener(t,i);try{for await(const a of o)yield a}finally{this.ee.removeEventListener(t,i)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(vt.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var lo,Nc,Ig;class cc{constructor(t){We(this,Nc);We(this,lo);Ie(this,"pubkey");Ie(this,"nip04",{encrypt:async(t,n)=>ac.encrypt(te(this,lo),t,n),decrypt:async(t,n)=>ac.decrypt(te(this,lo),t,n)});Ie(this,"nip44",{encrypt:async(t,n)=>{const r=et(this,Nc,Ig).call(this,t);return hs.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=et(this,Nc,Ig).call(this,t);return hs.v2.decrypt(n,r)}});Me(this,lo,t)}async getPublicKey(){return this.pubkey??(this.pubkey=wo(te(this,lo)))}async signEvent(t){return ir(t,te(this,lo))}}lo=new WeakMap,Nc=new WeakSet,Ig=function(t){return hs.v2.utils.getConversationKey(te(this,lo),t)};const ik=_.createContext(void 0);function Hn(){const e=_.useContext(ik);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class si{constructor(t,n,r){Ie(this,"id");Ie(this,"type");Ie(this,"pubkey");Ie(this,"createdAt");Ie(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=xn.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,o=wo(r);return new si("nsec",o,{nsec:xn.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:o,relays:i}=new Xl(t);if(!i.length)throw new Error("No relay provided");const a=Pc(),c=xn.nsecEncode(a),u=new cc(a),f=new nk({relay:n.group(i),pubkey:r,signer:u,timeout:6e4});await f.connect(o);const m=await f.getPublicKey();return new si("bunker",m,{bunkerPubkey:r,clientNsec:c,relays:i})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new si("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const ak=_.createContext(void 0);function Vz(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(o=>o.id===t.id);if(!n)return e;const r=e.filter(o=>o.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function qz(e){const[t,n]=_.useReducer(Vz,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return _.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const Kz=({children:e,storageKey:t})=>{const[n,r]=qz(t),o={logins:n,addLogin:i=>r({type:"login.add",login:i}),removeLogin:i=>r({type:"login.remove",id:i}),setLogin:i=>r({type:"login.set",id:i}),clearLogins:()=>r({type:"login.clear"})};return p.jsx(ak.Provider,{value:o,children:e})};class ii{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=xn.decode(t.data.nsec);return new ii(t.type,t.pubkey,new cc(n.data))}static fromBunkerLogin(t,n){const r=xn.decode(t.data.clientNsec),o=new cc(r.data);return new ii(t.type,t.pubkey,new nk({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:o,timeout:6e4}))}static fromExtensionLogin(t){return new ii(t.type,t.pubkey,new wI)}}function lv(){const e=_.useContext(ak);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const lk=_.createContext(void 0);function ck(){const e=_.useContext(lk);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const Zz=e=>{const{children:t}=e,{config:n}=ck(),r=by(),o=_.useRef(void 0),i=_.useRef(n.relayMetadata);return _.useEffect(()=>{i.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),o.current||(o.current=new av({open(a){return new Wz(a)},reqRouter(a){const c=new Map,u=i.current.relays.filter(f=>f.read).map(f=>f.url);for(const f of u)c.set(f,a);return c},eventRouter(a){const c=i.current.relays.filter(f=>f.write).map(f=>f.url);return[...new Set(c)]}})),p.jsx(ik.Provider,{value:{nostr:o.current},children:t})};function Ef(e){const{nostr:t}=Hn();return $r({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:it.json().pipe(it.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function vi(){const{nostr:e}=Hn(),{logins:t}=lv(),n=_.useCallback(a=>{switch(a.type){case"nsec":return ii.fromNsecLogin(a);case"bunker":return ii.fromBunkerLogin(a,e);case"extension":return ii.fromExtensionLogin(a);default:throw new Error(`Unsupported login type: ${a.type}`)}},[e]),r=_.useMemo(()=>{const a=[];for(const c of t)try{const u=n(c);a.push(u)}catch(u){console.warn("Skipped invalid login",c.id,u)}return a},[t,n]),o=r[0],i=Ef(o==null?void 0:o.pubkey);return{user:o,users:r,...i.data}}function Gz(){const{nostr:e}=Hn(),{user:t}=vi(),{config:n,updateConfig:r}=ck();return _.useEffect(()=>{if(!t)return;(async()=>{try{const i=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(i.length>0){const a=i[0];if(a.created_at>n.relayMetadata.updatedAt){const c=a.tags.filter(([u])=>u==="r").map(([u,f,m])=>({url:f,read:!m||m==="read",write:!m||m==="write"}));c.length>0&&(console.log("Syncing relay list from Nostr:",c),r(u=>({...u,relayMetadata:{relays:c,updatedAt:a.created_at}})))}}}catch(i){console.error("Failed to sync relays from Nostr:",i)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const Yz=1,Jz=1e6;let im=0;function Qz(){return im=(im+1)%Number.MAX_SAFE_INTEGER,im.toString()}const am=new Map,hb=e=>{if(am.has(e))return;const t=setTimeout(()=>{am.delete(e),nc({type:"REMOVE_TOAST",toastId:e})},Jz);am.set(e,t)},Xz=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Yz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hb(n):e.toasts.forEach(r=>{hb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},vd=[];let wd={toasts:[]};function nc(e){wd=Xz(wd,e),vd.forEach(t=>{t(wd)})}function na({...e}){const t=Qz(),n=o=>nc({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>nc({type:"DISMISS_TOAST",toastId:t});return nc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Fa(){const[e,t]=_.useState(wd);return _.useEffect(()=>(vd.push(t),()=>{const n=vd.indexOf(t);n>-1&&vd.splice(n,1)}),[e]),{...e,toast:na,dismiss:n=>nc({type:"DISMISS_TOAST",toastId:n})}}var $a=uE();const eB=tf($a);function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function pb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _f(...e){return t=>{let n=!1;const r=e.map(o=>{const i=pb(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():pb(e[o],null)}}}}function Je(...e){return _.useCallback(_f(...e),e)}function tB(e,t){const n=_.createContext(t),r=i=>{const{children:a,...c}=i,u=_.useMemo(()=>c,Object.values(c));return p.jsx(n.Provider,{value:u,children:a})};r.displayName=e+"Provider";function o(i){const a=_.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Qt(e,t=[]){let n=[];function r(i,a){const c=_.createContext(a),u=n.length;n=[...n,a];const f=h=>{var E;const{scope:w,children:y,...b}=h,g=((E=w==null?void 0:w[e])==null?void 0:E[u])||c,x=_.useMemo(()=>b,Object.values(b));return p.jsx(g.Provider,{value:x,children:y})};f.displayName=i+"Provider";function m(h,w){var g;const y=((g=w==null?void 0:w[e])==null?void 0:g[u])||c,b=_.useContext(y);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,m]}const o=()=>{const i=n.map(a=>_.createContext(a));return function(c){const u=(c==null?void 0:c[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return o.scopeName=e,[r,nB(o,...t)]}function nB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:f})=>{const h=u(i)[`__scope${f}`];return{...c,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function fi(e){const t=oB(e),n=_.forwardRef((r,o)=>{const{children:i,...a}=r,c=_.Children.toArray(i),u=c.find(iB);if(u){const f=u.props.children,m=c.map(h=>h===u?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return p.jsx(t,{...a,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return p.jsx(t,{...a,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var rB=fi("Slot");function oB(e){const t=_.forwardRef((n,r)=>{const{children:o,...i}=n;if(_.isValidElement(o)){const a=lB(o),c=aB(i,o.props);return o.type!==_.Fragment&&(c.ref=r?_f(r,a):a),_.cloneElement(o,c)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uk=Symbol("radix.slottable");function sB(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=uk,t}function iB(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uk}function aB(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{i(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function lB(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ac(e){const t=e+"CollectionProvider",[n,r]=Qt(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:x,children:E}=g,k=Xo.useRef(null),C=Xo.useRef(new Map).current;return p.jsx(o,{scope:x,itemMap:C,collectionRef:k,children:E})};a.displayName=t;const c=e+"CollectionSlot",u=fi(c),f=Xo.forwardRef((g,x)=>{const{scope:E,children:k}=g,C=i(c,E),A=Je(x,C.collectionRef);return p.jsx(u,{ref:A,children:k})});f.displayName=c;const m=e+"CollectionItemSlot",h="data-radix-collection-item",w=fi(m),y=Xo.forwardRef((g,x)=>{const{scope:E,children:k,...C}=g,A=Xo.useRef(null),j=Je(x,A),L=i(m,E);return Xo.useEffect(()=>(L.itemMap.set(A,{ref:A,...C}),()=>void L.itemMap.delete(A))),p.jsx(w,{[h]:"",ref:j,children:k})});y.displayName=m;function b(g){const x=i(e+"CollectionConsumer",g);return Xo.useCallback(()=>{const k=x.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((L,D)=>C.indexOf(L.ref.current)-C.indexOf(D.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:f,ItemSlot:y},b,r]}var cB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=cB.reduce((e,t)=>{const n=fi(`Primitive.${t}`),r=_.forwardRef((o,i)=>{const{asChild:a,...c}=o,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cv(e,t){e&&$a.flushSync(()=>e.dispatchEvent(t))}function Ot(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function uB(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e);_.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var dB="DismissableLayer",Og="dismissableLayer.update",fB="dismissableLayer.pointerDownOutside",hB="dismissableLayer.focusOutside",mb,dk=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ua=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=e,f=_.useContext(dk),[m,h]=_.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),b=Je(t,D=>h(D)),g=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(x),k=m?g.indexOf(m):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,A=k>=E,j=mB(D=>{const B=D.target,O=[...f.branches].some(F=>F.contains(B));!A||O||(o==null||o(D),a==null||a(D),D.defaultPrevented||c==null||c())},w),L=gB(D=>{const B=D.target;[...f.branches].some(F=>F.contains(B))||(i==null||i(D),a==null||a(D),D.defaultPrevented||c==null||c())},w);return uB(D=>{k===f.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},w),_.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(mb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),gb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=mb)}},[m,w,n,f]),_.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),gb())},[m,f]),_.useEffect(()=>{const D=()=>y({});return document.addEventListener(Og,D),()=>document.removeEventListener(Og,D)},[]),p.jsx(De.div,{...u,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,j.onPointerDownCapture)})});Ua.displayName=dB;var pB="DismissableLayerBranch",fk=_.forwardRef((e,t)=>{const n=_.useContext(dk),r=_.useRef(null),o=Je(t,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(De.div,{...e,ref:o})});fk.displayName=pB;function mB(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e),r=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){hk(fB,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function gB(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e),r=_.useRef(!1);return _.useEffect(()=>{const o=i=>{i.target&&!r.current&&hk(hB,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gb(){const e=new CustomEvent(Og);document.dispatchEvent(e)}function hk(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cv(o,i):o.dispatchEvent(i)}var yB=Ua,vB=fk,Dt=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},wB="Portal",jc=_.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,i]=_.useState(!1);Dt(()=>i(!0),[]);const a=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?eB.createPortal(p.jsx(De.div,{...r,ref:t}),a):null});jc.displayName=wB;function xB(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var rn=e=>{const{present:t,children:n}=e,r=bB(t),o=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=Je(r.ref,EB(o));return typeof n=="function"||r.isPresent?_.cloneElement(o,{ref:i}):null};rn.displayName="Presence";function bB(e){const[t,n]=_.useState(),r=_.useRef(null),o=_.useRef(e),i=_.useRef("none"),a=e?"mounted":"unmounted",[c,u]=xB(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=sd(r.current);i.current=c==="mounted"?f:"none"},[c]),Dt(()=>{const f=r.current,m=o.current;if(m!==e){const w=i.current,y=sd(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(m&&w!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Dt(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,h=y=>{const g=sd(r.current).includes(y.animationName);if(y.target===t&&g&&(u("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},w=y=>{y.target===t&&(i.current=sd(r.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:_.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function sd(e){return(e==null?void 0:e.animationName)||"none"}function EB(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _B=gy[" useInsertionEffect ".trim().toString()]||Dt;function sr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,a]=SB({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:o;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const h=m.current;h!==c&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=_.useCallback(m=>{var h;if(c){const w=kB(m)?m(e):m;w!==e&&((h=a.current)==null||h.call(a,w))}else i(m)},[c,e,i,a]);return[u,f]}function SB({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),o=_.useRef(n),i=_.useRef(t);return _B(()=>{i.current=t},[t]),_.useEffect(()=>{var a;o.current!==n&&((a=i.current)==null||a.call(i,n),o.current=n)},[n,o]),[n,r,i]}function kB(e){return typeof e=="function"}var pk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CB="VisuallyHidden",Sf=_.forwardRef((e,t)=>p.jsx(De.span,{...e,ref:t,style:{...pk,...e.style}}));Sf.displayName=CB;var NB=Sf,uv="ToastProvider",[dv,TB,PB]=Ac("Toast"),[mk,SZ]=Qt("Toast",[PB]),[RB,kf]=mk(uv),gk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:a}=e,[c,u]=_.useState(null),[f,m]=_.useState(0),h=_.useRef(!1),w=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uv}\`. Expected non-empty \`string\`.`),p.jsx(dv.Provider,{scope:t,children:p.jsx(RB,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:f,viewport:c,onViewportChange:u,onToastAdd:_.useCallback(()=>m(y=>y+1),[]),onToastRemove:_.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:w,children:a})})};gk.displayName=uv;var yk="ToastViewport",AB=["F8"],Mg="toast.viewportPause",Lg="toast.viewportResume",vk=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=AB,label:o="Notifications ({hotkey})",...i}=e,a=kf(yk,n),c=TB(n),u=_.useRef(null),f=_.useRef(null),m=_.useRef(null),h=_.useRef(null),w=Je(t,h,a.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;_.useEffect(()=>{const x=E=>{var C;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),_.useEffect(()=>{const x=u.current,E=h.current;if(b&&x&&E){const k=()=>{if(!a.isClosePausedRef.current){const L=new CustomEvent(Mg);E.dispatchEvent(L),a.isClosePausedRef.current=!0}},C=()=>{if(a.isClosePausedRef.current){const L=new CustomEvent(Lg);E.dispatchEvent(L),a.isClosePausedRef.current=!1}},A=L=>{!x.contains(L.relatedTarget)&&C()},j=()=>{x.contains(document.activeElement)||C()};return x.addEventListener("focusin",k),x.addEventListener("focusout",A),x.addEventListener("pointermove",k),x.addEventListener("pointerleave",j),window.addEventListener("blur",k),window.addEventListener("focus",C),()=>{x.removeEventListener("focusin",k),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",k),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",k),window.removeEventListener("focus",C)}}},[b,a.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:x})=>{const k=c().map(C=>{const A=C.ref.current,j=[A,...WB(A)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?k.reverse():k).flat()},[c]);return _.useEffect(()=>{const x=h.current;if(x){const E=k=>{var j,L,D;const C=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!C){const B=document.activeElement,O=k.shiftKey;if(k.target===x&&O){(j=f.current)==null||j.focus();return}const M=g({tabbingDirection:O?"backwards":"forwards"}),V=M.findIndex(P=>P===B);lm(M.slice(V+1))?k.preventDefault():O?(L=f.current)==null||L.focus():(D=m.current)==null||D.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[c,g]),p.jsxs(vB,{ref:u,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&p.jsx(Dg,{ref:f,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});lm(x)}}),p.jsx(dv.Slot,{scope:n,children:p.jsx(De.ol,{tabIndex:-1,...i,ref:w})}),b&&p.jsx(Dg,{ref:m,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});lm(x)}})]})});vk.displayName=yk;var wk="ToastFocusProxy",Dg=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=kf(wk,n);return p.jsx(Sf,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:a=>{var f;const c=a.relatedTarget;!((f=i.viewport)!=null&&f.contains(c))&&r()}})});Dg.displayName=wk;var Ic="Toast",jB="toast.swipeStart",IB="toast.swipeMove",OB="toast.swipeCancel",MB="toast.swipeEnd",xk=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...a}=e,[c,u]=sr({prop:r,defaultProp:o??!0,onChange:i,caller:Ic});return p.jsx(rn,{present:n||c,children:p.jsx(zB,{open:c,...a,ref:t,onClose:()=>u(!1),onPause:Ot(e.onPause),onResume:Ot(e.onResume),onSwipeStart:Pe(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,f=>{const{x:m,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,f=>{const{x:m,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});xk.displayName=Ic;var[LB,DB]=mk(Ic,{onClose(){}}),zB=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:f,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:w,onSwipeEnd:y,...b}=e,g=kf(Ic,n),[x,E]=_.useState(null),k=Je(t,P=>E(P)),C=_.useRef(null),A=_.useRef(null),j=o||g.duration,L=_.useRef(0),D=_.useRef(j),B=_.useRef(0),{onToastAdd:O,onToastRemove:F}=g,W=Ot(()=>{var U;(x==null?void 0:x.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),a()}),M=_.useCallback(P=>{!P||P===1/0||(window.clearTimeout(B.current),L.current=new Date().getTime(),B.current=window.setTimeout(W,P))},[W]);_.useEffect(()=>{const P=g.viewport;if(P){const U=()=>{M(D.current),f==null||f()},X=()=>{const J=new Date().getTime()-L.current;D.current=D.current-J,window.clearTimeout(B.current),u==null||u()};return P.addEventListener(Mg,X),P.addEventListener(Lg,U),()=>{P.removeEventListener(Mg,X),P.removeEventListener(Lg,U)}}},[g.viewport,j,u,f,M]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(j)},[i,j,g.isClosePausedRef,M]),_.useEffect(()=>(O(),()=>F()),[O,F]);const V=_.useMemo(()=>x?Nk(x):null,[x]);return g.viewport?p.jsxs(p.Fragment,{children:[V&&p.jsx(BB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),p.jsx(LB,{scope:n,onClose:W,children:$a.createPortal(p.jsx(dv.ItemSlot,{scope:n,children:p.jsx(yB,{asChild:!0,onEscapeKeyDown:Pe(c,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,P=>{P.key==="Escape"&&(c==null||c(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Pe(e.onPointerDown,P=>{P.button===0&&(C.current={x:P.clientX,y:P.clientY})}),onPointerMove:Pe(e.onPointerMove,P=>{if(!C.current)return;const U=P.clientX-C.current.x,X=P.clientY-C.current.y,J=!!A.current,ee=["left","right"].includes(g.swipeDirection),K=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,oe=ee?K(0,U):0,z=ee?0:K(0,X),q=P.pointerType==="touch"?10:2,ge={x:oe,y:z},pe={originalEvent:P,delta:ge};J?(A.current=ge,id(IB,h,pe,{discrete:!1})):yb(ge,g.swipeDirection,q)?(A.current=ge,id(jB,m,pe,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(U)>q||Math.abs(X)>q)&&(C.current=null)}),onPointerUp:Pe(e.onPointerUp,P=>{const U=A.current,X=P.target;if(X.hasPointerCapture(P.pointerId)&&X.releasePointerCapture(P.pointerId),A.current=null,C.current=null,U){const J=P.currentTarget,ee={originalEvent:P,delta:U};yb(U,g.swipeDirection,g.swipeThreshold)?id(MB,y,ee,{discrete:!0}):id(OB,w,ee,{discrete:!0}),J.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),BB=e=>{const{__scopeToast:t,children:n,...r}=e,o=kf(Ic,t),[i,a]=_.useState(!1),[c,u]=_.useState(!1);return UB(()=>a(!0)),_.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:p.jsx(jc,{asChild:!0,children:p.jsx(Sf,{...r,children:i&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},FB="ToastTitle",bk=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(De.div,{...r,ref:t})});bk.displayName=FB;var $B="ToastDescription",Ek=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(De.div,{...r,ref:t})});Ek.displayName=$B;var _k="ToastAction",Sk=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Ck,{altText:n,asChild:!0,children:p.jsx(fv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),null)});Sk.displayName=_k;var kk="ToastClose",fv=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=DB(kk,n);return p.jsx(Ck,{asChild:!0,children:p.jsx(De.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,o.onClose)})})});fv.displayName=kk;var Ck=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Nk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),HB(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Nk(r))}}),t}function id(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cv(o,i):o.dispatchEvent(i)}var yb=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return t==="left"||t==="right"?i&&r>n:!i&&o>n};function UB(e=()=>{}){const t=Ot(e);Dt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function HB(e){return e.nodeType===e.ELEMENT_NODE}function WB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var VB=gk,Tk=vk,Pk=xk,Rk=bk,Ak=Ek,jk=Sk,Ik=fv;function Ok(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ok(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mk(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ok(e))&&(r&&(r+=" "),r+=t);return r}const vb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wb=Mk,Oc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(f=>{const m=n==null?void 0:n[f],h=i==null?void 0:i[f];if(m===null)return null;const w=vb(m)||vb(h);return o[f][w]}),c=n&&Object.entries(n).reduce((f,m)=>{let[h,w]=m;return w===void 0||(f[h]=w),f},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:h,className:w,...y}=m;return Object.entries(y).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...i,...c}[g]):{...i,...c}[g]===x})?[...f,h,w]:f},[]);return wb(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...c},u)=>_.createElement("svg",{ref:u,...KB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Lk("lucide",o),...c},[...a.map(([f,m])=>_.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const n=_.forwardRef(({className:r,...o},i)=>_.createElement(ZB,{ref:i,iconNode:t,className:Lk(`lucide-${qB(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=rt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=rt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=rt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=rt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=rt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=rt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=rt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=rt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=rt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=rt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=rt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=rt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=rt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=rt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=rt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=rt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=rt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=rt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=rt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pv="-",vF=e=>{const t=xF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const c=a.split(pv);return c[0]===""&&c.length!==1&&c.shift(),Hk(c,t)||wF(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},Hk=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Hk(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(pv);return(a=t.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},bb=/^\[(.+)\]$/,wF=e=>{if(bb.test(e)){const t=bb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return EF(Object.entries(e.classGroups),n).forEach(([i,a])=>{Ug(a,r,i,t)}),r},Ug=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Eb(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(bF(o)){Ug(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,a])=>{Ug(a,Eb(t,i),n,r)})})},Eb=(e,t)=>{let n=e;return t.split(pv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bF=e=>e.isThemeGetter,EF=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[t+a,c])):i);return[n,o]}):e,_F=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return o(i,a),a},set(i,a){n.has(i)?n.set(i,a):o(i,a)}}},Wk="!",SF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,a=c=>{const u=[];let f=0,m=0,h;for(let x=0;x<c.length;x++){let E=c[x];if(f===0){if(E===o&&(r||c.slice(x,x+i)===t)){u.push(c.slice(m,x)),m=x+i;continue}if(E==="/"){h=x;continue}}E==="["?f++:E==="]"&&f--}const w=u.length===0?c:c.substring(m),y=w.startsWith(Wk),b=y?w.substring(1):w,g=h&&h>m?h-m:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:g}};return n?c=>n({className:c,parseClassName:a}):a},kF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},CF=e=>({cache:_F(e.cacheSize),parseClassName:SF(e),...vF(e)}),NF=/\s+/,TF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(NF);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{modifiers:m,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:y}=n(f);let b=!!y,g=r(b?w.substring(0,y):w);if(!g){if(!b){c=f+(c.length>0?" "+c:c);continue}if(g=r(w),!g){c=f+(c.length>0?" "+c:c);continue}b=!1}const x=kF(m).join(":"),E=h?x+Wk:x,k=E+g;if(i.includes(k))continue;i.push(k);const C=o(g,b);for(let A=0;A<C.length;++A){const j=C[A];i.push(E+j)}c=f+(c.length>0?" "+c:c)}return c};function PF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Vk(t))&&(r&&(r+=" "),r+=n);return r}const Vk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Vk(e[r]))&&(n&&(n+=" "),n+=t);return n};function RF(e,...t){let n,r,o,i=a;function a(u){const f=t.reduce((m,h)=>h(m),e());return n=CF(f),r=n.cache.get,o=n.cache.set,i=c,c(u)}function c(u){const f=r(u);if(f)return f;const m=TF(u,n);return o(u,m),m}return function(){return i(PF.apply(null,arguments))}}const Et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qk=/^\[(?:([a-z-]+):)?(.+)\]$/i,AF=/^\d+\/\d+$/,jF=new Set(["px","full","screen"]),IF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ro=e=>la(e)||jF.has(e)||AF.test(e),Zo=e=>Ha(e,"length",VF),la=e=>!!e&&!Number.isNaN(Number(e)),cm=e=>Ha(e,"number",la),Hl=e=>!!e&&Number.isInteger(Number(e)),zF=e=>e.endsWith("%")&&la(e.slice(0,-1)),tt=e=>qk.test(e),Go=e=>IF.test(e),BF=new Set(["length","size","percentage"]),FF=e=>Ha(e,BF,Kk),$F=e=>Ha(e,"position",Kk),UF=new Set(["image","url"]),HF=e=>Ha(e,UF,KF),WF=e=>Ha(e,"",qF),Wl=()=>!0,Ha=(e,t,n)=>{const r=qk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},VF=e=>OF.test(e)&&!MF.test(e),Kk=()=>!1,qF=e=>LF.test(e),KF=e=>DF.test(e),ZF=()=>{const e=Et("colors"),t=Et("spacing"),n=Et("blur"),r=Et("brightness"),o=Et("borderColor"),i=Et("borderRadius"),a=Et("borderSpacing"),c=Et("borderWidth"),u=Et("contrast"),f=Et("grayscale"),m=Et("hueRotate"),h=Et("invert"),w=Et("gap"),y=Et("gradientColorStops"),b=Et("gradientColorStopPositions"),g=Et("inset"),x=Et("margin"),E=Et("opacity"),k=Et("padding"),C=Et("saturate"),A=Et("scale"),j=Et("sepia"),L=Et("skew"),D=Et("space"),B=Et("translate"),O=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",tt,t],M=()=>[tt,t],V=()=>["",ro,Zo],P=()=>["auto",la,tt],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",tt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[la,tt];return{cacheSize:500,separator:":",theme:{colors:[Wl],spacing:[ro,Zo],blur:["none","",Go,tt],brightness:z(),borderColor:[e],borderRadius:["none","","full",Go,tt],borderSpacing:M(),borderWidth:V(),contrast:z(),grayscale:K(),hueRotate:z(),invert:K(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[zF,Zo],inset:W(),margin:W(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:K(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Go]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),tt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,tt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Hl,tt]}],"grid-cols":[{"grid-cols":[Wl]}],"col-start-end":[{col:["auto",{span:["full",Hl,tt]},tt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Wl]}],"row-start-end":[{row:["auto",{span:[Hl,tt]},tt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Go]},Go]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Go,Zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cm]}],"font-family":[{font:[Wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",la,cm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ro,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ro,Zo]}],"underline-offset":[{"underline-offset":["auto",ro,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),$F]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ro,tt]}],"outline-w":[{outline:[ro,Zo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ro,Zo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Go,WF]}],"shadow-color":[{shadow:[Wl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Go,tt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Hl,tt]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ro,Zo,cm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GF=RF(ZF);function Oe(...e){return GF(Mk(e))}const YF=VB,Zk=_.forwardRef(({className:e,...t},n)=>p.jsx(Tk,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Zk.displayName=Tk.displayName;const JF=Oc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Gk=_.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Pk,{ref:r,className:Oe(JF({variant:t}),e),...n}));Gk.displayName=Pk.displayName;const QF=_.forwardRef(({className:e,...t},n)=>p.jsx(jk,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));QF.displayName=jk.displayName;const Yk=_.forwardRef(({className:e,...t},n)=>p.jsx(Ik,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Uk,{className:"h-4 w-4"})}));Yk.displayName=Ik.displayName;const Jk=_.forwardRef(({className:e,...t},n)=>p.jsx(Rk,{ref:n,className:Oe("text-sm font-semibold",e),...t}));Jk.displayName=Rk.displayName;const Qk=_.forwardRef(({className:e,...t},n)=>p.jsx(Ak,{ref:n,className:Oe("text-sm opacity-90",e),...t}));Qk.displayName=Ak.displayName;function XF(){const{toasts:e}=Fa();return p.jsxs(YF,{children:[e.map(function({id:t,title:n,description:r,action:o,...i}){return p.jsxs(Gk,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Jk,{children:n}),r&&p.jsx(Qk,{children:r})]}),o,p.jsx(Yk,{})]},t)}),p.jsx(Zk,{})]})}var e$=gy[" useId ".trim().toString()]||(()=>{}),t$=0;function rr(e){const[t,n]=_.useState(e$());return Dt(()=>{n(r=>r??String(t$++))},[e]),t?`radix-${t}`:""}const n$=["top","right","bottom","left"],Es=Math.min,Dn=Math.max,Bd=Math.round,ad=Math.floor,Wr=e=>({x:e,y:e}),r$={left:"right",right:"left",bottom:"top",top:"bottom"},o$={start:"end",end:"start"};function Hg(e,t,n){return Dn(e,Es(t,n))}function xo(e,t){return typeof e=="function"?e(t):e}function bo(e){return e.split("-")[0]}function Wa(e){return e.split("-")[1]}function mv(e){return e==="x"?"y":"x"}function gv(e){return e==="y"?"height":"width"}function go(e){return["top","bottom"].includes(bo(e))?"y":"x"}function yv(e){return mv(go(e))}function s$(e,t,n){n===void 0&&(n=!1);const r=Wa(e),o=yv(e),i=gv(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Fd(a)),[a,Fd(a)]}function i$(e){const t=Fd(e);return[Wg(e),t,Wg(t)]}function Wg(e){return e.replace(/start|end/g,t=>o$[t])}function a$(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function l$(e,t,n,r){const o=Wa(e);let i=a$(bo(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Wg)))),i}function Fd(e){return e.replace(/left|right|bottom|top/g,t=>r$[t])}function c$(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xk(e){return typeof e!="number"?c$(e):{top:e,right:e,bottom:e,left:e}}function $d(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function _b(e,t,n){let{reference:r,floating:o}=e;const i=go(t),a=yv(t),c=gv(a),u=bo(t),f=i==="y",m=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,w=r[c]/2-o[c]/2;let y;switch(u){case"top":y={x:m,y:r.y-o.height};break;case"bottom":y={x:m,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-o.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Wa(t)){case"start":y[a]-=w*(n&&f?-1:1);break;case"end":y[a]+=w*(n&&f?-1:1);break}return y}const u$=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:h}=_b(f,r,u),w=r,y={},b=0;for(let g=0;g<c.length;g++){const{name:x,fn:E}=c[g],{x:k,y:C,data:A,reset:j}=await E({x:m,y:h,initialPlacement:r,placement:w,strategy:o,middlewareData:y,rects:f,platform:a,elements:{reference:e,floating:t}});m=k??m,h=C??h,y={...y,[x]:{...y[x],...A}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(w=j.placement),j.rects&&(f=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:m,y:h}=_b(f,w,u)),g=-1)}return{x:m,y:h,placement:w,strategy:o,middlewareData:y}};async function uc(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:c,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:w=!1,padding:y=0}=xo(t,e),b=Xk(y),x=c[w?h==="floating"?"reference":"floating":h],E=$d(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:u})),k=h==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),A=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},j=$d(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:C,strategy:u}):k);return{top:(E.top-j.top+b.top)/A.y,bottom:(j.bottom-E.bottom+b.bottom)/A.y,left:(E.left-j.left+b.left)/A.x,right:(j.right-E.right+b.right)/A.x}}const d$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:c,middlewareData:u}=t,{element:f,padding:m=0}=xo(e,t)||{};if(f==null)return{};const h=Xk(m),w={x:n,y:r},y=yv(o),b=gv(y),g=await a.getDimensions(f),x=y==="y",E=x?"top":"left",k=x?"bottom":"right",C=x?"clientHeight":"clientWidth",A=i.reference[b]+i.reference[y]-w[y]-i.floating[b],j=w[y]-i.reference[y],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let D=L?L[C]:0;(!D||!await(a.isElement==null?void 0:a.isElement(L)))&&(D=c.floating[C]||i.floating[b]);const B=A/2-j/2,O=D/2-g[b]/2-1,F=Es(h[E],O),W=Es(h[k],O),M=F,V=D-g[b]-W,P=D/2-g[b]/2+B,U=Hg(M,P,V),X=!u.arrow&&Wa(o)!=null&&P!==U&&i.reference[b]/2-(P<M?F:W)-g[b]/2<0,J=X?P<M?P-M:P-V:0;return{[y]:w[y]+J,data:{[y]:U,centerOffset:P-U-J,...X&&{alignmentOffset:J}},reset:X}}}),f$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:f}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:w,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...x}=xo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=bo(o),k=go(c),C=bo(c)===c,A=await(u.isRTL==null?void 0:u.isRTL(f.floating)),j=w||(C||!g?[Fd(c)]:i$(c)),L=b!=="none";!w&&L&&j.push(...l$(c,g,b,A));const D=[c,...j],B=await uc(t,x),O=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&O.push(B[E]),h){const U=s$(o,a,A);O.push(B[U[0]],B[U[1]])}if(F=[...F,{placement:o,overflows:O}],!O.every(U=>U<=0)){var W,M;const U=(((W=i.flip)==null?void 0:W.index)||0)+1,X=D[U];if(X){var V;const ee=h==="alignment"?k!==go(X):!1,K=((V=F[0])==null?void 0:V.overflows[0])>0;if(!ee||K)return{data:{index:U,overflows:F},reset:{placement:X}}}let J=(M=F.filter(ee=>ee.overflows[0]<=0).sort((ee,K)=>ee.overflows[1]-K.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(y){case"bestFit":{var P;const ee=(P=F.filter(K=>{if(L){const oe=go(K.placement);return oe===k||oe==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(oe=>oe>0).reduce((oe,z)=>oe+z,0)]).sort((K,oe)=>K[1]-oe[1])[0])==null?void 0:P[0];ee&&(J=ee);break}case"initialPlacement":J=c;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function Sb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kb(e){return n$.some(t=>e[t]>=0)}const h$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=xo(e,t);switch(r){case"referenceHidden":{const i=await uc(t,{...o,elementContext:"reference"}),a=Sb(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:kb(a)}}}case"escaped":{const i=await uc(t,{...o,altBoundary:!0}),a=Sb(i,n.floating);return{data:{escapedOffsets:a,escaped:kb(a)}}}default:return{}}}}};async function p$(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=bo(n),c=Wa(n),u=go(n)==="y",f=["left","top"].includes(a)?-1:1,m=i&&u?-1:1,h=xo(t,e);let{mainAxis:w,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof b=="number"&&(y=c==="end"?b*-1:b),u?{x:y*m,y:w*f}:{x:w*f,y:y*m}}const m$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:c}=t,u=await p$(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:a}}}}},g$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:x=>{let{x:E,y:k}=x;return{x:E,y:k}}},...u}=xo(e,t),f={x:n,y:r},m=await uc(t,u),h=go(bo(o)),w=mv(h);let y=f[w],b=f[h];if(i){const x=w==="y"?"top":"left",E=w==="y"?"bottom":"right",k=y+m[x],C=y-m[E];y=Hg(k,y,C)}if(a){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",k=b+m[x],C=b-m[E];b=Hg(k,b,C)}const g=c.fn({...t,[w]:y,[h]:b});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[w]:i,[h]:a}}}}}},y$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=xo(e,t),m={x:n,y:r},h=go(o),w=mv(h);let y=m[w],b=m[h];const g=xo(c,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const C=w==="y"?"height":"width",A=i.reference[w]-i.floating[C]+x.mainAxis,j=i.reference[w]+i.reference[C]-x.mainAxis;y<A?y=A:y>j&&(y=j)}if(f){var E,k;const C=w==="y"?"width":"height",A=["top","left"].includes(bo(o)),j=i.reference[h]-i.floating[C]+(A&&((E=a.offset)==null?void 0:E[h])||0)+(A?0:x.crossAxis),L=i.reference[h]+i.reference[C]+(A?0:((k=a.offset)==null?void 0:k[h])||0)-(A?x.crossAxis:0);b<j?b=j:b>L&&(b=L)}return{[w]:y,[h]:b}}}},v$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:c}=t,{apply:u=()=>{},...f}=xo(e,t),m=await uc(t,f),h=bo(o),w=Wa(o),y=go(o)==="y",{width:b,height:g}=i.floating;let x,E;h==="top"||h==="bottom"?(x=h,E=w===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(E=h,x=w==="end"?"top":"bottom");const k=g-m.top-m.bottom,C=b-m.left-m.right,A=Es(g-m[x],k),j=Es(b-m[E],C),L=!t.middlewareData.shift;let D=A,B=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=k),L&&!w){const F=Dn(m.left,0),W=Dn(m.right,0),M=Dn(m.top,0),V=Dn(m.bottom,0);y?B=b-2*(F!==0||W!==0?F+W:Dn(m.left,m.right)):D=g-2*(M!==0||V!==0?M+V:Dn(m.top,m.bottom))}await u({...t,availableWidth:B,availableHeight:D});const O=await a.getDimensions(c.floating);return b!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function Va(e){return eC(e)?(e.nodeName||"").toLowerCase():"#document"}function Un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qr(e){var t;return(t=(eC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eC(e){return Nf()?e instanceof Node||e instanceof Un(e).Node:!1}function Er(e){return Nf()?e instanceof Element||e instanceof Un(e).Element:!1}function Vr(e){return Nf()?e instanceof HTMLElement||e instanceof Un(e).HTMLElement:!1}function Cb(e){return!Nf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Un(e).ShadowRoot}function Mc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function w$(e){return["table","td","th"].includes(Va(e))}function Tf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vv(e){const t=wv(),n=Er(e)?_r(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function x$(e){let t=_s(e);for(;Vr(t)&&!ja(t);){if(vv(t))return t;if(Tf(t))return null;t=_s(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ja(e){return["html","body","#document"].includes(Va(e))}function _r(e){return Un(e).getComputedStyle(e)}function Pf(e){return Er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _s(e){if(Va(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cb(e)&&e.host||qr(e);return Cb(t)?t.host:t}function tC(e){const t=_s(e);return ja(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vr(t)&&Mc(t)?t:tC(t)}function dc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=tC(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=Un(o);if(i){const c=Vg(a);return t.concat(a,a.visualViewport||[],Mc(o)?o:[],c&&n?dc(c):[])}return t.concat(o,dc(o,[],n))}function Vg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nC(e){const t=_r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Vr(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,c=Bd(n)!==i||Bd(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function xv(e){return Er(e)?e:e.contextElement}function ca(e){const t=xv(e);if(!Vr(t))return Wr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=nC(t);let a=(i?Bd(n.width):n.width)/r,c=(i?Bd(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const b$=Wr(0);function rC(e){const t=Un(e);return!wv()||!t.visualViewport?b$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Un(e)?!1:t}function hi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=xv(e);let a=Wr(1);t&&(r?Er(r)&&(a=ca(r)):a=ca(e));const c=E$(i,n,r)?rC(i):Wr(0);let u=(o.left+c.x)/a.x,f=(o.top+c.y)/a.y,m=o.width/a.x,h=o.height/a.y;if(i){const w=Un(i),y=r&&Er(r)?Un(r):r;let b=w,g=Vg(b);for(;g&&r&&y!==b;){const x=ca(g),E=g.getBoundingClientRect(),k=_r(g),C=E.left+(g.clientLeft+parseFloat(k.paddingLeft))*x.x,A=E.top+(g.clientTop+parseFloat(k.paddingTop))*x.y;u*=x.x,f*=x.y,m*=x.x,h*=x.y,u+=C,f+=A,b=Un(g),g=Vg(b)}}return $d({width:m,height:h,x:u,y:f})}function bv(e,t){const n=Pf(e).scrollLeft;return t?t.left+n:hi(qr(e)).left+n}function oC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:bv(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function _$(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=qr(r),c=t?Tf(t.floating):!1;if(r===a||c&&i)return n;let u={scrollLeft:0,scrollTop:0},f=Wr(1);const m=Wr(0),h=Vr(r);if((h||!h&&!i)&&((Va(r)!=="body"||Mc(a))&&(u=Pf(r)),Vr(r))){const y=hi(r);f=ca(r),m.x=y.x+r.clientLeft,m.y=y.y+r.clientTop}const w=a&&!h&&!i?oC(a,u,!0):Wr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+m.x+w.x,y:n.y*f.y-u.scrollTop*f.y+m.y+w.y}}function S$(e){return Array.from(e.getClientRects())}function k$(e){const t=qr(e),n=Pf(e),r=e.ownerDocument.body,o=Dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+bv(e);const c=-n.scrollTop;return _r(r).direction==="rtl"&&(a+=Dn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:c}}function C$(e,t){const n=Un(e),r=qr(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(o){i=o.width,a=o.height;const f=wv();(!f||f&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:c,y:u}}function N$(e,t){const n=hi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Vr(e)?ca(e):Wr(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,f=r*i.y;return{width:a,height:c,x:u,y:f}}function Nb(e,t,n){let r;if(t==="viewport")r=C$(e,n);else if(t==="document")r=k$(qr(e));else if(Er(t))r=N$(t,n);else{const o=rC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return $d(r)}function sC(e,t){const n=_s(e);return n===t||!Er(n)||ja(n)?!1:_r(n).position==="fixed"||sC(n,t)}function T$(e,t){const n=t.get(e);if(n)return n;let r=dc(e,[],!1).filter(c=>Er(c)&&Va(c)!=="body"),o=null;const i=_r(e).position==="fixed";let a=i?_s(e):e;for(;Er(a)&&!ja(a);){const c=_r(a),u=vv(a);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Mc(a)&&!u&&sC(e,a))?r=r.filter(m=>m!==a):o=c,a=_s(a)}return t.set(e,r),r}function P$(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?Tf(t)?[]:T$(t,this._c):[].concat(n),r],c=a[0],u=a.reduce((f,m)=>{const h=Nb(t,m,o);return f.top=Dn(h.top,f.top),f.right=Es(h.right,f.right),f.bottom=Es(h.bottom,f.bottom),f.left=Dn(h.left,f.left),f},Nb(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function R$(e){const{width:t,height:n}=nC(e);return{width:t,height:n}}function A$(e,t,n){const r=Vr(t),o=qr(t),i=n==="fixed",a=hi(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=Wr(0);function f(){u.x=bv(o)}if(r||!r&&!i)if((Va(t)!=="body"||Mc(o))&&(c=Pf(t)),r){const y=hi(t,!0,i,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else o&&f();i&&!r&&o&&f();const m=o&&!r&&!i?oC(o,c):Wr(0),h=a.left+c.scrollLeft-u.x-m.x,w=a.top+c.scrollTop-u.y-m.y;return{x:h,y:w,width:a.width,height:a.height}}function um(e){return _r(e).position==="static"}function Tb(e,t){if(!Vr(e)||_r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qr(e)===n&&(n=n.ownerDocument.body),n}function iC(e,t){const n=Un(e);if(Tf(e))return n;if(!Vr(e)){let o=_s(e);for(;o&&!ja(o);){if(Er(o)&&!um(o))return o;o=_s(o)}return n}let r=Tb(e,t);for(;r&&w$(r)&&um(r);)r=Tb(r,t);return r&&ja(r)&&um(r)&&!vv(r)?n:r||x$(e)||n}const j$=async function(e){const t=this.getOffsetParent||iC,n=this.getDimensions,r=await n(e.floating);return{reference:A$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I$(e){return _r(e).direction==="rtl"}const O$={convertOffsetParentRelativeRectToViewportRelativeRect:_$,getDocumentElement:qr,getClippingRect:P$,getOffsetParent:iC,getElementRects:j$,getClientRects:S$,getDimensions:R$,getScale:ca,isElement:Er,isRTL:I$};function aC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function M$(e,t){let n=null,r;const o=qr(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const f=e.getBoundingClientRect(),{left:m,top:h,width:w,height:y}=f;if(c||t(),!w||!y)return;const b=ad(h),g=ad(o.clientWidth-(m+w)),x=ad(o.clientHeight-(h+y)),E=ad(m),C={rootMargin:-b+"px "+-g+"px "+-x+"px "+-E+"px",threshold:Dn(0,Es(1,u))||1};let A=!0;function j(L){const D=L[0].intersectionRatio;if(D!==u){if(!A)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!aC(f,e.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(j,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,C)}n.observe(e)}return a(!0),i}function L$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=xv(e),m=o||i?[...f?dc(f):[],...dc(t)]:[];m.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=f&&c?M$(f,n):null;let w=-1,y=null;a&&(y=new ResizeObserver(E=>{let[k]=E;k&&k.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),f&&!u&&y.observe(f),y.observe(t));let b,g=u?hi(e):null;u&&x();function x(){const E=hi(e);g&&!aC(g,E)&&n(),g=E,b=requestAnimationFrame(x)}return n(),()=>{var E;m.forEach(k=>{o&&k.removeEventListener("scroll",n),i&&k.removeEventListener("resize",n)}),h==null||h(),(E=y)==null||E.disconnect(),y=null,u&&cancelAnimationFrame(b)}}const D$=m$,z$=g$,B$=f$,F$=v$,$$=h$,Pb=d$,U$=y$,H$=(e,t,n)=>{const r=new Map,o={platform:O$,...n},i={...o.platform,_c:r};return u$(e,t,{...o,platform:i})};var bd=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Ud(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ud(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ud(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function lC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(e,t){const n=lC(e);return Math.round(t*n)/n}function dm(e){const t=_.useRef(e);return bd(()=>{t.current=e}),t}function W$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:f}=e,[m,h]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,y]=_.useState(r);Ud(w,r)||y(r);const[b,g]=_.useState(null),[x,E]=_.useState(null),k=_.useCallback(ee=>{ee!==L.current&&(L.current=ee,g(ee))},[]),C=_.useCallback(ee=>{ee!==D.current&&(D.current=ee,E(ee))},[]),A=i||b,j=a||x,L=_.useRef(null),D=_.useRef(null),B=_.useRef(m),O=u!=null,F=dm(u),W=dm(o),M=dm(f),V=_.useCallback(()=>{if(!L.current||!D.current)return;const ee={placement:t,strategy:n,middleware:w};W.current&&(ee.platform=W.current),H$(L.current,D.current,ee).then(K=>{const oe={...K,isPositioned:M.current!==!1};P.current&&!Ud(B.current,oe)&&(B.current=oe,$a.flushSync(()=>{h(oe)}))})},[w,t,n,W,M]);bd(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,h(ee=>({...ee,isPositioned:!1})))},[f]);const P=_.useRef(!1);bd(()=>(P.current=!0,()=>{P.current=!1}),[]),bd(()=>{if(A&&(L.current=A),j&&(D.current=j),A&&j){if(F.current)return F.current(A,j,V);V()}},[A,j,V,F,O]);const U=_.useMemo(()=>({reference:L,floating:D,setReference:k,setFloating:C}),[k,C]),X=_.useMemo(()=>({reference:A,floating:j}),[A,j]),J=_.useMemo(()=>{const ee={position:n,left:0,top:0};if(!X.floating)return ee;const K=Rb(X.floating,m.x),oe=Rb(X.floating,m.y);return c?{...ee,transform:"translate("+K+"px, "+oe+"px)",...lC(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:oe}},[n,c,X.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:V,refs:U,elements:X,floatingStyles:J}),[m,V,U,X,J])}const V$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Pb({element:r.current,padding:o}).fn(n):{}:r?Pb({element:r,padding:o}).fn(n):{}}}},q$=(e,t)=>({...D$(e),options:[e,t]}),K$=(e,t)=>({...z$(e),options:[e,t]}),Z$=(e,t)=>({...U$(e),options:[e,t]}),G$=(e,t)=>({...B$(e),options:[e,t]}),Y$=(e,t)=>({...F$(e),options:[e,t]}),J$=(e,t)=>({...$$(e),options:[e,t]}),Q$=(e,t)=>({...V$(e),options:[e,t]});var X$="Arrow",cC=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return p.jsx(De.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});cC.displayName=X$;var eU=cC;function Rf(e){const[t,n]=_.useState(void 0);return Dt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,c=f.blockSize}else a=e.offsetWidth,c=e.offsetHeight;n({width:a,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ev="Popper",[uC,qa]=Qt(Ev),[tU,dC]=uC(Ev),fC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=_.useState(null);return p.jsx(tU,{scope:t,anchor:r,onAnchorChange:o,children:n})};fC.displayName=Ev;var hC="PopperAnchor",pC=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=dC(hC,n),a=_.useRef(null),c=Je(t,a);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p.jsx(De.div,{...o,ref:c})});pC.displayName=hC;var _v="PopperContent",[nU,rU]=uC(_v),mC=_.forwardRef((e,t)=>{var we,xe,Se,je,Ue,Ke;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:w=!1,updatePositionStrategy:y="optimized",onPlaced:b,...g}=e,x=dC(_v,n),[E,k]=_.useState(null),C=Je(t,Ye=>k(Ye)),[A,j]=_.useState(null),L=Rf(A),D=(L==null?void 0:L.width)??0,B=(L==null?void 0:L.height)??0,O=r+(i!=="center"?"-"+i:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(f)?f:[f],M=W.length>0,V={padding:F,boundary:W.filter(sU),altBoundary:M},{refs:P,floatingStyles:U,placement:X,isPositioned:J,middlewareData:ee}=W$({strategy:"fixed",placement:O,whileElementsMounted:(...Ye)=>L$(...Ye,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[q$({mainAxis:o+B,alignmentAxis:a}),u&&K$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Z$():void 0,...V}),u&&G$({...V}),Y$({...V,apply:({elements:Ye,rects:I,availableWidth:ye,availableHeight:de})=>{const{width:Y,height:G}=I.reference,ie=Ye.floating.style;ie.setProperty("--radix-popper-available-width",`${ye}px`),ie.setProperty("--radix-popper-available-height",`${de}px`),ie.setProperty("--radix-popper-anchor-width",`${Y}px`),ie.setProperty("--radix-popper-anchor-height",`${G}px`)}}),A&&Q$({element:A,padding:c}),iU({arrowWidth:D,arrowHeight:B}),w&&J$({strategy:"referenceHidden",...V})]}),[K,oe]=vC(X),z=Ot(b);Dt(()=>{J&&(z==null||z())},[J,z]);const q=(we=ee.arrow)==null?void 0:we.x,ge=(xe=ee.arrow)==null?void 0:xe.y,pe=((Se=ee.arrow)==null?void 0:Se.centerOffset)!==0,[me,Ae]=_.useState();return Dt(()=>{E&&Ae(window.getComputedStyle(E).zIndex)},[E]),p.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:J?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(je=ee.transformOrigin)==null?void 0:je.x,(Ue=ee.transformOrigin)==null?void 0:Ue.y].join(" "),...((Ke=ee.hide)==null?void 0:Ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(nU,{scope:n,placedSide:K,onArrowChange:j,arrowX:q,arrowY:ge,shouldHideArrow:pe,children:p.jsx(De.div,{"data-side":K,"data-align":oe,...g,ref:C,style:{...g.style,animation:J?void 0:"none"}})})})});mC.displayName=_v;var gC="PopperArrow",oU={top:"bottom",right:"left",bottom:"top",left:"right"},yC=_.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=rU(gC,r),a=oU[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(eU,{...o,ref:n,style:{...o.style,display:"block"}})})});yC.displayName=gC;function sU(e){return e!==null}var iU=e=>({name:"transformOrigin",options:e,fn(t){var x,E,k;const{placement:n,rects:r,middlewareData:o}=t,a=((x=o.arrow)==null?void 0:x.centerOffset)!==0,c=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[f,m]=vC(n),h={start:"0%",center:"50%",end:"100%"}[m],w=(((E=o.arrow)==null?void 0:E.x)??0)+c/2,y=(((k=o.arrow)==null?void 0:k.y)??0)+u/2;let b="",g="";return f==="bottom"?(b=a?h:`${w}px`,g=`${-u}px`):f==="top"?(b=a?h:`${w}px`,g=`${r.floating.height+u}px`):f==="right"?(b=`${-u}px`,g=a?h:`${y}px`):f==="left"&&(b=`${r.floating.width+u}px`,g=a?h:`${y}px`),{data:{x:b,y:g}}}});function vC(e){const[t,n="center"]=e.split("-");return[t,n]}var Sv=fC,kv=pC,Cv=mC,Nv=yC,[Af,kZ]=Qt("Tooltip",[qa]),jf=qa(),wC="TooltipProvider",aU=700,qg="tooltip.open",[lU,Tv]=Af(wC),xC=e=>{const{__scopeTooltip:t,delayDuration:n=aU,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,a=_.useRef(!0),c=_.useRef(!1),u=_.useRef(0);return _.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),p.jsx(lU,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:_.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:i})};xC.displayName=wC;var fc="Tooltip",[cU,If]=Af(fc),bC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:a,delayDuration:c}=e,u=Tv(fc,e.__scopeTooltip),f=jf(t),[m,h]=_.useState(null),w=rr(),y=_.useRef(0),b=a??u.disableHoverableContent,g=c??u.delayDuration,x=_.useRef(!1),[E,k]=sr({prop:r,defaultProp:o??!1,onChange:D=>{D?(u.onOpen(),document.dispatchEvent(new CustomEvent(qg))):u.onClose(),i==null||i(D)},caller:fc}),C=_.useMemo(()=>E?x.current?"delayed-open":"instant-open":"closed",[E]),A=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,x.current=!1,k(!0)},[k]),j=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,k(!1)},[k]),L=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{x.current=!0,k(!0),y.current=0},g)},[g,k]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),p.jsx(Sv,{...f,children:p.jsx(cU,{scope:t,contentId:w,open:E,stateAttribute:C,trigger:m,onTriggerChange:h,onTriggerEnter:_.useCallback(()=>{u.isOpenDelayedRef.current?L():A()},[u.isOpenDelayedRef,L,A]),onTriggerLeave:_.useCallback(()=>{b?j():(window.clearTimeout(y.current),y.current=0)},[j,b]),onOpen:A,onClose:j,disableHoverableContent:b,children:n})})};bC.displayName=fc;var Kg="TooltipTrigger",EC=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=If(Kg,n),i=Tv(Kg,n),a=jf(n),c=_.useRef(null),u=Je(t,c,o.onTriggerChange),f=_.useRef(!1),m=_.useRef(!1),h=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(kv,{asChild:!0,...a,children:p.jsx(De.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:u,onPointerMove:Pe(e.onPointerMove,w=>{w.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Pe(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Pe(e.onBlur,o.onClose),onClick:Pe(e.onClick,o.onClose)})})});EC.displayName=Kg;var uU="TooltipPortal",[CZ,dU]=Af(uU,{forceMount:void 0}),Ia="TooltipContent",_C=_.forwardRef((e,t)=>{const n=dU(Ia,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,a=If(Ia,e.__scopeTooltip);return p.jsx(rn,{present:r||a.open,children:a.disableHoverableContent?p.jsx(SC,{side:o,...i,ref:t}):p.jsx(fU,{side:o,...i,ref:t})})}),fU=_.forwardRef((e,t)=>{const n=If(Ia,e.__scopeTooltip),r=Tv(Ia,e.__scopeTooltip),o=_.useRef(null),i=Je(t,o),[a,c]=_.useState(null),{trigger:u,onClose:f}=n,m=o.current,{onPointerInTransitChange:h}=r,w=_.useCallback(()=>{c(null),h(!1)},[h]),y=_.useCallback((b,g)=>{const x=b.currentTarget,E={x:b.clientX,y:b.clientY},k=yU(E,x.getBoundingClientRect()),C=vU(E,k),A=wU(g.getBoundingClientRect()),j=bU([...C,...A]);c(j),h(!0)},[h]);return _.useEffect(()=>()=>w(),[w]),_.useEffect(()=>{if(u&&m){const b=x=>y(x,m),g=x=>y(x,u);return u.addEventListener("pointerleave",b),m.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",g)}}},[u,m,y,w]),_.useEffect(()=>{if(a){const b=g=>{const x=g.target,E={x:g.clientX,y:g.clientY},k=(u==null?void 0:u.contains(x))||(m==null?void 0:m.contains(x)),C=!xU(E,a);k?w():C&&(w(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,m,a,f,w]),p.jsx(SC,{...e,ref:i})}),[hU,pU]=Af(fc,{isInside:!1}),mU=sB("TooltipContent"),SC=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=e,u=If(Ia,n),f=jf(n),{onClose:m}=u;return _.useEffect(()=>(document.addEventListener(qg,m),()=>document.removeEventListener(qg,m)),[m]),_.useEffect(()=>{if(u.trigger){const h=w=>{const y=w.target;y!=null&&y.contains(u.trigger)&&m()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,m]),p.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:m,children:p.jsxs(Cv,{"data-state":u.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(mU,{children:r}),p.jsx(hU,{scope:n,isInside:!0,children:p.jsx(NB,{id:u.contentId,role:"tooltip",children:o||r})})]})})});_C.displayName=Ia;var kC="TooltipArrow",gU=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=jf(n);return pU(kC,n).isInside?null:p.jsx(Nv,{...o,...r,ref:t})});gU.displayName=kC;function yU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function wU(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function xU(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const c=t[i],u=t[a],f=c.x,m=c.y,h=u.x,w=u.y;m>r!=w>r&&n<(h-f)*(r-m)/(w-m)+f&&(o=!o)}return o}function bU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EU(t)}function EU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _U=xC,SU=bC,kU=EC,CC=_C;const ai=_U,Zs=SU,Gs=kU,ps=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(CC,{ref:r,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ps.displayName=CC.displayName;function Zg(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,o=(n==null?void 0:n.deserialize)||JSON.parse,[i,a]=_.useState(()=>{try{const u=localStorage.getItem(e);return u?o(u):t}catch(u){return console.warn(`Failed to load ${e} from localStorage:`,u),t}}),c=u=>{try{const f=u instanceof Function?u(i):u;a(f),localStorage.setItem(e,r(f))}catch(f){console.warn(`Failed to save ${e} to localStorage:`,f)}};return _.useEffect(()=>{const u=f=>{if(f.key===e&&f.newValue!==null)try{a(o(f.newValue))}catch(m){console.warn(`Failed to sync ${e} from localStorage:`,m)}};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[e,o]),[i,c]}const CU=mo({relays:JS(mo({url:Gl(),read:oi(),write:oi()})),updatedAt:so()}),NU=mo({theme:XS(["dark","light","system"]),relayMetadata:CU});function TU(e){const{children:t,storageKey:n,defaultConfig:r}=e,[o,i]=Zg(n,{},{serialize:JSON.stringify,deserialize:f=>{const m=JSON.parse(f);return NU.partial().parse(m)}}),a=f=>{i(f)},c={...r,...o},u={config:c,updateConfig:a};return PU(c.theme),p.jsx(lk.Provider,{value:u,children:t})}function PU(e){_.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),_.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const o=t.matches?"dark":"light";r.classList.add(o)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var Ab,fm,RU=(Ab=function(e,t){function n(O){if(!Number.isSafeInteger(O))throw new Error(`Wrong integer: ${O}`)}function r(...O){const F=(W,M)=>V=>W(M(V));return{encode:Array.from(O).reverse().reduce((W,M)=>W?F(W,M.encode):M.encode,void 0),decode:O.reduce((W,M)=>W?F(W,M.decode):M.decode,void 0)}}function o(O){return{encode:F=>{if(!Array.isArray(F)||F.length&&typeof F[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return F.map(W=>{if(n(W),W<0||W>=O.length)throw new Error(`Digit index outside alphabet: ${W} (alphabet: ${O.length})`);return O[W]})},decode:F=>{if(!Array.isArray(F)||F.length&&typeof F[0]!="string")throw new Error("alphabet.decode input should be array of strings");return F.map(W=>{if(typeof W!="string")throw new Error(`alphabet.decode: not string element=${W}`);const M=O.indexOf(W);if(M===-1)throw new Error(`Unknown letter: "${W}". Allowed: ${O}`);return M})}}}function i(O=""){if(typeof O!="string")throw new Error("join separator should be string");return{encode:F=>{if(!Array.isArray(F)||F.length&&typeof F[0]!="string")throw new Error("join.encode input should be array of strings");for(let W of F)if(typeof W!="string")throw new Error(`join.encode: non-string input=${W}`);return F.join(O)},decode:F=>{if(typeof F!="string")throw new Error("join.decode input should be string");return F.split(O)}}}function a(O,F="="){if(n(O),typeof F!="string")throw new Error("padding chr should be string");return{encode(W){if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("padding.encode input should be array of strings");for(let M of W)if(typeof M!="string")throw new Error(`padding.encode: non-string input=${M}`);for(;W.length*O%8;)W.push(F);return W},decode(W){if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("padding.encode input should be array of strings");for(let V of W)if(typeof V!="string")throw new Error(`padding.decode: non-string input=${V}`);let M=W.length;if(M*O%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;M>0&&W[M-1]===F;M--)if(!((M-1)*O%8))throw new Error("Invalid padding: string has too much padding");return W.slice(0,M)}}}function c(O){if(typeof O!="function")throw new Error("normalize fn should be function");return{encode:F=>F,decode:F=>O(F)}}function u(O,F,W){if(F<2)throw new Error(`convertRadix: wrong from=${F}, base cannot be less than 2`);if(W<2)throw new Error(`convertRadix: wrong to=${W}, base cannot be less than 2`);if(!Array.isArray(O))throw new Error("convertRadix: data should be array");if(!O.length)return[];let M=0;const V=[],P=Array.from(O);for(P.forEach(U=>{if(n(U),U<0||U>=F)throw new Error(`Wrong integer: ${U}`)});;){let U=0,X=!0;for(let J=M;J<P.length;J++){const ee=P[J],K=F*U+ee;if(!Number.isSafeInteger(K)||F*U/F!==U||K-ee!=F*U)throw new Error("convertRadix: carry overflow");if(U=K%W,P[J]=Math.floor(K/W),!Number.isSafeInteger(P[J])||P[J]*W+U!==K)throw new Error("convertRadix: carry overflow");X&&(P[J]?X=!1:M=J)}if(V.push(U),X)break}for(let U=0;U<O.length-1&&O[U]===0;U++)V.push(0);return V.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const f=(O,F)=>F?f(F,O%F):O,m=(O,F)=>O+(F-f(O,F));function h(O,F,W,M){if(!Array.isArray(O))throw new Error("convertRadix2: data should be array");if(F<=0||F>32)throw new Error(`convertRadix2: wrong from=${F}`);if(W<=0||W>32)throw new Error(`convertRadix2: wrong to=${W}`);if(m(F,W)>32)throw new Error(`convertRadix2: carry overflow from=${F} to=${W} carryBits=${m(F,W)}`);let V=0,P=0;const U=2**W-1,X=[];for(const J of O){if(n(J),J>=2**F)throw new Error(`convertRadix2: invalid data word=${J} from=${F}`);if(V=V<<F|J,P+F>32)throw new Error(`convertRadix2: carry overflow pos=${P} from=${F}`);for(P+=F;P>=W;P-=W)X.push((V>>P-W&U)>>>0);V&=2**P-1}if(V=V<<W-P&U,!M&&P>=F)throw new Error("Excess padding");if(!M&&V)throw new Error(`Non-zero padding: ${V}`);return M&&P>0&&X.push(V>>>0),X}function w(O){return n(O),{encode:F=>{if(!(F instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(F),256,O)},decode:F=>{if(!Array.isArray(F)||F.length&&typeof F[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(F,O,256))}}}function y(O,F=!1){if(n(O),O<=0||O>32)throw new Error("radix2: bits should be in (0..32]");if(m(8,O)>32||m(O,8)>32)throw new Error("radix2: carry overflow");return{encode:W=>{if(!(W instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(W),8,O,!F)},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(W,O,8,F))}}}function b(O){if(typeof O!="function")throw new Error("unsafeWrapper fn should be function");return function(...F){try{return O.apply(null,F)}catch{}}}function g(O,F){if(n(O),typeof F!="function")throw new Error("checksum fn should be function");return{encode(W){if(!(W instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const M=F(W).slice(0,O),V=new Uint8Array(W.length+O);return V.set(W),V.set(M,W.length),V},decode(W){if(!(W instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const M=W.slice(0,-O),V=F(M).slice(0,O),P=W.slice(-O);for(let U=0;U<O;U++)if(V[U]!==P[U])throw new Error("Invalid checksum");return M}}}t.utils={alphabet:o,chain:r,checksum:g,radix:w,radix2:y,join:i,padding:a},t.base16=r(y(4),o("0123456789ABCDEF"),i("")),t.base32=r(y(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),i("")),t.base32hex=r(y(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),i("")),t.base32crockford=r(y(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),c(O=>O.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(y(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),i("")),t.base64url=r(y(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),i(""));const x=O=>r(w(58),o(O),i(""));t.base58=x("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=x("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=x("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const E=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(O){let F="";for(let W=0;W<O.length;W+=8){const M=O.subarray(W,W+8);F+=t.base58.encode(M).padStart(E[M.length],"1")}return F},decode(O){let F=[];for(let W=0;W<O.length;W+=11){const M=O.slice(W,W+11),V=E.indexOf(M.length),P=t.base58.decode(M);for(let U=0;U<P.length-V;U++)if(P[U]!==0)throw new Error("base58xmr: wrong padding");F=F.concat(Array.from(P.slice(P.length-V)))}return Uint8Array.from(F)}},t.base58check=O=>r(g(4,F=>O(O(F))),t.base58);const k=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),C=[996825010,642813549,513874426,1027748829,705979059];function A(O){const F=O>>25;let W=(33554431&O)<<5;for(let M=0;M<C.length;M++)(F>>M&1)==1&&(W^=C[M]);return W}function j(O,F,W=1){const M=O.length;let V=1;for(let P=0;P<M;P++){const U=O.charCodeAt(P);if(U<33||U>126)throw new Error(`Invalid prefix (${O})`);V=A(V)^U>>5}V=A(V);for(let P=0;P<M;P++)V=A(V)^31&O.charCodeAt(P);for(let P of F)V=A(V)^P;for(let P=0;P<6;P++)V=A(V);return V^=W,k.encode(h([V%2**30],30,5,!1))}function L(O){const F=O==="bech32"?1:734539939,W=y(5),M=W.decode,V=W.encode,P=b(M);function U(X,J=90){if(typeof X!="string")throw new Error("bech32.decode input should be string, not "+typeof X);if(X.length<8||J!==!1&&X.length>J)throw new TypeError(`Wrong string length: ${X.length} (${X}). Expected (8..${J})`);const ee=X.toLowerCase();if(X!==ee&&X!==X.toUpperCase())throw new Error("String must be lowercase or uppercase");const K=(X=ee).lastIndexOf("1");if(K===0||K===-1)throw new Error('Letter "1" must be present between prefix and data only');const oe=X.slice(0,K),z=X.slice(K+1);if(z.length<6)throw new Error("Data must be at least 6 characters long");const q=k.decode(z).slice(0,-6),ge=j(oe,q,F);if(!z.endsWith(ge))throw new Error(`Invalid checksum in ${X}: expected "${ge}"`);return{prefix:oe,words:q}}return{encode:function(X,J,ee=90){if(typeof X!="string")throw new Error("bech32.encode prefix should be string, not "+typeof X);if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof J);const K=X.length+7+J.length;if(ee!==!1&&K>ee)throw new TypeError(`Length ${K} exceeds limit ${ee}`);return`${X=X.toLowerCase()}1${k.encode(J)}${j(X,J,F)}`},decode:U,decodeToBytes:function(X){const{prefix:J,words:ee}=U(X,!1);return{prefix:J,words:ee,bytes:M(ee)}},decodeUnsafe:b(U),fromWords:M,fromWordsUnsafe:P,toWords:V}}t.bech32=L("bech32"),t.bech32m=L("bech32m"),t.utf8={encode:O=>new TextDecoder().decode(O),decode:O=>new TextEncoder().encode(O)},t.hex=r(y(4),o("0123456789abcdef"),i(""),c(O=>{if(typeof O!="string"||O.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof O} with length ${O.length}`);return O.toLowerCase()}));const D={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},B=`Invalid encoding type. Available types: ${Object.keys(D).join(", ")}`;t.bytesToString=(O,F)=>{if(typeof O!="string"||!D.hasOwnProperty(O))throw new TypeError(B);if(!(F instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return D[O].encode(F)},t.str=t.bytesToString,t.stringToBytes=(O,F)=>{if(!D.hasOwnProperty(O))throw new TypeError(B);if(typeof F!="string")throw new TypeError("stringToBytes() expects string");return D[O].decode(F)},t.bytes=t.stringToBytes},Ab(fm={exports:{}},fm.exports),fm.exports);const{bech32:Lr,hex:gr,utf8:AU}=RU,jb={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Ib={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Ob={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Mb={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Lb={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},ld=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],jU={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},IU=BigInt("2100000000000000000"),Db=BigInt(1e11),Gg={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},NC={};for(let e=0,t=Object.keys(Gg);e<t.length;e++){const n=t[e],r=Gg[t[e]].toString();NC[r]=n}const OU={1:e=>gr.encode(Lr.fromWordsUnsafe(e)),16:e=>gr.encode(Lr.fromWordsUnsafe(e)),13:e=>AU.encode(Lr.fromWordsUnsafe(e)),19:e=>gr.encode(Lr.fromWordsUnsafe(e)),23:e=>gr.encode(Lr.fromWordsUnsafe(e)),27:e=>gr.encode(Lr.fromWordsUnsafe(e)),6:Hd,24:Hd,3:function(e){const t=[];let n,r,o,i,a,c=Lr.fromWordsUnsafe(e);for(;c.length>0;)n=gr.encode(c.slice(0,33)),r=gr.encode(c.slice(33,41)),o=parseInt(gr.encode(c.slice(41,45)),16),i=parseInt(gr.encode(c.slice(45,49)),16),a=parseInt(gr.encode(c.slice(49,51)),16),c=c.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:o,fee_proportional_millionths:i,cltv_expiry_delta:a});return t},5:function(e){const t=e.slice().reverse().map(o=>[!!(1&o),!!(2&o),!!(4&o),!!(8&o),!!(16&o)]).reduce((o,i)=>o.concat(i),[]);for(;t.length<2*ld.length;)t.push(!1);const n={};ld.forEach((o,i)=>{let a;a=t[2*i]?"required":t[2*i+1]?"supported":"unsupported",n[o]=a});const r=t.slice(2*ld.length);return n.extra_bits={start_bit:2*ld.length,bits:r,has_required:r.reduce((o,i,a)=>a%2!=0?o||!1:o||i,!1)},n}};function MU(e){return t=>({tagCode:parseInt(e),words:Lr.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Hd(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const LU=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),DU=e=>{if(!e)return null;try{const t=function(h,w){if(typeof h!="string")throw new Error("Lightning Payment Request must be string");if(h.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const y=[],b=Lr.decode(h,Number.MAX_SAFE_INTEGER);h=h.toLowerCase();const g=b.prefix;let x=b.words,E=h.slice(g.length+1),k=x.slice(-104);x=x.slice(0,-104);let C=g.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(C&&!C[2]&&(C=g.match(/^ln(\S+)$/)),!C)throw new Error("Not a proper lightning payment request");y.push({name:"lightning_network",letters:"ln"});const A=C[1];let j;switch(A){case jb.bech32:j=jb;break;case Ib.bech32:j=Ib;break;case Ob.bech32:j=Ob;break;case Mb.bech32:j=Mb;break;case Lb.bech32:j=Lb}if(!j||j.bech32!==A)throw new Error("Unknown coin bech32 prefix");y.push({name:"coin_network",letters:A,value:j});const L=C[2];let D;L?(D=function(U,X){let J,ee;if(U.slice(-1).match(/^[munp]$/))J=U.slice(-1),ee=U.slice(0,-1);else{if(U.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");ee=U}if(!ee.match(/^\d+$/))throw new Error("Not a valid human readable amount");const K=BigInt(ee),oe=J?K*Db/jU[J]:K*Db;if(J==="p"&&K%BigInt(10)!==BigInt(0)||oe>IU)throw new Error("Amount is outside of valid range");return oe.toString()}(L+C[3]),y.push({name:"amount",letters:C[2]+C[3],value:D})):D=null,y.push({name:"separator",letters:"1"});const B=Hd(x.slice(0,7));let O,F,W,M;for(x=x.slice(7),y.push({name:"timestamp",letters:E.slice(0,7),value:B}),E=E.slice(7);x.length>0;){const U=x[0].toString();O=NC[U]||"unknown_tag",F=OU[U]||MU(U),x=x.slice(1),W=Hd(x.slice(0,2)),x=x.slice(2),M=x.slice(0,W),x=x.slice(W),y.push({name:O,tag:E[0],letters:E.slice(0,3+W),value:F(M)}),E=E.slice(3+W)}y.push({name:"signature",letters:E.slice(0,104),value:gr.encode(Lr.fromWordsUnsafe(k))}),E=E.slice(104),y.push({name:"checksum",letters:E});let V={paymentRequest:h,sections:y,get expiry(){let U=y.find(X=>X.name==="expiry");if(U)return P("timestamp")+U.value},get route_hints(){return y.filter(U=>U.name==="route_hint").map(U=>U.value)}};for(let U in Gg)U!=="route_hint"&&Object.defineProperty(V,U,{get:()=>P(U)});return V;function P(U){let X=y.find(J=>J.name===U);return X?X.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(h=>h.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let o=0;const i=t.sections.find(h=>h.name==="amount");(i==null?void 0:i.name)==="amount"&&i.value&&(o=parseInt(i.value)/1e3);const a=t.sections.find(h=>h.name==="timestamp");if((a==null?void 0:a.name)!=="timestamp"||!a.value)return null;const c=a.value;let u;const f=t.sections.find(h=>h.name==="expiry");(f==null?void 0:f.name)==="expiry"&&(u=f.value);const m=t.sections.find(h=>h.name==="description");return{paymentHash:r,satoshi:o,timestamp:c,expiry:u,description:(m==null?void 0:m.name)==="description"?m==null?void 0:m.value:void 0}}catch{return null}};function zb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const TC=e=>e instanceof Uint8Array,hm=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),jr=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const zU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wd(e){if(!TC(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=zU[e[n]];return t}function PC(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!TC(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let BU=class{clone(){return this._cloneInto()}};function FU(e){const t=r=>e().update(PC(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class $U extends BU{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=hm(this.buffer)}update(t){zb(this);const{view:n,buffer:r,blockLen:o}=this,i=(t=PC(t)).length;for(let a=0;a<i;){const c=Math.min(o-this.pos,i-a);if(c!==o)r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(n,0),this.pos=0);else{const u=hm(t);for(;o<=i-a;a+=o)this.process(u,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){zb(this),function(h,w){(function(b,...g){if(!(b instanceof Uint8Array))throw new Error("Expected Uint8Array");if(g.length>0&&!g.includes(b.length))throw new Error(`Expected Uint8Array of length ${g}, not of length=${b.length}`)})(h);const y=w.outputLen;if(h.length<y)throw new Error(`digestInto() expects output buffer of length at least ${y}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let h=a;h<o;h++)n[h]=0;(function(h,w,y,b){if(typeof h.setBigUint64=="function")return h.setBigUint64(w,y,b);const g=BigInt(32),x=BigInt(4294967295),E=Number(y>>g&x),k=Number(y&x),C=b?0:4;h.setUint32(w+(b?4:0),E,b),h.setUint32(w+C,k,b)})(r,o-8,BigInt(8*this.length),i),this.process(r,0);const c=hm(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,m=this.get();if(f>m.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,m[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:a,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=a,o%n&&t.buffer.set(r),t}}const UU=(e,t,n)=>e&t^e&n^t&n,HU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jo=new Uint32Array(64);let WU=class extends $U{constructor(){super(64,32,8,!1),this.A=0|Yo[0],this.B=0|Yo[1],this.C=0|Yo[2],this.D=0|Yo[3],this.E=0|Yo[4],this.F=0|Yo[5],this.G=0|Yo[6],this.H=0|Yo[7]}get(){const{A:t,B:n,C:r,D:o,E:i,F:a,G:c,H:u}=this;return[t,n,r,o,i,a,c,u]}set(t,n,r,o,i,a,c,u){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|o,this.E=0|i,this.F=0|a,this.G=0|c,this.H=0|u}process(t,n){for(let w=0;w<16;w++,n+=4)Jo[w]=t.getUint32(n,!1);for(let w=16;w<64;w++){const y=Jo[w-15],b=Jo[w-2],g=jr(y,7)^jr(y,18)^y>>>3,x=jr(b,17)^jr(b,19)^b>>>10;Jo[w]=x+Jo[w-7]+g+Jo[w-16]|0}let{A:r,B:o,C:i,D:a,E:c,F:u,G:f,H:m}=this;for(let w=0;w<64;w++){const y=m+(jr(c,6)^jr(c,11)^jr(c,25))+((h=c)&u^~h&f)+HU[w]+Jo[w]|0,b=(jr(r,2)^jr(r,13)^jr(r,22))+UU(r,o,i)|0;m=f,f=u,u=c,c=a+y|0,a=i,i=o,o=r,r=y+b|0}var h;r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,m=m+this.H|0,this.set(r,o,i,a,c,u,f,m)}roundClean(){Jo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Vd=FU(()=>new WU);let Pv=class{constructor(t){var n,r,o,i;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const a=DU(this.paymentRequest);if(!a)throw new Error("Failed to decode payment request");this.paymentHash=a.paymentHash,this.satoshi=a.satoshi,this.timestamp=a.timestamp,this.expiry=a.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=a.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(o=t.preimage)!=null?o:null,this.successAction=(i=t.successAction)!=null?i:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=Wd(Vd(LU(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const VU=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function qU({satoshi:e,comment:t,p:n,e:r,relays:o},i={}){const a=i.nostr||globalThis.nostr;if(!a)throw new Error("nostr option or window.nostr is not available");const c=[["relays",...o],["amount",e.toString()]];n&&c.push(["p",n]),r&&c.push(["e",r]);const u={pubkey:await a.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:c,content:t??""};return u.id=GU(u),await a.signEvent(u)}function KU(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function ZU(e){if(!KU(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function GU(e){return Wd(Vd(ZU(e)))}function YU(e,t){let n,r;var o,i;return t&&e&&(n=(o=e.names)==null?void 0:o[t],r=n?(i=e.relays)==null?void 0:i[n]:void 0),[e,n,r]}const JU=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,RC=e=>!!e&&JU.test(e),Bb=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,QU=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!RC(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let o,i;try{o=JSON.parse(e.metadata+""),i=Wd(Vd(e.metadata+""))}catch{o=[],i=Wd(Vd("[]"))}let a="",c="",u="",f="";for(let w=0;w<o.length;w++){const[y,b]=o[w];switch(y){case"text/plain":u=b;break;case"text/identifier":f=b;break;case"text/email":a=b;break;case"image/png;base64":case"image/jpeg;base64":c="data:"+y+","+b}}const m=e.payerData;let h;try{h=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:h,metadata:o,metadataHash:i,identifier:f,email:a,description:u,image:c,payerData:m,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(this,arguments)}const XU=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const o=e.amount||Math.floor(n.value_msat/1e3),i={destination:e.destination,amount:o,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(i.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(i)},e7=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class t7{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=e7.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const i=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(Yg({ln:this.address},t)).toString()}`);if(!i.ok)throw new Error(`Failed to generate invoice: ${i.status} ${i.statusText}`);n=(await i.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!RC(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const i=new URL(this.lnurlpData.callback);i.search=new URLSearchParams(t).toString();const a=await fetch(i.toString());if(!a.ok)throw new Error(`Failed to generate invoice: ${a.status} ${a.statusText}`);n=await a.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const o={pr:r};if(n&&n.verify&&(o.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:i,message:a,description:c,url:u}=n.successAction;i==="message"?o.successAction={tag:i,message:a}:i==="url"&&(o.successAction={tag:i,description:c,url:u})}return new Pv(o)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:o,max:i}=this.lnurlpData;if(!Bb({amount:n,min:o,max:i}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const a={amount:n.toString()};return t.comment&&(a.comment=t.comment),t.payerdata&&(a.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(a)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:o,customValue:i}=this.keysendData,a=this.getWebLN();if(!a)throw new Error("WebLN not available");return XU({destination:r,customKey:o,customValue:i,amount:n,boost:t},{webln:a})}async zapInvoice({satoshi:t,comment:n,relays:r,e:o},i={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const a=this.nostrPubkey,c=1e3*t,{allowsNostr:u,min:f,max:m}=this.lnurlpData;if(!Bb({amount:c,min:f,max:m}))throw new Error("Invalid amount");if(!u)throw new Error("Your provider does not support zaps");const h=await qU({satoshi:c,comment:n,p:a,e:o,relays:r},i),w={amount:c.toString(),nostr:JSON.stringify(h)};return await this.generateInvoice(w)}async zap(t,n={}){const r=this.zapInvoice(t,n),o=this.getWebLN();if(!o)throw new Error("WebLN not available");return await o.enable(),o.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await QU(t))}parseKeysendResponse(t){t&&(this.keysendData=VU(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=YU(t,this.username))}}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const n7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function r7(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=n7[e[n]];return t}function Vl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=2*r,i=e.slice(o,o+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}class Ns extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class o7 extends Ns{}class s7 extends Ns{}class AC extends Ns{}class Fb extends AC{}class $b extends AC{}class Ub extends Ns{}class Hb extends Ns{}class pm extends Ns{}class i7 extends Ns{}class a7 extends Ns{}class ua{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const o={walletPubkey:n.host,relayUrl:r},i=n.searchParams.get("secret");i&&(o.secret=i);const a=n.searchParams.get("lud16");return a&&(o.lud16=a),o}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=ys({},ua.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=ys({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new $_(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?xn.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?xn.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return wo(Vl(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(ir(t,Vl(this.secret)))}getEventHash(t){return ec(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await ac.encrypt(this.secret,t,n);else{const o=hs.getConversationKey(Vl(this.secret),t);r=hs.encrypt(n,o)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await ac.decrypt(this.secret,t,n);else{const o=hs.getConversationKey(Vl(this.secret),t);r=hs.decrypt(n,o)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const o=new URL(t);return n.name&&o.searchParams.set("name",n.name),o.searchParams.set("pubkey",r),n.returnTo&&o.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&o.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&o.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&o.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&o.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&o.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&o.searchParams.set("isolated","true"),n.metadata&&o.searchParams.set("metadata",JSON.stringify(n.metadata)),o}static fromAuthorizationUrl(t,n={},r){r=r||r7(Pc()),n.name||(n.name=document.location.host);const o=this.getAuthorizationUrl(t,n,wo(Vl(r))),i=window.outerHeight/2+window.screenY-300,a=window.outerWidth/2+window.screenX-200;return new Promise((c,u)=>{const f=window.open(o.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${i},left=${a}`);if(!f)return void u(new Error("failed to execute window.open"));const m=w=>{const y=w.data;y&&y.type==="nwc:success"&&w.origin===`${o.protocol}//${o.host}`&&(y.relayUrl||u(new Error("no relayUrl in response")),y.walletPubkey||u(new Error("no walletPubkey in response")),c(new ua({relayUrl:y.relayUrl,walletPubkey:y.walletPubkey,secret:r,lud16:y.lud16})),clearInterval(h),window.removeEventListener("message",m),f&&f.close())},h=setInterval(()=>{f&&f.closed&&(clearInterval(h),window.removeEventListener("message",m),u(new Error("Popup closed")))},500);window.addEventListener("message",m)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((u,f)=>{const m=[],h=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});h.onevent=w=>{m.push(w)},h.oneose=()=>{h.close(),u(m)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,o=n[0].tags.find(u=>u[0]==="notifications"),i=n[0].tags.find(u=>u[0]==="v"),a=n[0].tags.find(u=>u[0]==="encryption");let c=["nip04"];return i&&i[1].includes("1.0")&&c.push("nip44_v2"),a&&(c=a[1].split(" ")),{encryptions:c,capabilities:r.split(/[ |,]/g),notifications:(o==null||(t=o[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let o,i,a,c=!0;return async function(){for(;c;){try{await r._checkConnected(),await r._selectEncryptionType(),a=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),a.onevent=async function(u){const f=await r.decrypt(r.walletPubkey,u.content);let m;try{m=JSON.parse(f)}catch(h){return void console.error("Failed to parse decrypted event content",h)}m.notification?(!n||n.indexOf(m.notification_type)>-1)&&t(m):console.error("No notification in response",m)},await new Promise(u=>{o=()=>{u()},i=()=>{console.info("relay disconnected"),o==null||o()},r.relay.onclose=i}),i!==void 0&&(r.relay.onclose=null)}catch(u){console.error("error subscribing to notifications",u||"unknown relay error")}c&&await new Promise(u=>setTimeout(u,1e3))}}(),()=>{var u;c=!1,o==null||o(),(u=a)==null||u.close()}}async executeNip47Request(t,n,r,o){var i=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((a,c)=>{(async function(){const u={method:t,params:n},f=await i.encrypt(i.walletPubkey,JSON.stringify(u)),m={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",i.walletPubkey],["v",i.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",i.encryptionType]],content:f},h=await i.signEvent(m),w=i.relay.subscribe([{kinds:[23195],authors:[i.walletPubkey],"#e":[h.id]}],{}),y=setTimeout(function(){w.close(),c(new $b(`reply timeout: event ${h.id}`,"INTERNAL"))},(o==null?void 0:o.replyTimeout)||6e4);w.onevent=async function(g){clearTimeout(y),w.close();const x=await i.decrypt(i.walletPubkey,g.content);let E;try{E=JSON.parse(x)}catch{return clearTimeout(y),w.close(),void c(new Hb("failed to deserialize response","INTERNAL"))}var k,C;E.result?r(E.result)?a(E.result):(clearTimeout(y),w.close(),c(new pm("response from NWC failed validation: "+JSON.stringify(E.result),"INTERNAL"))):(clearTimeout(y),w.close(),c(new s7(((k=E.error)==null?void 0:k.message)||"unknown Error",((C=E.error)==null?void 0:C.code)||"INTERNAL")))};const b=setTimeout(function(){w.close(),c(new Fb(`publish timeout: ${h.id}`,"INTERNAL"))},(o==null?void 0:o.publishTimeout)||5e3);try{await i.relay.publish(h),clearTimeout(b)}catch(g){clearTimeout(b),c(new Ub(`failed to publish: ${g}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,o,i){var a=this;await this._checkConnected(),await this._selectEncryptionType();const c=[];return new Promise((u,f)=>{(async function(){const m={method:t,params:n},h=await a.encrypt(a.walletPubkey,JSON.stringify(m)),w={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",a.walletPubkey],["v",a.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",a.encryptionType]],content:h},y=await a.signEvent(w),b=a.relay.subscribe([{kinds:[23195],authors:[a.walletPubkey],"#e":[y.id]}],{}),g=setTimeout(function(){b.close(),f(new $b(`reply timeout: event ${y.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(E){const k=await a.decrypt(a.walletPubkey,E.content);let C;try{C=JSON.parse(k)}catch{clearTimeout(g),b.close(),f(new Hb("failed to deserialize response","INTERNAL"))}if(C.result){var A;if(!o(C.result))return clearTimeout(g),b.close(),void f(new pm("Response from NWC failed validation: "+JSON.stringify(C.result),"INTERNAL"));const D=(A=E.tags.find(B=>B[0]==="d"))==null?void 0:A[1];if(D===void 0)return clearTimeout(g),b.close(),void f(new pm("No d tag found in response event","INTERNAL"));c.push(ys({},C.result,{dTag:D})),c.length===r&&(clearTimeout(g),b.close(),u(c))}else{var j,L;clearTimeout(g),b.close(),f(new i7((j=C.error)==null?void 0:j.message,(L=C.error)==null?void 0:L.code))}};const x=setTimeout(function(){b.close(),f(new Fb(`Publish timeout: ${y.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await a.relay.publish(y),clearTimeout(x)}catch(E){clearTimeout(x),f(new Ub(`Failed to publish: ${E}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new o7("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new a7("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class l7{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Pv({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var o;r=(o=(await n._nwcClient.getInfo()).notifications)==null?void 0:o.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const i=c=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(c)},a=c=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),c()};if(r){const c=u=>{u.notification.payment_hash===n.transaction.payment_hash&&i(u.notification)};n._unsubscribeFunc=a(await n._nwcClient.subscribeNotifications(c,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=a(n._onPaidPollingFallback(i))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const o=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(o.settled_at&&o.preimage){t(o),r=!1;break}await new Promise(i=>setTimeout(i,3e3))}}(),()=>{r=!1}}}async function Wb(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class hc{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new ua({nostrWalletConnectUrl:t}):t instanceof ua?t:new ua(t)}async pay(t,n,r){let o=t;const i=n?await Wb(n):void 0;if(o.indexOf("@")>-1){var a,c;if(!i)throw new Error("Amount must be provided when paying to a lightning address");const f=new t7(t);await f.fetch(),o=(await f.requestInvoice({satoshi:i.satoshi,comment:r==null||(a=r.metadata)==null?void 0:a.comment,payerdata:r==null||(c=r.metadata)==null?void 0:c.payer_data})).paymentRequest}const u=await this.nwcClient.payInvoice(ys({},r||{},{invoice:o,amount:i==null?void 0:i.millisat}));return ys({},u,{invoice:new Pv({pr:o})})}async requestPayment(t,n){const r=await Wb(t),o=await this.nwcClient.makeInvoice(ys({},n||{},{amount:r.millisat}));return new l7(this.nwcClient,o)}close(){this.nwcClient.close()}}function c7(){const{toast:e}=Fa(),[t,n]=Zg("nwc-connections",[]),[r,o]=Zg("nwc-active-connection",null),[i,a]=_.useState({}),c=async(h,w)=>{const b=(x=>{try{return!x.startsWith("nostr+walletconnect://")&&!x.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:x.split("://")[0]}),null):{connectionString:x}}catch(E){return console.error("Failed to parse NWC URI:",E),null}})(h);if(!b)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(x=>x.connectionString===b.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let x;const E=new Promise((j,L)=>{try{const D=new hc(b.connectionString);j(D)}catch(D){L(D)}}),k=new Promise((j,L)=>{x=setTimeout(()=>L(new Error("Connection test timeout")),1e4)});try{await Promise.race([E,k]),x&&clearTimeout(x)}catch(j){throw x&&clearTimeout(x),j}const C={connectionString:b.connectionString,alias:w||"NWC Wallet",isConnected:!0};a(j=>({...j,[b.connectionString]:{alias:C.alias,methods:["pay_invoice"]}}));const A=[...t,C];return n(A),(t.length===0||!r)&&o(b.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${C.alias}.`}),!0}catch(x){console.error("NWC connection failed:",x);const E=x instanceof Error?x.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${E}`,variant:"destructive"}),!1}},u=h=>{const w=t.filter(y=>y.connectionString!==h);if(n(w),r===h){const y=w.length>0?w[0].connectionString:null;o(y)}a(y=>{const b={...y};return delete b[h],b}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},f=_.useCallback(()=>!r&&t.length>0?(o(t[0].connectionString),t[0]):r&&t.find(w=>w.connectionString===r)||null,[r,t,o]),m=_.useCallback(async(h,w)=>{if(!h.connectionString)throw new Error("Invalid connection: missing connection string");let y;try{y=new hc(h.connectionString)}catch(b){throw console.error("Failed to create NWC client:",b),new Error(`Failed to create NWC client: ${b instanceof Error?b.message:"Unknown error"}`)}try{let b;const g=new Promise((E,k)=>{b=setTimeout(()=>k(new Error("Payment timeout after 15 seconds")),15e3)}),x=y.pay(w);try{const E=await Promise.race([x,g]);return b&&clearTimeout(b),E}catch(E){throw b&&clearTimeout(b),E}}catch(b){throw console.error("NWC payment failed:",b),b instanceof Error?b.message.includes("timeout")?new Error("Payment timed out. Please try again."):b.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):b.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${b.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:i,addConnection:c,removeConnection:u,setActiveConnection:o,getActiveConnection:f,sendPayment:m}}const jC=_.createContext(null);function IC(){const e=_.useContext(jC);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function u7({children:e}){const t=c7();return p.jsx(jC.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(this,arguments)}var ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ms||(ms={}));const Vb="popstate";function d7(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:a,hash:c}=r.location;return Jg("",{pathname:i,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:qd(o)}return h7(t,n,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f7(){return Math.random().toString(36).substr(2,8)}function qb(e,t){return{usr:e.state,key:e.key,idx:t}}function Jg(e,t,n,r){return n===void 0&&(n=null),pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ka(t):t,{state:n,key:t&&t.key||r||f7()})}function qd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ka(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h7(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,c=ms.Pop,u=null,f=m();f==null&&(f=0,a.replaceState(pc({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function h(){c=ms.Pop;let x=m(),E=x==null?null:x-f;f=x,u&&u({action:c,location:g.location,delta:E})}function w(x,E){c=ms.Push;let k=Jg(g.location,x,E);f=m()+1;let C=qb(k,f),A=g.createHref(k);try{a.pushState(C,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(A)}i&&u&&u({action:c,location:g.location,delta:1})}function y(x,E){c=ms.Replace;let k=Jg(g.location,x,E);f=m();let C=qb(k,f),A=g.createHref(k);a.replaceState(C,"",A),i&&u&&u({action:c,location:g.location,delta:0})}function b(x){let E=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof x=="string"?x:qd(x);return k=k.replace(/ $/,"%20"),Ht(E,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,E)}let g={get action(){return c},get location(){return e(o,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(Vb,h),u=x,()=>{o.removeEventListener(Vb,h),u=null}},createHref(x){return t(o,x)},createURL:b,encodeLocation(x){let E=b(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:y,go(x){return a.go(x)}};return g}var Kb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kb||(Kb={}));function p7(e,t,n){return n===void 0&&(n="/"),m7(e,t,n)}function m7(e,t,n,r){let o=typeof t=="string"?Ka(t):t,i=Av(o.pathname||"/",n);if(i==null)return null;let a=OC(e);g7(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let f=T7(i);c=k7(a[u],f)}return c}function OC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Ht(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=vs([r,u.relativePath]),m=n.concat(u);i.children&&i.children.length>0&&(Ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),OC(i.children,t,m,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:_7(f,i.index),routesMeta:m})};return e.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,a);else for(let u of MC(i.path))o(i,a,u)}),t}function MC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=MC(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&c.push(...a),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function g7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:S7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y7=/^:[\w-]+$/,v7=3,w7=2,x7=1,b7=10,E7=-2,Zb=e=>e==="*";function _7(e,t){let n=e.split("/"),r=n.length;return n.some(Zb)&&(r+=E7),t&&(r+=w7),n.filter(o=>!Zb(o)).reduce((o,i)=>o+(y7.test(i)?v7:i===""?x7:b7),r)}function S7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function k7(e,t,n){let{routesMeta:r}=e,o={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",h=C7({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),w=u.route;if(!h)return null;Object.assign(o,h.params),a.push({params:o,pathname:vs([i,h.pathname]),pathnameBase:I7(vs([i,h.pathnameBase])),route:w}),h.pathnameBase!=="/"&&(i=vs([i,h.pathnameBase]))}return a}function C7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=N7(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((f,m,h)=>{let{paramName:w,isOptional:y}=m;if(w==="*"){let g=c[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const b=c[h];return y&&!b?f[w]=void 0:f[w]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:e}}function N7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Rv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function T7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Av(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const P7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R7=e=>P7.test(e);function A7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Ka(e):e,i;if(n)if(R7(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Rv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Gb(n.substring(1),"/"):i=Gb(n,t)}else i=t;return{pathname:i,search:O7(r),hash:M7(o)}}function Gb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function LC(e,t){let n=j7(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function DC(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Ka(e):(o=pc({},e),Ht(!o.pathname||!o.pathname.includes("?"),mm("?","pathname","search",o)),Ht(!o.pathname||!o.pathname.includes("#"),mm("#","pathname","hash",o)),Ht(!o.search||!o.search.includes("#"),mm("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,c;if(a==null)c=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),h-=1;o.pathname=w.join("/")}c=h>=0?t[h]:"/"}let u=A7(o,c),f=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}const vs=e=>e.join("/").replace(/\/\/+/g,"/"),I7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function L7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zC=["post","put","patch","delete"];new Set(zC);const D7=["get",...zC];new Set(D7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(this,arguments)}const jv=_.createContext(null),z7=_.createContext(null),wi=_.createContext(null),Of=_.createContext(null),Ts=_.createContext({outlet:null,matches:[],isDataRoute:!1}),BC=_.createContext(null);function B7(e,t){let{relative:n}=t===void 0?{}:t;Lc()||Ht(!1);let{basename:r,navigator:o}=_.useContext(wi),{hash:i,pathname:a,search:c}=$C(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:vs([r,a])),o.createHref({pathname:u,search:c,hash:i})}function Lc(){return _.useContext(Of)!=null}function xi(){return Lc()||Ht(!1),_.useContext(Of).location}function FC(e){_.useContext(wi).static||_.useLayoutEffect(e)}function F7(){let{isDataRoute:e}=_.useContext(Ts);return e?X7():$7()}function $7(){Lc()||Ht(!1);let e=_.useContext(jv),{basename:t,future:n,navigator:r}=_.useContext(wi),{matches:o}=_.useContext(Ts),{pathname:i}=xi(),a=JSON.stringify(LC(o,n.v7_relativeSplatPath)),c=_.useRef(!1);return FC(()=>{c.current=!0}),_.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=DC(f,JSON.parse(a),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vs([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,a,i,e])}function Iv(){let{matches:e}=_.useContext(Ts),t=e[e.length-1];return t?t.params:{}}function $C(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(wi),{matches:o}=_.useContext(Ts),{pathname:i}=xi(),a=JSON.stringify(LC(o,r.v7_relativeSplatPath));return _.useMemo(()=>DC(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function U7(e,t){return H7(e,t)}function H7(e,t,n,r){Lc()||Ht(!1);let{navigator:o}=_.useContext(wi),{matches:i}=_.useContext(Ts),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let f=xi(),m;if(t){var h;let x=typeof t=="string"?Ka(t):t;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||Ht(!1),m=x}else m=f;let w=m.pathname||"/",y=w;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=p7(e,{pathname:y}),g=Z7(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:vs([u,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:vs([u,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&g?_.createElement(Of.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ms.Pop}},g):g}function W7(){let e=Q7(),t=L7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:o},n):null,null)}const V7=_.createElement(W7,null);class q7 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(Ts.Provider,{value:this.props.routeContext},_.createElement(BC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K7(e){let{routeContext:t,match:n,children:r}=e,o=_.useContext(jv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Ts.Provider,{value:t},r)}function Z7(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(o=n)==null?void 0:o.errors;if(c!=null){let m=a.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);m>=0||Ht(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let h=a[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=m),h.route.id){let{loaderData:w,errors:y}=n,b=h.route.loader&&w[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,h,w)=>{let y,b=!1,g=null,x=null;n&&(y=c&&h.route.id?c[h.route.id]:void 0,g=h.route.errorElement||V7,u&&(f<0&&w===0?(e9("route-fallback"),b=!0,x=null):f===w&&(b=!0,x=h.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,w+1)),k=()=>{let C;return y?C=g:b?C=x:h.route.Component?C=_.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=m,_.createElement(K7,{match:h,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||w===0)?_.createElement(q7,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):k()},null)}var UC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UC||{}),HC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(HC||{});function G7(e){let t=_.useContext(jv);return t||Ht(!1),t}function Y7(e){let t=_.useContext(z7);return t||Ht(!1),t}function J7(e){let t=_.useContext(Ts);return t||Ht(!1),t}function WC(e){let t=J7(),n=t.matches[t.matches.length-1];return n.route.id||Ht(!1),n.route.id}function Q7(){var e;let t=_.useContext(BC),n=Y7(),r=WC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function X7(){let{router:e}=G7(UC.UseNavigateStable),t=WC(HC.UseNavigateStable),n=_.useRef(!1);return FC(()=>{n.current=!0}),_.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,mc({fromRouteId:t},i)))},[e,t])}const Yb={};function e9(e,t,n){Yb[e]||(Yb[e]=!0)}function t9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Or(e){Ht(!1)}function n9(e){let{basename:t="/",children:n=null,location:r,navigationType:o=ms.Pop,navigator:i,static:a=!1,future:c}=e;Lc()&&Ht(!1);let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:i,static:a,future:mc({v7_relativeSplatPath:!1},c)}),[u,c,i,a]);typeof r=="string"&&(r=Ka(r));let{pathname:m="/",search:h="",hash:w="",state:y=null,key:b="default"}=r,g=_.useMemo(()=>{let x=Av(m,u);return x==null?null:{location:{pathname:x,search:h,hash:w,state:y,key:b},navigationType:o}},[u,m,h,w,y,b,o]);return g==null?null:_.createElement(wi.Provider,{value:f},_.createElement(Of.Provider,{children:n,value:g}))}function r9(e){let{children:t,location:n}=e;return U7(Qg(t),n)}new Promise(()=>{});function Qg(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,o)=>{if(!_.isValidElement(r))return;let i=[...t,o];if(r.type===_.Fragment){n.push.apply(n,Qg(r.props.children,i));return}r.type!==Or&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Qg(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(this,arguments)}function o9(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function s9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i9(e,t){return e.button===0&&(!t||t==="_self")&&!s9(e)}const a9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l9="6";try{window.__reactRouterVersion=l9}catch{}const c9="startTransition",Jb=gy[c9];function u9(e){let{basename:t,children:n,future:r,window:o}=e,i=_.useRef();i.current==null&&(i.current=d7({window:o,v5Compat:!0}));let a=i.current,[c,u]=_.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=_.useCallback(h=>{f&&Jb?Jb(()=>u(h)):u(h)},[u,f]);return _.useLayoutEffect(()=>a.listen(m),[a,m]),_.useEffect(()=>t9(r),[r]),_.createElement(n9,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const d9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=_.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:c,target:u,to:f,preventScrollReset:m,viewTransition:h}=t,w=o9(t,a9),{basename:y}=_.useContext(wi),b,g=!1;if(typeof f=="string"&&f9.test(f)&&(b=f,d9))try{let C=new URL(window.location.href),A=f.startsWith("//")?new URL(C.protocol+f):new URL(f),j=Av(A.pathname,y);A.origin===C.origin&&j!=null?f=j+A.search+A.hash:g=!0}catch{}let x=B7(f,{relative:o}),E=h9(f,{replace:a,state:c,target:u,preventScrollReset:m,relative:o,viewTransition:h});function k(C){r&&r(C),C.defaultPrevented||E(C)}return _.createElement("a",Xg({},w,{href:b||x,onClick:g||i?r:k,ref:n,target:u}))});var Qb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qb||(Qb={}));var Xb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xb||(Xb={}));function h9(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:c}=t===void 0?{}:t,u=F7(),f=xi(),m=$C(e,{relative:a});return _.useCallback(h=>{if(i9(h,n)){h.preventDefault();let w=r!==void 0?r:qd(f)===qd(m);u(e,{replace:w,state:o,preventScrollReset:i,relative:a,viewTransition:c})}},[f,u,m,r,o,n,e,i,a,c])}function p9(){const{pathname:e}=xi();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const m9=Oc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),nt=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},i)=>{const a=r?rB:"button";return p.jsx(a,{className:Oe(m9({variant:t,size:n,className:e})),ref:i,...o})});nt.displayName="Button";const Ut=_.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ut.displayName="Input";var gm="focusScope.autoFocusOnMount",ym="focusScope.autoFocusOnUnmount",e2={bubbles:!1,cancelable:!0},g9="FocusScope",Mf=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[c,u]=_.useState(null),f=Ot(o),m=Ot(i),h=_.useRef(null),w=Je(t,g=>u(g)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(C){if(y.paused||!c)return;const A=C.target;c.contains(A)?h.current=A:ts(h.current,{select:!0})},x=function(C){if(y.paused||!c)return;const A=C.relatedTarget;A!==null&&(c.contains(A)||ts(h.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const j of C)j.removedNodes.length>0&&ts(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const k=new MutationObserver(E);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),k.disconnect()}}},[r,c,y.paused]),_.useEffect(()=>{if(c){n2.add(y);const g=document.activeElement;if(!c.contains(g)){const E=new CustomEvent(gm,e2);c.addEventListener(gm,f),c.dispatchEvent(E),E.defaultPrevented||(y9(E9(VC(c)),{select:!0}),document.activeElement===g&&ts(c))}return()=>{c.removeEventListener(gm,f),setTimeout(()=>{const E=new CustomEvent(ym,e2);c.addEventListener(ym,m),c.dispatchEvent(E),E.defaultPrevented||ts(g??document.body,{select:!0}),c.removeEventListener(ym,m),n2.remove(y)},0)}}},[c,f,m,y]);const b=_.useCallback(g=>{if(!n&&!r||y.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(x&&E){const k=g.currentTarget,[C,A]=v9(k);C&&A?!g.shiftKey&&E===A?(g.preventDefault(),n&&ts(C,{select:!0})):g.shiftKey&&E===C&&(g.preventDefault(),n&&ts(A,{select:!0})):E===k&&g.preventDefault()}},[n,r,y.paused]);return p.jsx(De.div,{tabIndex:-1,...a,ref:w,onKeyDown:b})});Mf.displayName=g9;function y9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ts(r,{select:t}),document.activeElement!==n)return}function v9(e){const t=VC(e),n=t2(t,e),r=t2(t.reverse(),e);return[n,r]}function VC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function t2(e,t){for(const n of e)if(!w9(n,{upTo:t}))return n}function w9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function x9(e){return e instanceof HTMLInputElement&&"select"in e}function ts(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&x9(e)&&t&&e.select()}}var n2=b9();function b9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=r2(e,t),e.unshift(t)},remove(t){var n;e=r2(e,t),(n=e[0])==null||n.resume()}}}function r2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function E9(e){return e.filter(t=>t.tagName!=="A")}var vm=0;function Ov(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??o2()),document.body.insertAdjacentElement("beforeend",e[1]??o2()),vm++,()=>{vm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vm--}},[])}function o2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fr=function(){return Fr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fr.apply(this,arguments)};function qC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function _9(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Ed="right-scroll-bar-position",_d="width-before-scroll-bar",S9="with-scroll-bars-hidden",k9="--removed-body-scroll-bar-size";function wm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function C9(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var N9=typeof window<"u"?_.useLayoutEffect:_.useEffect,s2=new WeakMap;function T9(e,t){var n=C9(null,function(r){return e.forEach(function(o){return wm(o,r)})});return N9(function(){var r=s2.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(c){i.has(c)||wm(c,null)}),i.forEach(function(c){o.has(c)||wm(c,a)})}s2.set(n,e)},[e]),n}function P9(e){return e}function R9(e,t){t===void 0&&(t=P9);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var u=function(){var m=a;a=[],m.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return o}function A9(e){e===void 0&&(e={});var t=R9(null);return t.options=Fr({async:!0,ssr:!1},e),t}var KC=function(e){var t=e.sideCar,n=qC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Fr({},n))};KC.isSideCarExport=!0;function j9(e,t){return e.useMedium(t),KC}var ZC=A9(),xm=function(){},Lf=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:xm,onWheelCapture:xm,onTouchMoveCapture:xm}),o=r[0],i=r[1],a=e.forwardProps,c=e.children,u=e.className,f=e.removeScrollBar,m=e.enabled,h=e.shards,w=e.sideCar,y=e.noIsolation,b=e.inert,g=e.allowPinchZoom,x=e.as,E=x===void 0?"div":x,k=e.gapMode,C=qC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=w,j=T9([n,t]),L=Fr(Fr({},C),o);return _.createElement(_.Fragment,null,m&&_.createElement(A,{sideCar:ZC,removeScrollBar:f,shards:h,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:k}),a?_.cloneElement(_.Children.only(c),Fr(Fr({},L),{ref:j})):_.createElement(E,Fr({},L,{className:u,ref:j}),c))});Lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lf.classNames={fullWidth:_d,zeroRight:Ed};var I9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I9();return t&&e.setAttribute("nonce",t),e}function M9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var D9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=O9())&&(M9(t,n),L9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z9=function(){var e=D9();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},GC=function(){var e=z9(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},B9={left:0,top:0,right:0,gap:0},bm=function(e){return parseInt(e||"",10)||0},F9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[bm(n),bm(r),bm(o)]},$9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return B9;var t=F9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},U9=GC(),da="data-scroll-locked",H9=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(S9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(_d,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(da,`] {
    `).concat(k9,": ").concat(c,`px;
  }
`)},i2=function(){var e=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(e)?e:0},W9=function(){_.useEffect(function(){return document.body.setAttribute(da,(i2()+1).toString()),function(){var e=i2()-1;e<=0?document.body.removeAttribute(da):document.body.setAttribute(da,e.toString())}},[])},V9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;W9();var i=_.useMemo(function(){return $9(o)},[o]);return _.createElement(U9,{styles:H9(i,!t,o,n?"":"!important")})},ey=!1;if(typeof window<"u")try{var cd=Object.defineProperty({},"passive",{get:function(){return ey=!0,!0}});window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{ey=!1}var Ji=ey?{passive:!1}:!1,q9=function(e){return e.tagName==="TEXTAREA"},YC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q9(e)&&n[t]==="visible")},K9=function(e){return YC(e,"overflowY")},Z9=function(e){return YC(e,"overflowX")},a2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=JC(e,r);if(o){var i=QC(e,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Y9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},JC=function(e,t){return e==="v"?K9(t):Z9(t)},QC=function(e,t){return e==="v"?G9(t):Y9(t)},J9=function(e,t){return e==="h"&&t==="rtl"?-1:1},Q9=function(e,t,n,r,o){var i=J9(e,window.getComputedStyle(t).direction),a=i*r,c=n.target,u=t.contains(c),f=!1,m=a>0,h=0,w=0;do{var y=QC(e,c),b=y[0],g=y[1],x=y[2],E=g-x-i*b;(b||E)&&JC(e,c)&&(h+=E,w+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(m&&Math.abs(h)<1||!m&&Math.abs(w)<1)&&(f=!0),f},ud=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l2=function(e){return[e.deltaX,e.deltaY]},c2=function(e){return e&&"current"in e?e.current:e},X9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tH=0,Qi=[];function nH(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),o=_.useState(tH++)[0],i=_.useState(GC)[0],a=_.useRef(e);_.useEffect(function(){a.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=_9([e.lockRef.current],(e.shards||[]).map(c2),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=_.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var E=ud(g),k=n.current,C="deltaX"in g?g.deltaX:k[0]-E[0],A="deltaY"in g?g.deltaY:k[1]-E[1],j,L=g.target,D=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in g&&D==="h"&&L.type==="range")return!1;var B=a2(D,L);if(!B)return!0;if(B?j=D:(j=D==="v"?"h":"v",B=a2(D,L)),!B)return!1;if(!r.current&&"changedTouches"in g&&(C||A)&&(r.current=j),!j)return!0;var O=r.current||j;return Q9(O,x,g,O==="h"?C:A)},[]),u=_.useCallback(function(g){var x=g;if(!(!Qi.length||Qi[Qi.length-1]!==i)){var E="deltaY"in x?l2(x):ud(x),k=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&X9(j.delta,E)})[0];if(k&&k.should){x.cancelable&&x.preventDefault();return}if(!k){var C=(a.current.shards||[]).map(c2).filter(Boolean).filter(function(j){return j.contains(x.target)}),A=C.length>0?c(x,C[0]):!a.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),f=_.useCallback(function(g,x,E,k){var C={name:g,delta:x,target:E,should:k,shadowParent:rH(E)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),m=_.useCallback(function(g){n.current=ud(g),r.current=void 0},[]),h=_.useCallback(function(g){f(g.type,l2(g),g.target,c(g,e.lockRef.current))},[]),w=_.useCallback(function(g){f(g.type,ud(g),g.target,c(g,e.lockRef.current))},[]);_.useEffect(function(){return Qi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:w}),document.addEventListener("wheel",u,Ji),document.addEventListener("touchmove",u,Ji),document.addEventListener("touchstart",m,Ji),function(){Qi=Qi.filter(function(g){return g!==i}),document.removeEventListener("wheel",u,Ji),document.removeEventListener("touchmove",u,Ji),document.removeEventListener("touchstart",m,Ji)}},[]);var y=e.removeScrollBar,b=e.inert;return _.createElement(_.Fragment,null,b?_.createElement(i,{styles:eH(o)}):null,y?_.createElement(V9,{gapMode:e.gapMode}):null)}function rH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oH=j9(ZC,nH);var Df=_.forwardRef(function(e,t){return _.createElement(Lf,Fr({},e,{ref:t,sideCar:oH}))});Df.classNames=Lf.classNames;var sH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xi=new WeakMap,dd=new WeakMap,fd={},Em=0,XC=function(e){return e&&(e.host||XC(e.parentNode))},iH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=XC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},aH=function(e,t,n,r){var o=iH(t,Array.isArray(e)?e:[e]);fd[n]||(fd[n]=new WeakMap);var i=fd[n],a=[],c=new Set,u=new Set(o),f=function(h){!h||c.has(h)||(c.add(h),f(h.parentNode))};o.forEach(f);var m=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(w){if(c.has(w))m(w);else try{var y=w.getAttribute(r),b=y!==null&&y!=="false",g=(Xi.get(w)||0)+1,x=(i.get(w)||0)+1;Xi.set(w,g),i.set(w,x),a.push(w),g===1&&b&&dd.set(w,!0),x===1&&w.setAttribute(n,"true"),b||w.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return m(t),c.clear(),Em++,function(){a.forEach(function(h){var w=Xi.get(h)-1,y=i.get(h)-1;Xi.set(h,w),i.set(h,y),w||(dd.has(h)||h.removeAttribute(r),dd.delete(h)),y||h.removeAttribute(n)}),Em--,Em||(Xi=new WeakMap,Xi=new WeakMap,dd=new WeakMap,fd={})}},Mv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=sH(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),aH(r,o,n,"aria-hidden")):function(){return null}},zf="Dialog",[eN,RZ]=Qt(zf),[lH,Sr]=eN(zf),tN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=_.useRef(null),u=_.useRef(null),[f,m]=sr({prop:r,defaultProp:o??!1,onChange:i,caller:zf});return p.jsx(lH,{scope:t,triggerRef:c,contentRef:u,contentId:rr(),titleId:rr(),descriptionId:rr(),open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(h=>!h),[m]),modal:a,children:n})};tN.displayName=zf;var nN="DialogTrigger",rN=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(nN,n),i=Je(t,o.triggerRef);return p.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Bv(o.open),...r,ref:i,onClick:Pe(e.onClick,o.onOpenToggle)})});rN.displayName=nN;var Lv="DialogPortal",[cH,oN]=eN(Lv,{forceMount:void 0}),sN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Sr(Lv,t);return p.jsx(cH,{scope:t,forceMount:n,children:_.Children.map(r,a=>p.jsx(rn,{present:n||i.open,children:p.jsx(jc,{asChild:!0,container:o,children:a})}))})};sN.displayName=Lv;var Kd="DialogOverlay",iN=_.forwardRef((e,t)=>{const n=oN(Kd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Sr(Kd,e.__scopeDialog);return i.modal?p.jsx(rn,{present:r||i.open,children:p.jsx(dH,{...o,ref:t})}):null});iN.displayName=Kd;var uH=fi("DialogOverlay.RemoveScroll"),dH=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Kd,n);return p.jsx(Df,{as:uH,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(De.div,{"data-state":Bv(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),pi="DialogContent",aN=_.forwardRef((e,t)=>{const n=oN(pi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Sr(pi,e.__scopeDialog);return p.jsx(rn,{present:r||i.open,children:i.modal?p.jsx(fH,{...o,ref:t}):p.jsx(hH,{...o,ref:t})})});aN.displayName=pi;var fH=_.forwardRef((e,t)=>{const n=Sr(pi,e.__scopeDialog),r=_.useRef(null),o=Je(t,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return Mv(i)},[]),p.jsx(lN,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),hH=_.forwardRef((e,t)=>{const n=Sr(pi,e.__scopeDialog),r=_.useRef(!1),o=_.useRef(!1);return p.jsx(lN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,c;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),lN=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=e,c=Sr(pi,n),u=_.useRef(null),f=Je(t,u);return Ov(),p.jsxs(p.Fragment,{children:[p.jsx(Mf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:p.jsx(Ua,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Bv(c.open),...a,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(pH,{titleId:c.titleId}),p.jsx(gH,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Dv="DialogTitle",zv=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Dv,n);return p.jsx(De.h2,{id:o.titleId,...r,ref:t})});zv.displayName=Dv;var cN="DialogDescription",uN=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(cN,n);return p.jsx(De.p,{id:o.descriptionId,...r,ref:t})});uN.displayName=cN;var dN="DialogClose",fN=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(dN,n);return p.jsx(De.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>o.onOpenChange(!1))})});fN.displayName=dN;function Bv(e){return e?"open":"closed"}var hN="DialogTitleWarning",[AZ,pN]=tB(hN,{contentName:pi,titleName:Dv,docsSlug:"dialog"}),pH=({titleId:e})=>{const t=pN(hN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mH="DialogDescriptionWarning",gH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pN(mH).contentName}}.`;return _.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},yH=tN,vH=rN,wH=sN,mN=iN,gN=aN,yN=zv,vN=uN,xH=fN;const Za=yH,bH=vH,EH=wH,wN=_.forwardRef(({className:e,...t},n)=>p.jsx(mN,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wN.displayName=mN.displayName;const bi=_.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(EH,{children:[p.jsx(wN,{}),p.jsxs(gN,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(xH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Uk,{className:"size-5"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bi.displayName=gN.displayName;const Ei=({className:e,...t})=>p.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ei.displayName="DialogHeader";const Ga=_.forwardRef(({className:e,...t},n)=>p.jsx(yN,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Ga.displayName=yN.displayName;const Dc=_.forwardRef(({className:e,...t},n)=>p.jsx(vN,{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));Dc.displayName=vN.displayName;var _H=_.createContext(void 0);function _i(e){const t=_.useContext(_H);return e||t||"ltr"}var _m="rovingFocusGroup.onEntryFocus",SH={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[ty,xN,kH]=Ac(zc),[CH,Ya]=Qt(zc,[kH]),[NH,TH]=CH(zc),bN=_.forwardRef((e,t)=>p.jsx(ty.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(ty.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(PH,{...e,ref:t})})}));bN.displayName=zc;var PH=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...h}=e,w=_.useRef(null),y=Je(t,w),b=_i(i),[g,x]=sr({prop:a,defaultProp:c??null,onChange:u,caller:zc}),[E,k]=_.useState(!1),C=Ot(f),A=xN(n),j=_.useRef(!1),[L,D]=_.useState(0);return _.useEffect(()=>{const B=w.current;if(B)return B.addEventListener(_m,C),()=>B.removeEventListener(_m,C)},[C]),p.jsx(NH,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:g,onItemFocus:_.useCallback(B=>x(B),[x]),onItemShiftTab:_.useCallback(()=>k(!0),[]),onFocusableItemAdd:_.useCallback(()=>D(B=>B+1),[]),onFocusableItemRemove:_.useCallback(()=>D(B=>B-1),[]),children:p.jsx(De.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{j.current=!0}),onFocus:Pe(e.onFocus,B=>{const O=!j.current;if(B.target===B.currentTarget&&O&&!E){const F=new CustomEvent(_m,SH);if(B.currentTarget.dispatchEvent(F),!F.defaultPrevented){const W=A().filter(X=>X.focusable),M=W.find(X=>X.active),V=W.find(X=>X.id===g),U=[M,V,...W].filter(Boolean).map(X=>X.ref.current);SN(U,m)}}j.current=!1}),onBlur:Pe(e.onBlur,()=>k(!1))})})}),EN="RovingFocusGroupItem",_N=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:a,...c}=e,u=rr(),f=i||u,m=TH(EN,n),h=m.currentTabStopId===f,w=xN(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:g}=m;return _.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),p.jsx(ty.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:p.jsx(De.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Pe(e.onMouseDown,x=>{r?m.onItemFocus(f):x.preventDefault()}),onFocus:Pe(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Pe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const E=jH(x,m.orientation,m.dir);if(E!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let C=w().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const A=C.indexOf(x.currentTarget);C=m.loop?IH(C,A+1):C.slice(A+1)}setTimeout(()=>SN(C))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});_N.displayName=EN;var RH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jH(e,t,n){const r=AH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return RH[r]}function SN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function IH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Fv=bN,$v=_N,Bf="Tabs",[OH,jZ]=Qt(Bf,[Ya]),kN=Ya(),[MH,Uv]=OH(Bf),CN=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:u="automatic",...f}=e,m=_i(c),[h,w]=sr({prop:r,onChange:o,defaultProp:i??"",caller:Bf});return p.jsx(MH,{scope:n,baseId:rr(),value:h,onValueChange:w,orientation:a,dir:m,activationMode:u,children:p.jsx(De.div,{dir:m,"data-orientation":a,...f,ref:t})})});CN.displayName=Bf;var NN="TabsList",TN=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=Uv(NN,n),a=kN(n);return p.jsx(Fv,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});TN.displayName=NN;var PN="TabsTrigger",RN=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,a=Uv(PN,n),c=kN(n),u=IN(a.baseId,r),f=ON(a.baseId,r),m=r===a.value;return p.jsx($v,{asChild:!0,...c,focusable:!o,active:m,children:p.jsx(De.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...i,ref:t,onMouseDown:Pe(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:Pe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:Pe(e.onFocus,()=>{const h=a.activationMode!=="manual";!m&&!o&&h&&a.onValueChange(r)})})})});RN.displayName=PN;var AN="TabsContent",jN=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...a}=e,c=Uv(AN,n),u=IN(c.baseId,r),f=ON(c.baseId,r),m=r===c.value,h=_.useRef(m);return _.useEffect(()=>{const w=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(w)},[]),p.jsx(rn,{present:o||m,children:({present:w})=>p.jsx(De.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:f,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:w&&i})})});jN.displayName=AN;function IN(e,t){return`${e}-trigger-${t}`}function ON(e,t){return`${e}-content-${t}`}var LH=CN,MN=TN,LN=RN,DN=jN;const DH=LH,zN=_.forwardRef(({className:e,...t},n)=>p.jsx(MN,{ref:n,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zN.displayName=MN.displayName;const ny=_.forwardRef(({className:e,...t},n)=>p.jsx(LN,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ny.displayName=LN.displayName;const ry=_.forwardRef(({className:e,...t},n)=>p.jsx(DN,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ry.displayName=DN.displayName;const zH=Oc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),BN=_.forwardRef(({className:e,variant:t,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:Oe(zH({variant:t}),e),...n}));BN.displayName="Alert";const BH=_.forwardRef(({className:e,...t},n)=>p.jsx("h5",{ref:n,className:Oe("mb-1 font-medium leading-none tracking-tight",e),...t}));BH.displayName="AlertTitle";const FN=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Oe("text-sm [&_p]:leading-relaxed",e),...t}));FN.displayName="AlertDescription";var Ff="Collapsible",[FH,IZ]=Qt(Ff),[$H,Hv]=FH(Ff),$N=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:a,...c}=e,[u,f]=sr({prop:r,defaultProp:o??!1,onChange:a,caller:Ff});return p.jsx($H,{scope:n,disabled:i,contentId:rr(),open:u,onOpenToggle:_.useCallback(()=>f(m=>!m),[f]),children:p.jsx(De.div,{"data-state":Vv(u),"data-disabled":i?"":void 0,...c,ref:t})})});$N.displayName=Ff;var UN="CollapsibleTrigger",HN=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=Hv(UN,n);return p.jsx(De.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Vv(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Pe(e.onClick,o.onOpenToggle)})});HN.displayName=UN;var Wv="CollapsibleContent",WN=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Hv(Wv,e.__scopeCollapsible);return p.jsx(rn,{present:n||o.open,children:({present:i})=>p.jsx(UH,{...r,ref:t,present:i})})});WN.displayName=Wv;var UH=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,a=Hv(Wv,n),[c,u]=_.useState(r),f=_.useRef(null),m=Je(t,f),h=_.useRef(0),w=h.current,y=_.useRef(0),b=y.current,g=a.open||c,x=_.useRef(g),E=_.useRef(void 0);return _.useEffect(()=>{const k=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(k)},[]),Dt(()=>{const k=f.current;if(k){E.current=E.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const C=k.getBoundingClientRect();h.current=C.height,y.current=C.width,x.current||(k.style.transitionDuration=E.current.transitionDuration,k.style.animationName=E.current.animationName),u(r)}},[a.open,r]),p.jsx(De.div,{"data-state":Vv(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...i,ref:m,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:g&&o})});function Vv(e){return e?"open":"closed"}var HH=$N;const WH=HH,VH=HN,qH=WN;function VN(){const{nostr:e}=Hn(),{logins:t,addLogin:n,removeLogin:r}=lv();return{nsec(o){const i=si.fromNsec(o);n(i)},async bunker(o){const i=await si.fromBunker(o,e);n(i)},async extension(){const o=await si.fromExtension();n(o)},async logout(){const o=t[0];o&&r(o.id)}}}const u2=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),KH=e=>e.startsWith("bunker://"),ZH=({isOpen:e,onClose:t,onLogin:n})=>{const[r,o]=_.useState(!1),[i,a]=_.useState(!1),[c,u]=_.useState(""),[f,m]=_.useState(""),[h,w]=_.useState({}),y=_.useRef(null),b=VN();_.useEffect(()=>{e&&(o(!1),a(!1),u(""),m(""),w({}),y.current&&(y.current.value=""))},[e]);const g=async()=>{o(!0),w(B=>({...B,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await b.extension(),n(),t()}catch(B){const O=B;console.error("Bunker login failed:",O),console.error("Nsec login failed:",O),console.error("Extension login failed:",O),w(F=>({...F,extension:O instanceof Error?O.message:"Extension login failed"}))}finally{o(!1)}},x=B=>{o(!0),w({}),setTimeout(()=>{try{b.nsec(B),n(),t()}catch{w({nsec:"Failed to login with this key. Please check that it's correct."}),o(!1)}},50)},E=()=>{if(!c.trim()){w(B=>({...B,nsec:"Please enter your secret key"}));return}if(!u2(c)){w(B=>({...B,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}x(c)},k=async()=>{if(!f.trim()){w(B=>({...B,bunker:"Please enter a bunker URI"}));return}if(!KH(f)){w(B=>({...B,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}o(!0),w(B=>({...B,bunker:void 0}));try{await b.bunker(f),n(),t(),m("")}catch{w(B=>({...B,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{o(!1)}},C=B=>{var W;const O=(W=B.target.files)==null?void 0:W[0];if(!O)return;a(!0),w({});const F=new FileReader;F.onload=M=>{var P;a(!1);const V=(P=M.target)==null?void 0:P.result;if(V){const U=V.trim();u2(U)?x(U):w({file:"File does not contain a valid secret key."})}else w({file:"Could not read file content."})},F.onerror=()=>{a(!1),w({file:"Failed to read file."})},F.readAsText(O)},A="nostr"in window,[j,L]=_.useState(!1),D=()=>p.jsxs(DH,{defaultValue:"key",className:"w-full",children:[p.jsxs(zN,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[p.jsx(ny,{value:"key",className:"flex items-center gap-2",children:p.jsx("span",{children:"Secret Key"})}),p.jsx(ny,{value:"bunker",className:"flex items-center gap-2",children:p.jsx("span",{children:"Remote Signer"})})]}),p.jsx(ry,{value:"key",className:"space-y-4",children:p.jsxs("form",{onSubmit:B=>{B.preventDefault(),E()},className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ut,{id:"nsec",type:"password",value:c,onChange:B=>{u(B.target.value),h.nsec&&w(O=>({...O,nsec:void 0}))},className:`rounded-lg ${h.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),h.nsec&&p.jsx("p",{className:"text-sm text-red-500",children:h.nsec})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(nt,{type:"submit",size:"lg",disabled:r||!c.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),p.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:y,onChange:C}),p.jsx(nt,{type:"button",variant:"outline",size:"lg",onClick:()=>{var B;return(B=y.current)==null?void 0:B.click()},disabled:r||i,className:"px-3",children:p.jsx($k,{className:"w-4 h-4"})})]}),h.file&&p.jsx("p",{className:"text-sm text-red-500 text-center",children:h.file})]})}),p.jsx(ry,{value:"bunker",className:"space-y-4",children:p.jsxs("form",{onSubmit:B=>{B.preventDefault(),k()},className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ut,{id:"bunkerUri",value:f,onChange:B=>{m(B.target.value),h.bunker&&w(O=>({...O,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${h.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),h.bunker&&p.jsx("p",{className:"text-sm text-red-500",children:h.bunker})]}),p.jsx(nt,{type:"submit",size:"lg",className:"w-full",disabled:r||!f.trim(),children:r?"Connecting...":"Log in"})]})})]});return p.jsx(Za,{open:e,onOpenChange:t,children:p.jsxs(bi,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[p.jsx(Ei,{className:"px-6 pt-6",children:p.jsx(zv,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),p.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),p.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[A&&p.jsxs("div",{className:"space-y-4",children:[h.extension&&p.jsxs(BN,{variant:"destructive",children:[p.jsx(hv,{className:"h-4 w-4"}),p.jsx(FN,{children:h.extension})]}),p.jsx(nt,{className:"w-full h-12 px-9",onClick:g,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),A?p.jsxs(WH,{className:"space-y-4",open:j,onOpenChange:L,children:[p.jsx(VH,{asChild:!0,children:p.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx("span",{children:"More Options"}),p.jsx(Cf,{className:`w-4 h-4 transition-transform ${j?"rotate-180":""}`})]})}),p.jsx(qH,{children:D()})]}):D()]})]})})},$f=_.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));$f.displayName="Textarea";function qv(){const{nostr:e}=Hn(),{user:t}=vi();return Ey({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([i])=>i==="client")&&r.push(["client",location.hostname]);const o=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(o,{signal:AbortSignal.timeout(5e3)}),o}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class Kv{constructor(t){Ie(this,"servers");Ie(this,"signer");Ie(this,"fetch");Ie(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),o=jz(new Uint8Array(r)),i=Date.now(),a=i+this.expiresIn,c=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(i/1e3),tags:[["t","upload"],["x",o],["size",t.size.toString()],["expiration",Math.floor(a/1e3).toString()]]}),u=`Nostr ${zz.encodeEvent(c)}`;return Promise.any(this.servers.map(async f=>{const m=new URL("/upload",f),w=await(await this.fetch(m,{method:"PUT",body:t,headers:{authorization:u,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),y=Kv.schema().parse(w),b=[["url",y.url],["x",y.sha256],["ox",y.sha256],["size",y.size.toString()]];return y.type&&b.push(["m",y.type]),b}))}static schema(){return mo({url:ft(),sha256:ft(),size:so(),type:ft().optional()})}}function qN(){const{user:e}=vi();return Ey({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new Kv({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const GH=({isOpen:e,onClose:t})=>{const[n,r]=_.useState("generate"),[o,i]=_.useState(""),[a,c]=_.useState(!1),[u,f]=_.useState({name:"",about:"",picture:""}),m=VN(),{mutateAsync:h,isPending:w}=qv(),{mutateAsync:y,isPending:b}=qN(),g=_.useRef(null),x=()=>{const j=Pc();i(xn.nsecEncode(j)),r("download")},E=()=>{try{const j=new Blob([o],{type:"text/plain; charset=utf-8"}),L=globalThis.URL.createObjectURL(j),D=xn.decode(o);if(D.type!=="nsec")throw new Error("Invalid nsec key");const B=wo(D.data),O=xn.npubEncode(B),F=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${O.slice(5,9)}.nsec.txt`,W=document.createElement("a");W.href=L,W.download=F,W.style.display="none",document.body.appendChild(W),W.click(),globalThis.URL.revokeObjectURL(L),document.body.removeChild(W),m.nsec(o),r("profile")}catch{na({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},k=async j=>{var D,B;const L=(D=j.target.files)==null?void 0:D[0];if(L){if(j.target.value="",!L.type.startsWith("image/")){na({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(L.size>5*1024*1024){na({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const F=(B=(await y(L))[0])==null?void 0:B[1];F&&f(W=>({...W,picture:F}))}catch{na({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},C=async(j=!1)=>{try{if(!j&&(u.name||u.about||u.picture)){const L={};u.name&&(L.name=u.name),u.about&&(L.about=u.about),u.picture&&(L.picture=u.picture),await h({kind:0,content:JSON.stringify(L)})}}catch{na({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},A=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return _.useEffect(()=>{e&&(r("generate"),i(""),c(!1),f({name:"",about:"",picture:""}))},[e]),p.jsx(Za,{open:e,onOpenChange:t,children:p.jsxs(bi,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[p.jsx(Ei,{className:"px-6 pt-6",children:p.jsx(Ga,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:A()})}),p.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),p.jsx(nt,{className:"w-full h-12 px-9",onClick:x,children:"Generate key"})]}),n==="download"&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),p.jsxs("div",{className:"relative",children:[p.jsx(Ut,{type:a?"text":"password",value:o,readOnly:!0,className:"pr-10 font-mono text-sm"}),p.jsx(nt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>c(!a),children:a?p.jsx(nF,{className:"h-4 w-4 text-muted-foreground"}):p.jsx(rF,{className:"h-4 w-4 text-muted-foreground"})})]}),p.jsxs(nt,{className:"w-full h-12 px-9",onClick:E,children:[p.jsx(tF,{className:"size-4"}),"Download key"]}),p.jsx("div",{className:"mx-auto max-w-sm",children:p.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[p.jsx("div",{className:"flex items-center gap-2 mb-1",children:p.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),p.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&p.jsxs("div",{className:"text-center space-y-4",children:[w&&p.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:p.jsxs("div",{className:"flex items-center justify-center gap-3",children:[p.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),p.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),p.jsxs("div",{className:`space-y-4 text-left ${w?"opacity-50 pointer-events-none":""}`,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),p.jsx(Ut,{id:"profile-name",value:u.name,onChange:j=>f(L=>({...L,name:j.target.value})),placeholder:"Your name",disabled:w})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),p.jsx($f,{id:"profile-about",value:u.about,onChange:j=>f(L=>({...L,about:j.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:w})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ut,{id:"profile-picture",value:u.picture,onChange:j=>f(L=>({...L,picture:j.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:w}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:g,onChange:k}),p.jsx(nt,{type:"button",variant:"outline",size:"icon",onClick:()=>{var j;return(j=g.current)==null?void 0:j.click()},disabled:b||w,title:"Upload avatar image",children:b?p.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):p.jsx($k,{className:"w-4 h-4"})})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(nt,{className:"w-full",onClick:()=>C(!1),disabled:w||b,children:w?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),p.jsx(nt,{variant:"outline",className:"w-full",onClick:()=>C(!0),disabled:w||b,children:w?"Setting up account...":"Skip for now"})]})]})]})]})})};function KN(){const{nostr:e}=Hn(),{logins:t,setLogin:n,removeLogin:r}=lv(),{data:o=[]}=$r({queryKey:["nostr","logins",t.map(c=>c.id).join(";")],queryFn:async({signal:c})=>{const u=await e.query([{kinds:[0],authors:t.map(f=>f.pubkey)}],{signal:AbortSignal.any([c,AbortSignal.timeout(1500)])});return t.map(({id:f,pubkey:m})=>{const h=u.find(w=>w.pubkey===m);try{const w=it.json().pipe(it.metadata()).parse(h==null?void 0:h.content);return{id:f,pubkey:m,metadata:w,event:h}}catch{return{id:f,pubkey:m,metadata:{},event:h}}})},retry:3}),i=(()=>{const c=t[0];if(!c)return;const u=o.find(f=>f.id===c.id);return{metadata:{},...u,id:c.id,pubkey:c.pubkey}})(),a=(o||[]).slice(1);return{authors:o,currentUser:i,otherUsers:a,setLogin:n,removeLogin:r}}var oy=["Enter"," "],YH=["ArrowDown","PageUp","Home"],ZN=["ArrowUp","PageDown","End"],JH=[...YH,...ZN],QH={ltr:[...oy,"ArrowRight"],rtl:[...oy,"ArrowLeft"]},XH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bc="Menu",[gc,eW,tW]=Ac(Bc),[Si,GN]=Qt(Bc,[tW,qa,Ya]),Uf=qa(),YN=Ya(),[nW,ki]=Si(Bc),[rW,Fc]=Si(Bc),JN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:a=!0}=e,c=Uf(t),[u,f]=_.useState(null),m=_.useRef(!1),h=Ot(i),w=_i(o);return _.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),p.jsx(Sv,{...c,children:p.jsx(nW,{scope:t,open:n,onOpenChange:h,content:u,onContentChange:f,children:p.jsx(rW,{scope:t,onClose:_.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:w,modal:a,children:r})})})};JN.displayName=Bc;var oW="MenuAnchor",Zv=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Uf(n);return p.jsx(kv,{...o,...r,ref:t})});Zv.displayName=oW;var Gv="MenuPortal",[sW,QN]=Si(Gv,{forceMount:void 0}),XN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=ki(Gv,t);return p.jsx(sW,{scope:t,forceMount:n,children:p.jsx(rn,{present:n||i.open,children:p.jsx(jc,{asChild:!0,container:o,children:r})})})};XN.displayName=Gv;var or="MenuContent",[iW,Yv]=Si(or),eT=_.forwardRef((e,t)=>{const n=QN(or,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=ki(or,e.__scopeMenu),a=Fc(or,e.__scopeMenu);return p.jsx(gc.Provider,{scope:e.__scopeMenu,children:p.jsx(rn,{present:r||i.open,children:p.jsx(gc.Slot,{scope:e.__scopeMenu,children:a.modal?p.jsx(aW,{...o,ref:t}):p.jsx(lW,{...o,ref:t})})})})}),aW=_.forwardRef((e,t)=>{const n=ki(or,e.__scopeMenu),r=_.useRef(null),o=Je(t,r);return _.useEffect(()=>{const i=r.current;if(i)return Mv(i)},[]),p.jsx(Jv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),lW=_.forwardRef((e,t)=>{const n=ki(or,e.__scopeMenu);return p.jsx(Jv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),cW=fi("MenuContent.ScrollLock"),Jv=_.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:w,onDismiss:y,disableOutsideScroll:b,...g}=e,x=ki(or,n),E=Fc(or,n),k=Uf(n),C=YN(n),A=eW(n),[j,L]=_.useState(null),D=_.useRef(null),B=Je(t,D,x.onContentChange),O=_.useRef(0),F=_.useRef(""),W=_.useRef(0),M=_.useRef(null),V=_.useRef("right"),P=_.useRef(0),U=b?Df:_.Fragment,X=b?{as:cW,allowPinchZoom:!0}:void 0,J=K=>{var we,xe;const oe=F.current+K,z=A().filter(Se=>!Se.disabled),q=document.activeElement,ge=(we=z.find(Se=>Se.ref.current===q))==null?void 0:we.textValue,pe=z.map(Se=>Se.textValue),me=bW(pe,oe,ge),Ae=(xe=z.find(Se=>Se.textValue===me))==null?void 0:xe.ref.current;(function Se(je){F.current=je,window.clearTimeout(O.current),je!==""&&(O.current=window.setTimeout(()=>Se(""),1e3))})(oe),Ae&&setTimeout(()=>Ae.focus())};_.useEffect(()=>()=>window.clearTimeout(O.current),[]),Ov();const ee=_.useCallback(K=>{var z,q;return V.current===((z=M.current)==null?void 0:z.side)&&_W(K,(q=M.current)==null?void 0:q.area)},[]);return p.jsx(iW,{scope:n,searchRef:F,onItemEnter:_.useCallback(K=>{ee(K)&&K.preventDefault()},[ee]),onItemLeave:_.useCallback(K=>{var oe;ee(K)||((oe=D.current)==null||oe.focus(),L(null))},[ee]),onTriggerLeave:_.useCallback(K=>{ee(K)&&K.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:_.useCallback(K=>{M.current=K},[]),children:p.jsx(U,{...X,children:p.jsx(Mf,{asChild:!0,trapped:o,onMountAutoFocus:Pe(i,K=>{var oe;K.preventDefault(),(oe=D.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:p.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:w,onDismiss:y,children:p.jsx(Fv,{asChild:!0,...C,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:L,onEntryFocus:Pe(u,K=>{E.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(Cv,{role:"menu","aria-orientation":"vertical","data-state":gT(x.open),"data-radix-menu-content":"",dir:E.dir,...k,...g,ref:B,style:{outline:"none",...g.style},onKeyDown:Pe(g.onKeyDown,K=>{const z=K.target.closest("[data-radix-menu-content]")===K.currentTarget,q=K.ctrlKey||K.altKey||K.metaKey,ge=K.key.length===1;z&&(K.key==="Tab"&&K.preventDefault(),!q&&ge&&J(K.key));const pe=D.current;if(K.target!==pe||!JH.includes(K.key))return;K.preventDefault();const Ae=A().filter(we=>!we.disabled).map(we=>we.ref.current);ZN.includes(K.key)&&Ae.reverse(),wW(Ae)}),onBlur:Pe(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(O.current),F.current="")}),onPointerMove:Pe(e.onPointerMove,yc(K=>{const oe=K.target,z=P.current!==K.clientX;if(K.currentTarget.contains(oe)&&z){const q=K.clientX>P.current?"right":"left";V.current=q,P.current=K.clientX}}))})})})})})})});eT.displayName=or;var uW="MenuGroup",Qv=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(De.div,{role:"group",...r,ref:t})});Qv.displayName=uW;var dW="MenuLabel",tT=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(De.div,{...r,ref:t})});tT.displayName=dW;var Zd="MenuItem",d2="menu.itemSelect",Hf=_.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=_.useRef(null),a=Fc(Zd,e.__scopeMenu),c=Yv(Zd,e.__scopeMenu),u=Je(t,i),f=_.useRef(!1),m=()=>{const h=i.current;if(!n&&h){const w=new CustomEvent(d2,{bubbles:!0,cancelable:!0});h.addEventListener(d2,y=>r==null?void 0:r(y),{once:!0}),cv(h,w),w.defaultPrevented?f.current=!1:a.onClose()}};return p.jsx(nT,{...o,ref:u,disabled:n,onClick:Pe(e.onClick,m),onPointerDown:h=>{var w;(w=e.onPointerDown)==null||w.call(e,h),f.current=!0},onPointerUp:Pe(e.onPointerUp,h=>{var w;f.current||(w=h.currentTarget)==null||w.click()}),onKeyDown:Pe(e.onKeyDown,h=>{const w=c.searchRef.current!=="";n||w&&h.key===" "||oy.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Hf.displayName=Zd;var nT=_.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,a=Yv(Zd,n),c=YN(n),u=_.useRef(null),f=Je(t,u),[m,h]=_.useState(!1),[w,y]=_.useState("");return _.useEffect(()=>{const b=u.current;b&&y((b.textContent??"").trim())},[i.children]),p.jsx(gc.ItemSlot,{scope:n,disabled:r,textValue:o??w,children:p.jsx($v,{asChild:!0,...c,focusable:!r,children:p.jsx(De.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:f,onPointerMove:Pe(e.onPointerMove,yc(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,yc(b=>a.onItemLeave(b))),onFocus:Pe(e.onFocus,()=>h(!0)),onBlur:Pe(e.onBlur,()=>h(!1))})})})}),fW="MenuCheckboxItem",rT=_.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(lT,{scope:e.__scopeMenu,checked:n,children:p.jsx(Hf,{role:"menuitemcheckbox","aria-checked":Gd(n)?"mixed":n,...o,ref:t,"data-state":e0(n),onSelect:Pe(o.onSelect,()=>r==null?void 0:r(Gd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});rT.displayName=fW;var oT="MenuRadioGroup",[hW,pW]=Si(oT,{value:void 0,onValueChange:()=>{}}),sT=_.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=Ot(r);return p.jsx(hW,{scope:e.__scopeMenu,value:n,onValueChange:i,children:p.jsx(Qv,{...o,ref:t})})});sT.displayName=oT;var iT="MenuRadioItem",aT=_.forwardRef((e,t)=>{const{value:n,...r}=e,o=pW(iT,e.__scopeMenu),i=n===o.value;return p.jsx(lT,{scope:e.__scopeMenu,checked:i,children:p.jsx(Hf,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":e0(i),onSelect:Pe(r.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})})});aT.displayName=iT;var Xv="MenuItemIndicator",[lT,mW]=Si(Xv,{checked:!1}),cT=_.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=mW(Xv,n);return p.jsx(rn,{present:r||Gd(i.checked)||i.checked===!0,children:p.jsx(De.span,{...o,ref:t,"data-state":e0(i.checked)})})});cT.displayName=Xv;var gW="MenuSeparator",uT=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});uT.displayName=gW;var yW="MenuArrow",dT=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Uf(n);return p.jsx(Nv,{...o,...r,ref:t})});dT.displayName=yW;var vW="MenuSub",[OZ,fT]=Si(vW),Jl="MenuSubTrigger",hT=_.forwardRef((e,t)=>{const n=ki(Jl,e.__scopeMenu),r=Fc(Jl,e.__scopeMenu),o=fT(Jl,e.__scopeMenu),i=Yv(Jl,e.__scopeMenu),a=_.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,f={__scopeMenu:e.__scopeMenu},m=_.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return _.useEffect(()=>m,[m]),_.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),p.jsx(Zv,{asChild:!0,...f,children:p.jsx(nT,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":gT(n.open),...e,ref:_f(t,o.onTriggerChange),onClick:h=>{var w;(w=e.onClick)==null||w.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,yc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Pe(e.onPointerLeave,yc(h=>{var y,b;m();const w=(y=n.content)==null?void 0:y.getBoundingClientRect();if(w){const g=(b=n.content)==null?void 0:b.dataset.side,x=g==="right",E=x?-5:5,k=w[x?"left":"right"],C=w[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:k,y:w.top},{x:C,y:w.top},{x:C,y:w.bottom},{x:k,y:w.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,h=>{var y;const w=i.searchRef.current!=="";e.disabled||w&&h.key===" "||QH[r.dir].includes(h.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),h.preventDefault())})})})});hT.displayName=Jl;var pT="MenuSubContent",mT=_.forwardRef((e,t)=>{const n=QN(or,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=ki(or,e.__scopeMenu),a=Fc(or,e.__scopeMenu),c=fT(pT,e.__scopeMenu),u=_.useRef(null),f=Je(t,u);return p.jsx(gc.Provider,{scope:e.__scopeMenu,children:p.jsx(rn,{present:r||i.open,children:p.jsx(gc.Slot,{scope:e.__scopeMenu,children:p.jsx(Jv,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var h;a.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:Pe(e.onKeyDown,m=>{var y;const h=m.currentTarget.contains(m.target),w=XH[a.dir].includes(m.key);h&&w&&(i.onOpenChange(!1),(y=c.trigger)==null||y.focus(),m.preventDefault())})})})})})});mT.displayName=pT;function gT(e){return e?"open":"closed"}function Gd(e){return e==="indeterminate"}function e0(e){return Gd(e)?"indeterminate":e?"checked":"unchecked"}function wW(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function bW(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=xW(e,Math.max(i,0));o.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function EW(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const c=t[i],u=t[a],f=c.x,m=c.y,h=u.x,w=u.y;m>r!=w>r&&n<(h-f)*(r-m)/(w-m)+f&&(o=!o)}return o}function _W(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return EW(n,t)}function yc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var SW=JN,kW=Zv,CW=XN,NW=eT,TW=Qv,PW=tT,RW=Hf,AW=rT,jW=sT,IW=aT,OW=cT,MW=uT,LW=dT,DW=hT,zW=mT,Wf="DropdownMenu",[BW,MZ]=Qt(Wf,[GN]),bn=GN(),[FW,yT]=BW(Wf),vT=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,u=bn(t),f=_.useRef(null),[m,h]=sr({prop:o,defaultProp:i??!1,onChange:a,caller:Wf});return p.jsx(FW,{scope:t,triggerId:rr(),triggerRef:f,contentId:rr(),open:m,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(w=>!w),[h]),modal:c,children:p.jsx(SW,{...u,open:m,onOpenChange:h,dir:r,modal:c,children:n})})};vT.displayName=Wf;var wT="DropdownMenuTrigger",xT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=yT(wT,n),a=bn(n);return p.jsx(kW,{asChild:!0,...a,children:p.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:_f(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Pe(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});xT.displayName=wT;var $W="DropdownMenuPortal",bT=e=>{const{__scopeDropdownMenu:t,...n}=e,r=bn(t);return p.jsx(CW,{...r,...n})};bT.displayName=$W;var ET="DropdownMenuContent",_T=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=yT(ET,n),i=bn(n),a=_.useRef(!1);return p.jsx(NW,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,c=>{var u;a.current||(u=o.triggerRef.current)==null||u.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,m=u.button===2||f;(!o.modal||m)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_T.displayName=ET;var UW="DropdownMenuGroup",HW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(TW,{...o,...r,ref:t})});HW.displayName=UW;var WW="DropdownMenuLabel",ST=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(PW,{...o,...r,ref:t})});ST.displayName=WW;var VW="DropdownMenuItem",kT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(RW,{...o,...r,ref:t})});kT.displayName=VW;var qW="DropdownMenuCheckboxItem",CT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(AW,{...o,...r,ref:t})});CT.displayName=qW;var KW="DropdownMenuRadioGroup",ZW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(jW,{...o,...r,ref:t})});ZW.displayName=KW;var GW="DropdownMenuRadioItem",NT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(IW,{...o,...r,ref:t})});NT.displayName=GW;var YW="DropdownMenuItemIndicator",TT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(OW,{...o,...r,ref:t})});TT.displayName=YW;var JW="DropdownMenuSeparator",PT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(MW,{...o,...r,ref:t})});PT.displayName=JW;var QW="DropdownMenuArrow",XW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(LW,{...o,...r,ref:t})});XW.displayName=QW;var eV="DropdownMenuSubTrigger",RT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(DW,{...o,...r,ref:t})});RT.displayName=eV;var tV="DropdownMenuSubContent",AT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=bn(n);return p.jsx(zW,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AT.displayName=tV;var nV=vT,rV=xT,oV=bT,jT=_T,IT=ST,OT=kT,MT=CT,LT=NT,DT=TT,zT=PT,BT=RT,FT=AT;const sV=nV,iV=rV,aV=_.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(BT,{ref:o,className:Oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,p.jsx(GB,{className:"ml-auto h-4 w-4"})]}));aV.displayName=BT.displayName;const lV=_.forwardRef(({className:e,...t},n)=>p.jsx(FT,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));lV.displayName=FT.displayName;const $T=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(oV,{children:p.jsx(jT,{ref:r,sideOffset:t,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));$T.displayName=jT.displayName;const Sd=_.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(OT,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Sd.displayName=OT.displayName;const cV=_.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(MT,{ref:o,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(DT,{children:p.jsx(zk,{className:"h-4 w-4"})})}),t]}));cV.displayName=MT.displayName;const uV=_.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(LT,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(DT,{children:p.jsx(Bk,{className:"h-2 w-2 fill-current"})})}),t]}));uV.displayName=LT.displayName;const dV=_.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(IT,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));dV.displayName=IT.displayName;const UT=_.forwardRef(({className:e,...t},n)=>p.jsx(zT,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));UT.displayName=zT.displayName;var Sm={exports:{}},km={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function fV(){if(f2)return km;f2=1;var e=nf();function t(h,w){return h===w&&(h!==0||1/h===1/w)||h!==h&&w!==w}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function c(h,w){var y=w(),b=r({inst:{value:y,getSnapshot:w}}),g=b[0].inst,x=b[1];return i(function(){g.value=y,g.getSnapshot=w,u(g)&&x({inst:g})},[h,y,w]),o(function(){return u(g)&&x({inst:g}),h(function(){u(g)&&x({inst:g})})},[h]),a(y),y}function u(h){var w=h.getSnapshot;h=h.value;try{var y=w();return!n(h,y)}catch{return!0}}function f(h,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return km.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,km}var h2;function hV(){return h2||(h2=1,Sm.exports=fV()),Sm.exports}var pV=hV();function mV(){return pV.useSyncExternalStore(gV,()=>!0,()=>!1)}function gV(){return()=>{}}var t0="Avatar",[yV,LZ]=Qt(t0),[vV,HT]=yV(t0),WT=_.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,i]=_.useState("idle");return p.jsx(vV,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:p.jsx(De.span,{...r,ref:t})})});WT.displayName=t0;var VT="AvatarImage",qT=_.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...i}=e,a=HT(VT,n),c=wV(r,i),u=Ot(f=>{o(f),a.onImageLoadingStatusChange(f)});return Dt(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?p.jsx(De.img,{...i,ref:t,src:r}):null});qT.displayName=VT;var KT="AvatarFallback",ZT=_.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,i=HT(KT,n),[a,c]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&i.imageLoadingStatus!=="loaded"?p.jsx(De.span,{...o,ref:t}):null});ZT.displayName=KT;function p2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wV(e,{referrerPolicy:t,crossOrigin:n}){const r=mV(),o=_.useRef(null),i=r?(o.current||(o.current=new window.Image),o.current):null,[a,c]=_.useState(()=>p2(i,e));return Dt(()=>{c(p2(i,e))},[i,e]),Dt(()=>{const u=h=>()=>{c(h)};if(!i)return;const f=u("loaded"),m=u("error");return i.addEventListener("load",f),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",f),i.removeEventListener("error",m)}},[i,n,t]),a}var GT=WT,YT=qT,JT=ZT;const vc=_.forwardRef(({className:e,...t},n)=>p.jsx(GT,{ref:n,className:Oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));vc.displayName=GT.displayName;const wc=_.forwardRef(({className:e,...t},n)=>p.jsx(YT,{ref:n,className:Oe("aspect-square h-full w-full object-cover",e),...t}));wc.displayName=YT.displayName;const xc=_.forwardRef(({className:e,...t},n)=>p.jsx(JT,{ref:n,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));xc.displayName=JT.displayName;function Vf(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let a=0;a<e.length;a++){const c=e.charCodeAt(a);r=(r<<5)-r+c,r=r&r}const o=Math.abs(r)%t.length,i=Math.abs(r>>8)%n.length;return[t[o],n[i]].join(" ")}function xV({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:o}=KN();if(!t)return null;const i=a=>a.metadata.name??Vf(a.pubkey);return p.jsxs(sV,{modal:!1,children:[p.jsx(iV,{asChild:!0,children:p.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[p.jsxs(vc,{className:"w-10 h-10",children:[p.jsx(wc,{src:t.metadata.picture,alt:i(t)}),p.jsx(xc,{children:i(t).charAt(0)})]}),p.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:p.jsx("p",{className:"font-medium text-sm truncate",children:i(t)})}),p.jsx(Cf,{className:"w-4 h-4 text-muted-foreground"})]})}),p.jsxs($T,{className:"w-56 p-2 animate-scale-in",children:[p.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(a=>{var c;return p.jsxs(Sd,{onClick:()=>r(a.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[p.jsxs(vc,{className:"w-8 h-8",children:[p.jsx(wc,{src:a.metadata.picture,alt:i(a)}),p.jsx(xc,{children:((c=i(a))==null?void 0:c.charAt(0))||p.jsx(gF,{})})]}),p.jsx("div",{className:"flex-1 truncate",children:p.jsx("p",{className:"text-sm font-medium",children:i(a)})}),a.id===t.id&&p.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},a.id)}),p.jsx(UT,{}),p.jsxs(Sd,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[p.jsx(mF,{className:"w-4 h-4"}),p.jsx("span",{children:"Add another account"})]}),p.jsxs(Sd,{onClick:()=>o(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[p.jsx(lF,{className:"w-4 h-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function sy({className:e}){const{currentUser:t}=KN(),[n,r]=_.useState(!1),[o,i]=_.useState(!1),a=()=>{r(!1),i(!1)};return p.jsxs("div",{className:Oe("inline-flex items-center justify-center",e),children:[t?p.jsx(xV,{onAddAccountClick:()=>r(!0)}):p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsx(nt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:p.jsx("span",{className:"truncate",children:"Log in"})}),p.jsx(nt,{onClick:()=>i(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:p.jsx("span",{children:"Sign up"})})]}),p.jsx(ZH,{isOpen:n,onClose:()=>r(!1),onLogin:a}),p.jsx(GH,{isOpen:o,onClose:()=>i(!1)})]})}function bV(){const e=xi(),t=n=>e.pathname===n;return p.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:p.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx(fn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),p.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[p.jsx(nt,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:p.jsxs(fn,{to:"/",children:[p.jsx(sF,{className:"h-4 w-4 mr-1"}),"Home"]})}),p.jsx(nt,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:p.jsxs(fn,{to:"/marketplace",children:[p.jsx(zg,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),p.jsx(nt,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:p.jsxs(fn,{to:"/dashboard",children:[p.jsx(Bg,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),p.jsx(nt,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:p.jsxs(fn,{to:"/messages",children:[p.jsx(Fk,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),p.jsx(sy,{className:"max-w-60"})]})})}function EV(e,t={},n){e.use(yI);function r(a){if(a._flatMeta)return a;const{title:c,titleTemplate:u,...f}=a||{};return{title:c,titleTemplate:u,_flatMeta:f}}const o=e.push(r(t),n),i=o.patch;return o.__patched||(o.patch=a=>i(r(a)),o.__patched=!0),o}function _V(){const e=_.useContext(TE);if(!e)throw new Error("useHead() was called without provide context.");return e}function SV(e,t,n){const r=t.head||_V(),[o]=_.useState(()=>n(r,e,t));return _.useEffect(()=>{o.patch(e)},[e]),_.useEffect(()=>()=>{o.dispose()},[]),o}function Ja(e={},t={}){return SV(e,t,EV)}function n0(e){if(e.kind!==30402)return null;const t=C=>{var A;return(A=e.tags.find(([j])=>j===C))==null?void 0:A[1]};if(!(C=>e.tags.filter(([A])=>A===C).map(([,A])=>A))("t").includes("locker"))return null;const o=t("d");if(!o)return null;const i=t("title")||"Unnamed Locker",a=t("status")||"available",c=t("g")||"",u=t("location"),f=e.tags.find(([C])=>C==="price"),m=f&&parseInt(f[1])||0,h=(f==null?void 0:f[2])||"SATS",w=t("dimensions"),y=parseInt(t("overdue-fee")||"0"),b=parseInt(t("overdue-days")||"7"),g=t("proxy-mode")==="true",x=parseInt(t("proxy-fee")||"0"),E=parseInt(t("abandon-days")||"30"),k=e.tags.filter(([C])=>C==="image").map(([,C])=>C);return{id:e.id,pubkey:e.pubkey,dTag:o,title:i,description:e.content,status:a,geohash:c,location:u,price:m,currency:h,dimensions:w,overdueFee:y,overdueDays:b,proxyMode:g,proxyFee:x,abandonDays:E,images:k,createdAt:e.created_at,event:e}}function kV(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function CV(e){const{nostr:t}=Hn();return $r({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,o=0,i=0;for(const f of n)f.kind===7?f.content.trim()==="-"?o++:r++:f.kind===9735&&(i+=1e3);const a=Math.floor(i/1e3),c=r+o,u=c>0?Math.round((r+a)/(c+a)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:o,zapsSats:i,totalReactions:c,score:u}},enabled:!!e,staleTime:6e4})}const _t=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_t.displayName="Card";const wn=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));wn.displayName="CardHeader";const Bn=_.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Bn.displayName="CardTitle";const uo=_.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));uo.displayName="CardDescription";const Mt=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Oe("p-6 pt-0",e),...t}));Mt.displayName="CardContent";const QT=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",e),...t}));QT.displayName="CardFooter";function NV(){const{nostr:e}=Hn(),{user:t}=vi(),{toast:n}=Fa();return Ey({mutationFn:async({recipientPubkey:r,lockerId:o,paymentPreimage:i,rentalInvoice:a})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const c=Math.floor(Date.now()/1e3),u=x=>{const k=-Math.floor(Math.random()*172800);return x+k},f={action:"unlock",locker_id:o,payment_preimage:i,rental_invoice:a},m={kind:14,pubkey:t.pubkey,created_at:c,tags:[["p",r]],content:JSON.stringify(f)},h={kind:13,pubkey:t.pubkey,created_at:c,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(m))},w=Pc(),y=new cc(w),b=await y.nip44.encrypt(r,JSON.stringify(h)),g=await y.signEvent({kind:1059,created_at:u(c),tags:[["p",r]],content:b});return await e.event(g),g},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const TV=Oc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fn({className:e,variant:t,...n}){return p.jsx("div",{className:Oe(TV({variant:t}),e),...n})}var r0="Progress",o0=100,[PV,DZ]=Qt(r0),[RV,AV]=PV(r0),XT=_.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:i=jV,...a}=e;(o||o===0)&&!m2(o)&&console.error(IV(`${o}`,"Progress"));const c=m2(o)?o:o0;r!==null&&!g2(r,c)&&console.error(OV(`${r}`,"Progress"));const u=g2(r,c)?r:null,f=Yd(u)?i(u,c):void 0;return p.jsx(RV,{scope:n,value:u,max:c,children:p.jsx(De.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Yd(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":nP(u,c),"data-value":u??void 0,"data-max":c,...a,ref:t})})});XT.displayName=r0;var eP="ProgressIndicator",tP=_.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=AV(eP,n);return p.jsx(De.div,{"data-state":nP(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});tP.displayName=eP;function jV(e,t){return`${Math.round(e/t*100)}%`}function nP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yd(e){return typeof e=="number"}function m2(e){return Yd(e)&&!isNaN(e)&&e>0}function g2(e,t){return Yd(e)&&!isNaN(e)&&e<=t&&e>=0}function IV(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${o0}\`.`}function OV(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${o0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rP=XT,MV=tP;const oP=_.forwardRef(({className:e,value:t,...n},r)=>p.jsx(rP,{ref:r,className:Oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:p.jsx(MV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));oP.displayName=rP.displayName;var ea={},Cm,y2;function LV(){return y2||(y2=1,Cm=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Cm}var Nm={},Qo={},v2;function Ci(){if(v2)return Qo;v2=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Qo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Qo.getSymbolTotalCodewords=function(r){return t[r]},Qo.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Qo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Qo.isKanjiModeEnabled=function(){return typeof e<"u"},Qo.toSJIS=function(r){return e(r)},Qo}var Tm={},w2;function s0(){return w2||(w2=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,o){if(e.isValid(r))return r;try{return t(r)}catch{return o}}}(Tm)),Tm}var Pm,x2;function DV(){if(x2)return Pm;x2=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Pm=e,Pm}var Rm,b2;function zV(){if(b2)return Rm;b2=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,o){const i=t*this.size+n;this.data[i]=r,o&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Rm=e,Rm}var Am={},E2;function BV(){return E2||(E2=1,function(e){const t=Ci().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,i=t(r),a=i===145?26:Math.ceil((i-13)/(2*o-2))*2,c=[i-7];for(let u=1;u<o-1;u++)c[u]=c[u-1]-a;return c.push(6),c.reverse()},e.getPositions=function(r){const o=[],i=e.getRowColCoords(r),a=i.length;for(let c=0;c<a;c++)for(let u=0;u<a;u++)c===0&&u===0||c===0&&u===a-1||c===a-1&&u===0||o.push([i[c],i[u]]);return o}}(Am)),Am}var jm={},_2;function FV(){if(_2)return jm;_2=1;const e=Ci().getSymbolSize,t=7;return jm.getPositions=function(r){const o=e(r);return[[0,0],[o-t,0],[0,o-t]]},jm}var Im={},S2;function $V(){return S2||(S2=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const i=o.size;let a=0,c=0,u=0,f=null,m=null;for(let h=0;h<i;h++){c=u=0,f=m=null;for(let w=0;w<i;w++){let y=o.get(h,w);y===f?c++:(c>=5&&(a+=t.N1+(c-5)),f=y,c=1),y=o.get(w,h),y===m?u++:(u>=5&&(a+=t.N1+(u-5)),m=y,u=1)}c>=5&&(a+=t.N1+(c-5)),u>=5&&(a+=t.N1+(u-5))}return a},e.getPenaltyN2=function(o){const i=o.size;let a=0;for(let c=0;c<i-1;c++)for(let u=0;u<i-1;u++){const f=o.get(c,u)+o.get(c,u+1)+o.get(c+1,u)+o.get(c+1,u+1);(f===4||f===0)&&a++}return a*t.N2},e.getPenaltyN3=function(o){const i=o.size;let a=0,c=0,u=0;for(let f=0;f<i;f++){c=u=0;for(let m=0;m<i;m++)c=c<<1&2047|o.get(f,m),m>=10&&(c===1488||c===93)&&a++,u=u<<1&2047|o.get(m,f),m>=10&&(u===1488||u===93)&&a++}return a*t.N3},e.getPenaltyN4=function(o){let i=0;const a=o.data.length;for(let u=0;u<a;u++)i+=o.data[u];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(r,o,i){switch(r){case e.Patterns.PATTERN000:return(o+i)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(o+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return o*i%2+o*i%3===0;case e.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case e.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(o,i){const a=i.size;for(let c=0;c<a;c++)for(let u=0;u<a;u++)i.isReserved(u,c)||i.xor(u,c,n(o,u,c))},e.getBestMask=function(o,i){const a=Object.keys(e.Patterns).length;let c=0,u=1/0;for(let f=0;f<a;f++){i(f),e.applyMask(f,o);const m=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(f,o),m<u&&(u=m,c=f)}return c}}(Im)),Im}var hd={},k2;function sP(){if(k2)return hd;k2=1;const e=s0(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return hd.getBlocksCount=function(o,i){switch(i){case e.L:return t[(o-1)*4+0];case e.M:return t[(o-1)*4+1];case e.Q:return t[(o-1)*4+2];case e.H:return t[(o-1)*4+3];default:return}},hd.getTotalCodewordsCount=function(o,i){switch(i){case e.L:return n[(o-1)*4+0];case e.M:return n[(o-1)*4+1];case e.Q:return n[(o-1)*4+2];case e.H:return n[(o-1)*4+3];default:return}},hd}var Om={},ql={},C2;function UV(){if(C2)return ql;C2=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let o=0;o<255;o++)e[o]=r,t[r]=o,r<<=1,r&256&&(r^=285);for(let o=255;o<512;o++)e[o]=e[o-255]}(),ql.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},ql.exp=function(r){return e[r]},ql.mul=function(r,o){return r===0||o===0?0:e[t[r]+t[o]]},ql}var N2;function HV(){return N2||(N2=1,function(e){const t=UV();e.mul=function(r,o){const i=new Uint8Array(r.length+o.length-1);for(let a=0;a<r.length;a++)for(let c=0;c<o.length;c++)i[a+c]^=t.mul(r[a],o[c]);return i},e.mod=function(r,o){let i=new Uint8Array(r);for(;i.length-o.length>=0;){const a=i[0];for(let u=0;u<o.length;u++)i[u]^=t.mul(o[u],a);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},e.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let i=0;i<r;i++)o=e.mul(o,new Uint8Array([1,t.exp(i)]));return o}}(Om)),Om}var Mm,T2;function WV(){if(T2)return Mm;T2=1;const e=HV();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(r.length+this.degree);o.set(r);const i=e.mod(o,this.genPoly),a=this.degree-i.length;if(a>0){const c=new Uint8Array(this.degree);return c.set(i,a),c}return i},Mm=t,Mm}var Lm={},Dm={},zm={},P2;function iP(){return P2||(P2=1,zm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),zm}var Ir={},R2;function aP(){if(R2)return Ir;R2=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ir.KANJI=new RegExp(n,"g"),Ir.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ir.BYTE=new RegExp(r,"g"),Ir.NUMERIC=new RegExp(e,"g"),Ir.ALPHANUMERIC=new RegExp(t,"g");const o=new RegExp("^"+n+"$"),i=new RegExp("^"+e+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ir.testKanji=function(u){return o.test(u)},Ir.testNumeric=function(u){return i.test(u)},Ir.testAlphanumeric=function(u){return a.test(u)},Ir}var A2;function Ni(){return A2||(A2=1,function(e){const t=iP(),n=aP();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(i,a){if(e.isValid(i))return i;try{return r(i)}catch{return a}}}(Dm)),Dm}var j2;function VV(){return j2||(j2=1,function(e){const t=Ci(),n=sP(),r=s0(),o=Ni(),i=iP(),a=7973,c=t.getBCHDigit(a);function u(w,y,b){for(let g=1;g<=40;g++)if(y<=e.getCapacity(g,b,w))return g}function f(w,y){return o.getCharCountIndicator(w,y)+4}function m(w,y){let b=0;return w.forEach(function(g){const x=f(g.mode,y);b+=x+g.getBitsLength()}),b}function h(w,y){for(let b=1;b<=40;b++)if(m(w,b)<=e.getCapacity(b,y,o.MIXED))return b}e.from=function(y,b){return i.isValid(y)?parseInt(y,10):b},e.getCapacity=function(y,b,g){if(!i.isValid(y))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=o.BYTE);const x=t.getSymbolTotalCodewords(y),E=n.getTotalCodewordsCount(y,b),k=(x-E)*8;if(g===o.MIXED)return k;const C=k-f(g,y);switch(g){case o.NUMERIC:return Math.floor(C/10*3);case o.ALPHANUMERIC:return Math.floor(C/11*2);case o.KANJI:return Math.floor(C/13);case o.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(y,b){let g;const x=r.from(b,r.M);if(Array.isArray(y)){if(y.length>1)return h(y,x);if(y.length===0)return 1;g=y[0]}else g=y;return u(g.mode,g.getLength(),x)},e.getEncodedBits=function(y){if(!i.isValid(y)||y<7)throw new Error("Invalid QR Code version");let b=y<<12;for(;t.getBCHDigit(b)-c>=0;)b^=a<<t.getBCHDigit(b)-c;return y<<12|b}}(Lm)),Lm}var Bm={},I2;function qV(){if(I2)return Bm;I2=1;const e=Ci(),t=1335,n=21522,r=e.getBCHDigit(t);return Bm.getEncodedBits=function(i,a){const c=i.bit<<3|a;let u=c<<10;for(;e.getBCHDigit(u)-r>=0;)u^=t<<e.getBCHDigit(u)-r;return(c<<10|u)^n},Bm}var Fm={},$m,O2;function KV(){if(O2)return $m;O2=1;const e=Ni();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let o,i,a;for(o=0;o+3<=this.data.length;o+=3)i=this.data.substr(o,3),a=parseInt(i,10),r.put(a,10);const c=this.data.length-o;c>0&&(i=this.data.substr(o),a=parseInt(i,10),r.put(a,c*3+1))},$m=t,$m}var Um,M2;function ZV(){if(M2)return Um;M2=1;const e=Ni(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let i;for(i=0;i+2<=this.data.length;i+=2){let a=t.indexOf(this.data[i])*45;a+=t.indexOf(this.data[i+1]),o.put(a,11)}this.data.length%2&&o.put(t.indexOf(this.data[i]),6)},Um=n,Um}var Hm,L2;function GV(){if(L2)return Hm;L2=1;const e=Ni();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,o=this.data.length;r<o;r++)n.put(this.data[r],8)},Hm=t,Hm}var Wm,D2;function YV(){if(D2)return Wm;D2=1;const e=Ni(),t=Ci();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(o){return o*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let o;for(o=0;o<this.data.length;o++){let i=t.toSJIS(this.data[o]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},Wm=n,Wm}var Vm={exports:{}},z2;function JV(){return z2||(z2=1,function(e){var t={single_source_shortest_paths:function(n,r,o){var i={},a={};a[r]=0;var c=t.PriorityQueue.make();c.push(r,0);for(var u,f,m,h,w,y,b,g,x;!c.empty();){u=c.pop(),f=u.value,h=u.cost,w=n[f]||{};for(m in w)w.hasOwnProperty(m)&&(y=w[m],b=h+y,g=a[m],x=typeof a[m]>"u",(x||g>b)&&(a[m]=b,c.push(m,b),i[m]=f))}if(typeof o<"u"&&typeof a[o]>"u"){var E=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(E)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var o=[],i=r;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,r,o){var i=t.single_source_shortest_paths(n,r,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,o={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.queue=[],o.sorter=n.sorter||r.default_sorter,o},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var o={value:n,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(Vm)),Vm.exports}var B2;function QV(){return B2||(B2=1,function(e){const t=Ni(),n=KV(),r=ZV(),o=GV(),i=YV(),a=aP(),c=Ci(),u=JV();function f(E){return unescape(encodeURIComponent(E)).length}function m(E,k,C){const A=[];let j;for(;(j=E.exec(C))!==null;)A.push({data:j[0],index:j.index,mode:k,length:j[0].length});return A}function h(E){const k=m(a.NUMERIC,t.NUMERIC,E),C=m(a.ALPHANUMERIC,t.ALPHANUMERIC,E);let A,j;return c.isKanjiModeEnabled()?(A=m(a.BYTE,t.BYTE,E),j=m(a.KANJI,t.KANJI,E)):(A=m(a.BYTE_KANJI,t.BYTE,E),j=[]),k.concat(C,A,j).sort(function(D,B){return D.index-B.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function w(E,k){switch(k){case t.NUMERIC:return n.getBitsLength(E);case t.ALPHANUMERIC:return r.getBitsLength(E);case t.KANJI:return i.getBitsLength(E);case t.BYTE:return o.getBitsLength(E)}}function y(E){return E.reduce(function(k,C){const A=k.length-1>=0?k[k.length-1]:null;return A&&A.mode===C.mode?(k[k.length-1].data+=C.data,k):(k.push(C),k)},[])}function b(E){const k=[];for(let C=0;C<E.length;C++){const A=E[C];switch(A.mode){case t.NUMERIC:k.push([A,{data:A.data,mode:t.ALPHANUMERIC,length:A.length},{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.ALPHANUMERIC:k.push([A,{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.KANJI:k.push([A,{data:A.data,mode:t.BYTE,length:f(A.data)}]);break;case t.BYTE:k.push([{data:A.data,mode:t.BYTE,length:f(A.data)}])}}return k}function g(E,k){const C={},A={start:{}};let j=["start"];for(let L=0;L<E.length;L++){const D=E[L],B=[];for(let O=0;O<D.length;O++){const F=D[O],W=""+L+O;B.push(W),C[W]={node:F,lastCount:0},A[W]={};for(let M=0;M<j.length;M++){const V=j[M];C[V]&&C[V].node.mode===F.mode?(A[V][W]=w(C[V].lastCount+F.length,F.mode)-w(C[V].lastCount,F.mode),C[V].lastCount+=F.length):(C[V]&&(C[V].lastCount=F.length),A[V][W]=w(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,k))}}j=B}for(let L=0;L<j.length;L++)A[j[L]].end=0;return{map:A,table:C}}function x(E,k){let C;const A=t.getBestModeForData(E);if(C=t.from(k,A),C!==t.BYTE&&C.bit<A.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(A));switch(C===t.KANJI&&!c.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(E);case t.ALPHANUMERIC:return new r(E);case t.KANJI:return new i(E);case t.BYTE:return new o(E)}}e.fromArray=function(k){return k.reduce(function(C,A){return typeof A=="string"?C.push(x(A,null)):A.data&&C.push(x(A.data,A.mode)),C},[])},e.fromString=function(k,C){const A=h(k,c.isKanjiModeEnabled()),j=b(A),L=g(j,C),D=u.find_path(L.map,"start","end"),B=[];for(let O=1;O<D.length-1;O++)B.push(L.table[D[O]].node);return e.fromArray(y(B))},e.rawSplit=function(k){return e.fromArray(h(k,c.isKanjiModeEnabled()))}}(Fm)),Fm}var F2;function XV(){if(F2)return Nm;F2=1;const e=Ci(),t=s0(),n=DV(),r=zV(),o=BV(),i=FV(),a=$V(),c=sP(),u=WV(),f=VV(),m=qV(),h=Ni(),w=QV();function y(L,D){const B=L.size,O=i.getPositions(D);for(let F=0;F<O.length;F++){const W=O[F][0],M=O[F][1];for(let V=-1;V<=7;V++)if(!(W+V<=-1||B<=W+V))for(let P=-1;P<=7;P++)M+P<=-1||B<=M+P||(V>=0&&V<=6&&(P===0||P===6)||P>=0&&P<=6&&(V===0||V===6)||V>=2&&V<=4&&P>=2&&P<=4?L.set(W+V,M+P,!0,!0):L.set(W+V,M+P,!1,!0))}}function b(L){const D=L.size;for(let B=8;B<D-8;B++){const O=B%2===0;L.set(B,6,O,!0),L.set(6,B,O,!0)}}function g(L,D){const B=o.getPositions(D);for(let O=0;O<B.length;O++){const F=B[O][0],W=B[O][1];for(let M=-2;M<=2;M++)for(let V=-2;V<=2;V++)M===-2||M===2||V===-2||V===2||M===0&&V===0?L.set(F+M,W+V,!0,!0):L.set(F+M,W+V,!1,!0)}}function x(L,D){const B=L.size,O=f.getEncodedBits(D);let F,W,M;for(let V=0;V<18;V++)F=Math.floor(V/3),W=V%3+B-8-3,M=(O>>V&1)===1,L.set(F,W,M,!0),L.set(W,F,M,!0)}function E(L,D,B){const O=L.size,F=m.getEncodedBits(D,B);let W,M;for(W=0;W<15;W++)M=(F>>W&1)===1,W<6?L.set(W,8,M,!0):W<8?L.set(W+1,8,M,!0):L.set(O-15+W,8,M,!0),W<8?L.set(8,O-W-1,M,!0):W<9?L.set(8,15-W-1+1,M,!0):L.set(8,15-W-1,M,!0);L.set(O-8,8,1,!0)}function k(L,D){const B=L.size;let O=-1,F=B-1,W=7,M=0;for(let V=B-1;V>0;V-=2)for(V===6&&V--;;){for(let P=0;P<2;P++)if(!L.isReserved(F,V-P)){let U=!1;M<D.length&&(U=(D[M]>>>W&1)===1),L.set(F,V-P,U),W--,W===-1&&(M++,W=7)}if(F+=O,F<0||B<=F){F-=O,O=-O;break}}}function C(L,D,B){const O=new n;B.forEach(function(P){O.put(P.mode.bit,4),O.put(P.getLength(),h.getCharCountIndicator(P.mode,L)),P.write(O)});const F=e.getSymbolTotalCodewords(L),W=c.getTotalCodewordsCount(L,D),M=(F-W)*8;for(O.getLengthInBits()+4<=M&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const V=(M-O.getLengthInBits())/8;for(let P=0;P<V;P++)O.put(P%2?17:236,8);return A(O,L,D)}function A(L,D,B){const O=e.getSymbolTotalCodewords(D),F=c.getTotalCodewordsCount(D,B),W=O-F,M=c.getBlocksCount(D,B),V=O%M,P=M-V,U=Math.floor(O/M),X=Math.floor(W/M),J=X+1,ee=U-X,K=new u(ee);let oe=0;const z=new Array(M),q=new Array(M);let ge=0;const pe=new Uint8Array(L.buffer);for(let Se=0;Se<M;Se++){const je=Se<P?X:J;z[Se]=pe.slice(oe,oe+je),q[Se]=K.encode(z[Se]),oe+=je,ge=Math.max(ge,je)}const me=new Uint8Array(O);let Ae=0,we,xe;for(we=0;we<ge;we++)for(xe=0;xe<M;xe++)we<z[xe].length&&(me[Ae++]=z[xe][we]);for(we=0;we<ee;we++)for(xe=0;xe<M;xe++)me[Ae++]=q[xe][we];return me}function j(L,D,B,O){let F;if(Array.isArray(L))F=w.fromArray(L);else if(typeof L=="string"){let U=D;if(!U){const X=w.rawSplit(L);U=f.getBestVersionForData(X,B)}F=w.fromString(L,U||40)}else throw new Error("Invalid data");const W=f.getBestVersionForData(F,B);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=W;else if(D<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const M=C(D,B,F),V=e.getSymbolSize(D),P=new r(V);return y(P,D),b(P),g(P,D),E(P,B,0),D>=7&&x(P,D),k(P,M),isNaN(O)&&(O=a.getBestMask(P,E.bind(null,P,B))),a.applyMask(O,P),E(P,B,O),{modules:P,version:D,errorCorrectionLevel:B,maskPattern:O,segments:F}}return Nm.create=function(D,B){if(typeof D>"u"||D==="")throw new Error("No input text");let O=t.M,F,W;return typeof B<"u"&&(O=t.from(B.errorCorrectionLevel,t.M),F=f.from(B.version),W=a.from(B.maskPattern),B.toSJISFunc&&e.setToSJISFunction(B.toSJISFunc)),j(D,F,O,W)},Nm}var qm={},Km={},$2;function lP(){return $2||($2=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},e.getImageWidth=function(r,o){const i=e.getScale(r,o);return Math.floor((r+o.margin*2)*i)},e.qrToImageData=function(r,o,i){const a=o.modules.size,c=o.modules.data,u=e.getScale(a,i),f=Math.floor((a+i.margin*2)*u),m=i.margin*u,h=[i.color.light,i.color.dark];for(let w=0;w<f;w++)for(let y=0;y<f;y++){let b=(w*f+y)*4,g=i.color.light;if(w>=m&&y>=m&&w<f-m&&y<f-m){const x=Math.floor((w-m)/u),E=Math.floor((y-m)/u);g=h[c[x*a+E]?1:0]}r[b++]=g.r,r[b++]=g.g,r[b++]=g.b,r[b]=g.a}}}(Km)),Km}var U2;function eq(){return U2||(U2=1,function(e){const t=lP();function n(o,i,a){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,c){let u=c,f=a;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),a||(f=r()),u=t.getOptions(u);const m=t.getImageWidth(i.modules.size,u),h=f.getContext("2d"),w=h.createImageData(m,m);return t.qrToImageData(w.data,i,u),n(h,f,m),h.putImageData(w,0,0),f},e.renderToDataURL=function(i,a,c){let u=c;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),u||(u={});const f=e.render(i,a,u),m=u.type||"image/png",h=u.rendererOpts||{};return f.toDataURL(m,h.quality)}}(qm)),qm}var Zm={},H2;function tq(){if(H2)return Zm;H2=1;const e=lP();function t(o,i){const a=o.a/255,c=i+'="'+o.hex+'"';return a<1?c+" "+i+'-opacity="'+a.toFixed(2).slice(1)+'"':c}function n(o,i,a){let c=o+i;return typeof a<"u"&&(c+=" "+a),c}function r(o,i,a){let c="",u=0,f=!1,m=0;for(let h=0;h<o.length;h++){const w=Math.floor(h%i),y=Math.floor(h/i);!w&&!f&&(f=!0),o[h]?(m++,h>0&&w>0&&o[h-1]||(c+=f?n("M",w+a,.5+y+a):n("m",u,0),u=0,f=!1),w+1<i&&o[h+1]||(c+=n("h",m),m=0)):u++}return c}return Zm.render=function(i,a,c){const u=e.getOptions(a),f=i.modules.size,m=i.modules.data,h=f+u.margin*2,w=u.color.light.a?"<path "+t(u.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",y="<path "+t(u.color.dark,"stroke")+' d="'+r(m,f,u.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+b+' shape-rendering="crispEdges">'+w+y+`</svg>
`;return typeof c=="function"&&c(null,x),x},Zm}var W2;function nq(){if(W2)return ea;W2=1;const e=LV(),t=XV(),n=eq(),r=tq();function o(i,a,c,u,f){const m=[].slice.call(arguments,1),h=m.length,w=typeof m[h-1]=="function";if(!w&&!e())throw new Error("Callback required as last argument");if(w){if(h<2)throw new Error("Too few arguments provided");h===2?(f=c,c=a,a=u=void 0):h===3&&(a.getContext&&typeof f>"u"?(f=u,u=void 0):(f=u,u=c,c=a,a=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(c=a,a=u=void 0):h===2&&!a.getContext&&(u=c,c=a,a=void 0),new Promise(function(y,b){try{const g=t.create(c,u);y(i(g,a,u))}catch(g){b(g)}})}try{const y=t.create(c,u);f(null,i(y,a,u))}catch(y){f(y)}}return ea.create=t.create,ea.toCanvas=o.bind(null,n.render),ea.toDataURL=o.bind(null,n.renderToDataURL),ea.toString=o.bind(null,function(i,a,c){return r.render(i,c)}),ea}var rq=nq();const oq=tf(rq);function sq(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),o=[];return t.searchParams.forEach((i,a)=>{a==="relay"&&o.push(i)}),!n||!r||o.length===0?null:{walletPubkey:n,secret:r,relays:o}}catch{return null}}function iq(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function aq({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=Hn(),[o,i]=_.useState(!1),[a,c]=_.useState(null),u=_.useRef(null),f=_.useRef(null),m=_.useRef(null),h=e?sq(e):null;_.useEffect(()=>{if(!(h!=null&&h.secret)){f.current=null,m.current=null;return}try{const y=iq(h.secret);f.current=new cc(y),m.current=wo(y),console.log("[NWC Notifications] Client pubkey derived:",m.current.slice(0,16)+"...")}catch(y){console.error("[NWC Notifications] Failed to create signer from secret:",y),f.current=null,m.current=null}},[h==null?void 0:h.secret]);const w=_.useCallback(async y=>{var g;if(!((g=f.current)!=null&&g.nip44)||!(h!=null&&h.walletPubkey)||!m.current||y.pubkey!==h.walletPubkey)return;const b=y.tags.find(([x])=>x==="p");if(!(b&&b[1]!==m.current))try{let x;if(y.kind===23197&&f.current.nip44)x=await f.current.nip44.decrypt(h.walletPubkey,y.content);else if(y.kind===23196&&f.current.nip04)x=await f.current.nip04.decrypt(h.walletPubkey,y.content);else return;const E=JSON.parse(x);if(E.notification_type==="payment_received"&&E.notification){const k={type:"incoming",state:E.notification.state,invoice:E.notification.invoice,preimage:E.notification.preimage,payment_hash:E.notification.payment_hash,amount:E.notification.amount,settled_at:E.notification.settled_at};console.log("[NWC Notifications] Payment received:",k),c(k),t==null||t(k)}}catch(x){console.error("[NWC Notifications] Failed to process notification:",x)}},[h==null?void 0:h.walletPubkey,t]);return _.useEffect(()=>{if(!n||!h||!f.current||!m.current){i(!1);return}const{walletPubkey:y,relays:b}=h,g=m.current,x=r.group(b);let E=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",b),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",y.slice(0,16)+"...",g.slice(0,16)+"...");const C=x.req([{kinds:[23196,23197],authors:[y],"#p":[g],limit:50}]);E||i(!0);for await(const A of C){if(E)break;if(A[0]==="EVENT"){const j=A[2];await w(j)}else A[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(C){console.error("[NWC Notifications] Subscription error:",C),E||i(!1)}})(),()=>{var C;E=!0,(C=u.current)==null||C.close(),i(!1)}},[n,h,r,w]),{isConnected:o,lastNotification:a,clientPubkey:m.current}}function lq({open:e,invoice:t,amountSats:n,onClose:r,onPay:o,onSettled:i}){var B;const[a,c]=_.useState(null),[u,f]=_.useState("pending"),[m,h]=_.useState(null),[w,y]=_.useState(!1),[b,g]=_.useState(0),x=IC(),[E,k]=_.useState(!1),C=60;_.useEffect(()=>{e&&(f("pending"),h(null),y(!1),g(0))},[e]),_.useEffect(()=>{if(!t)return;let O=!0;return oq.toDataURL(t,{width:256,margin:2}).then(F=>{O&&c(F)}).catch(()=>{O&&c(null)}),()=>{O=!1}},[t]);const{isConnected:A}=aq({connectionString:((B=x.getActiveConnection())==null?void 0:B.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async O=>{O.preimage&&(f("success"),h("Payment confirmed!"),i&&await i({preimage:O.preimage}),setTimeout(()=>r(),2e3))}});_.useEffect(()=>{if(!e||!t||A)return;const O=x.getActiveConnection();if(!O)return;let F=!1;const W=3e3,M=async()=>{if(!F){g(P=>P+1);try{const U=await new hc(O.connectionString).lookupInvoice(t);if(U&&U.state==="settled"&&U.preimage){f("success"),h("Payment confirmed!"),i&&await i({preimage:U.preimage}),setTimeout(()=>{F||r()},2e3);return}}catch{}!F&&b<C?setTimeout(M,W):b>=C&&h("Waiting for payment timed out. You can still pay manually.")}},V=setTimeout(M,W);return()=>{F=!0,clearTimeout(V)}},[e,t,x,r,i,b,A]);const j=async()=>{try{await navigator.clipboard.writeText(t),y(!0),setTimeout(()=>y(!1),2e3)}catch{h("Failed to copy")}},L=async()=>{f("paying"),h(null);try{await o(),f("success"),h("Payment successful!"),setTimeout(()=>r(),1500)}catch(O){f("error"),h((O==null?void 0:O.message)||"Payment failed")}},D=()=>{switch(u){case"pending":return p.jsxs(Fn,{variant:"secondary",className:"gap-1",children:[p.jsx(QB,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return p.jsxs(Fn,{variant:"secondary",className:"gap-1",children:[p.jsx(zn,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return p.jsxs(Fn,{variant:"default",className:"gap-1",children:[p.jsx(zn,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return p.jsxs(Fn,{variant:"default",className:"gap-1 bg-green-600",children:[p.jsx(Yl,{className:"h-3 w-3"})," Paid"]});case"error":return p.jsxs(Fn,{variant:"destructive",className:"gap-1",children:[p.jsx(JB,{className:"h-3 w-3"})," Failed"]})}};return p.jsx(Za,{open:e,onOpenChange:O=>{!O&&u!=="paying"&&r()},children:p.jsxs(bi,{className:"max-w-md",children:[p.jsxs(Ei,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(Ga,{className:"flex items-center gap-2",children:[p.jsx($g,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),D()]}),p.jsx(Dc,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),p.jsxs("div",{className:"space-y-4",children:[n&&p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),p.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),p.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:a?p.jsx("img",{src:a,alt:"Lightning Invoice QR",className:"w-56 h-56"}):p.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:p.jsx(zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),p.jsx(nt,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:j,children:w?p.jsx(Yl,{className:"h-4 w-4 text-green-500"}):p.jsx(XB,{className:"h-4 w-4"})})]}),u==="pending"&&p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(zn,{className:"h-3 w-3 animate-spin"}),A?"Listening for payment...":"Waiting for payment..."]}),!A&&b>0&&p.jsxs("span",{children:[Math.floor(b/C*100),"%"]})]}),!A&&b>0&&p.jsx(oP,{value:b/C*100,className:"h-1"}),A&&p.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[p.jsx(Yl,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),m&&p.jsx("div",{className:`text-sm text-center p-2 rounded ${u==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":u==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:m}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(nt,{variant:"outline",onClick:r,disabled:u==="paying",className:"flex-1",children:"Cancel"}),p.jsx(nt,{onClick:L,disabled:u==="paying"||u==="success",className:"flex-1",children:u==="paying"?p.jsxs(p.Fragment,{children:[p.jsx(zn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):u==="success"?p.jsxs(p.Fragment,{children:[p.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Paid!"]}):p.jsxs(p.Fragment,{children:[p.jsx($g,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),p.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function cq(){var A;const{nip19:e}=Iv();Ja({title:"Locker Details"});const{nostr:t}=Hn(),n=IC();vi();const{mutateAsync:r}=NV(),{data:o}=$r({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const j=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!j||j.length===0?null:n0(j[0])},staleTime:6e4}),i=CV(o==null?void 0:o.pubkey),[a,c]=_.useState(!1),[u,f]=_.useState(""),[m,h]=_.useState(!1),[w,y]=_.useState(""),{connections:b,activeConnection:g,setActiveConnection:x,getActiveConnection:E}=n,k=async()=>{if(!o)return;const j=E();if(!j){f("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}c(!0),f("");try{const L=new hc(j.connectionString),D=o.price*1e3,B=await L.makeInvoice({amount:D,description:`Locker rental ${o.dTag}`});y(B.invoice),h(!0)}catch(L){f((L==null?void 0:L.message)??"Failed to create invoice"),c(!1)}},C=async()=>{if(!o)throw new Error("No locker");const j=E();if(!j)throw new Error("No wallet connected");const B=(await new hc(j.connectionString).pay(w)).preimage;return await r({recipientPubkey:o.pubkey,lockerId:o.dTag,paymentPreimage:B,rentalInvoice:w}),f("Unlock command sent via NIP-17. Locker should open shortly."),c(!1),B};return o?p.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[b.length>1&&p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),p.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:g??"",onChange:j=>x(j.target.value),children:b.map(j=>p.jsx("option",{value:j.connectionString,children:j.alias??"NWC Wallet"},j.connectionString))})]}),p.jsxs("div",{className:"card",children:[p.jsx(wn,{children:p.jsx(Bn,{children:o.title})}),p.jsxs(Mt,{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:o.location||o.geohash}),p.jsxs("p",{className:"mt-2",children:["Dimensions: ",o.dimensions]}),p.jsxs("p",{children:["Fee: ",o.price," sats"]}),p.jsxs("p",{children:["Owner: ",o.pubkey]}),p.jsxs("p",{children:["Trust Score: ",((A=i==null?void 0:i.data)==null?void 0:A.score)??""]}),p.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:o.description})]})]}),p.jsx("div",{children:p.jsxs(_t,{children:[p.jsx(wn,{children:p.jsx(Bn,{children:"Rent this Locker"})}),p.jsxs(Mt,{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),p.jsx(nt,{onClick:k,disabled:a,className:"mt-4",children:a?"Creating invoice...":`Rent for ${o.price} sats`}),u&&p.jsx("p",{className:"mt-2 text-sm",children:u})]})]})}),p.jsx(lq,{open:m,invoice:w,onClose:()=>{h(!1),a&&c(!1)},onPay:C,onSettled:async j=>{if(!o)return;const L=j.preimage;if(L){try{await r({recipientPubkey:o.pubkey,lockerId:o.dTag,paymentPreimage:L,rentalInvoice:w}),f("Unlock command sent via NIP-17. Locker should open shortly.")}catch(D){f((D==null?void 0:D.message)??"Failed to send unlock command")}c(!1)}}})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var uq="Label",cP=_.forwardRef((e,t)=>p.jsx(De.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cP.displayName=uq;var uP=cP;const dq=Oc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tn=_.forwardRef(({className:e,...t},n)=>p.jsx(uP,{ref:n,className:Oe(dq(),e),...t}));tn.displayName=uP.displayName;function bc(e,[t,n]){return Math.min(n,Math.max(t,e))}function qf(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dP=["PageUp","PageDown"],fP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qa="Slider",[iy,fq,hq]=Ac(Qa),[pP,zZ]=Qt(Qa,[hq]),[pq,Kf]=pP(Qa),mP=_.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[r],value:m,onValueChange:h=()=>{},onValueCommit:w=()=>{},inverted:y=!1,form:b,...g}=e,x=_.useRef(new Set),E=_.useRef(0),C=a==="horizontal"?mq:gq,[A=[],j]=sr({prop:m,defaultProp:f,onChange:W=>{var V;(V=[...x.current][E.current])==null||V.focus(),h(W)}}),L=_.useRef(A);function D(W){const M=bq(A,W);F(W,M)}function B(W){F(W,E.current)}function O(){const W=L.current[E.current];A[E.current]!==W&&w(A)}function F(W,M,{commit:V}={commit:!1}){const P=kq(i),U=Cq(Math.round((W-r)/i)*i+r,P),X=bc(U,[r,o]);j((J=[])=>{const ee=wq(J,X,M);if(Sq(ee,u*i)){E.current=ee.indexOf(X);const K=String(ee)!==String(J);return K&&V&&w(ee),K?ee:J}else return J})}return p.jsx(pq,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:E,thumbs:x.current,values:A,orientation:a,form:b,children:p.jsx(iy.Provider,{scope:e.__scopeSlider,children:p.jsx(iy.Slot,{scope:e.__scopeSlider,children:p.jsx(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:t,onPointerDown:Pe(g.onPointerDown,()=>{c||(L.current=A)}),min:r,max:o,inverted:y,onSlideStart:c?void 0:D,onSlideMove:c?void 0:B,onSlideEnd:c?void 0:O,onHomeKeyDown:()=>!c&&F(r,0,{commit:!0}),onEndKeyDown:()=>!c&&F(o,A.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:M})=>{if(!c){const U=dP.includes(W.key)||W.shiftKey&&fP.includes(W.key)?10:1,X=E.current,J=A[X],ee=i*U*M;F(J+ee,X,{commit:!0})}}})})})})});mP.displayName=Qa;var[gP,yP]=pP(Qa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mq=_.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:u,onStepKeyDown:f,...m}=e,[h,w]=_.useState(null),y=Je(t,C=>w(C)),b=_.useRef(void 0),g=_i(o),x=g==="ltr",E=x&&!i||!x&&i;function k(C){const A=b.current||h.getBoundingClientRect(),j=[0,A.width],D=i0(j,E?[n,r]:[r,n]);return b.current=A,D(C-A.left)}return p.jsx(gP,{scope:e.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:p.jsx(vP,{dir:g,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const A=k(C.clientX);a==null||a(A)},onSlideMove:C=>{const A=k(C.clientX);c==null||c(A)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:C=>{const j=hP[E?"from-left":"from-right"].includes(C.key);f==null||f({event:C,direction:j?-1:1})}})})}),gq=_.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...f}=e,m=_.useRef(null),h=Je(t,m),w=_.useRef(void 0),y=!o;function b(g){const x=w.current||m.current.getBoundingClientRect(),E=[0,x.height],C=i0(E,y?[r,n]:[n,r]);return w.current=x,C(g-x.top)}return p.jsx(gP,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:p.jsx(vP,{"data-orientation":"vertical",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=b(g.clientY);i==null||i(x)},onSlideMove:g=>{const x=b(g.clientY);a==null||a(x)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:g=>{const E=hP[y?"from-bottom":"from-top"].includes(g.key);u==null||u({event:g,direction:E?-1:1})}})})}),vP=_.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:u,...f}=e,m=Kf(Qa,n);return p.jsx(De.span,{...f,ref:t,onKeyDown:Pe(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):dP.concat(fP).includes(h.key)&&(u(h),h.preventDefault())}),onPointerDown:Pe(e.onPointerDown,h=>{const w=h.target;w.setPointerCapture(h.pointerId),h.preventDefault(),m.thumbs.has(w)?w.focus():r(h)}),onPointerMove:Pe(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&o(h)}),onPointerUp:Pe(e.onPointerUp,h=>{const w=h.target;w.hasPointerCapture(h.pointerId)&&(w.releasePointerCapture(h.pointerId),i(h))})})}),wP="SliderTrack",xP=_.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Kf(wP,n);return p.jsx(De.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});xP.displayName=wP;var ay="SliderRange",bP=_.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Kf(ay,n),i=yP(ay,n),a=_.useRef(null),c=Je(t,a),u=o.values.length,f=o.values.map(w=>SP(w,o.min,o.max)),m=u>1?Math.min(...f):0,h=100-Math.max(...f);return p.jsx(De.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:h+"%"}})});bP.displayName=ay;var ly="SliderThumb",EP=_.forwardRef((e,t)=>{const n=fq(e.__scopeSlider),[r,o]=_.useState(null),i=Je(t,c=>o(c)),a=_.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return p.jsx(yq,{...e,ref:i,index:a})}),yq=_.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,a=Kf(ly,n),c=yP(ly,n),[u,f]=_.useState(null),m=Je(t,k=>f(k)),h=u?a.form||!!u.closest("form"):!0,w=Rf(u),y=a.values[r],b=y===void 0?0:SP(y,a.min,a.max),g=xq(r,a.values.length),x=w==null?void 0:w[c.size],E=x?Eq(x,b,c.direction):0;return _.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${E}px)`},children:[p.jsx(iy.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(De.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:m,style:y===void 0?{display:"none"}:e.style,onFocus:Pe(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&p.jsx(_P,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},r)]})});EP.displayName=ly;var vq="RadioBubbleInput",_P=_.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=_.useRef(null),i=Je(o,r),a=qf(t);return _.useEffect(()=>{const c=o.current;if(!c)return;const u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==t&&m){const h=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(h)}},[a,t]),p.jsx(De.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});_P.displayName=vq;function wq(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function SP(e,t,n){const i=100/(n-t)*(e-t);return bc(i,[0,100])}function xq(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function bq(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function Eq(e,t,n){const r=e/2,i=i0([0,50],[0,r]);return(r-i(t)*n)*n}function _q(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Sq(e,t){if(t>0){const n=_q(e);return Math.min(...n)>=t}return!0}function i0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kq(e){return(String(e).split(".")[1]||"").length}function Cq(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var kP=mP,Nq=xP,Tq=bP,Pq=EP;const CP=_.forwardRef(({className:e,...t},n)=>p.jsxs(kP,{ref:n,className:Oe("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(Nq,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(Tq,{className:"absolute h-full bg-primary"})}),p.jsx(Pq,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));CP.displayName=kP.displayName;function $n({className:e,...t}){return p.jsx("div",{className:Oe("animate-pulse rounded-md bg-muted",e),...t})}const Rq=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking and surveillance.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0},{id:"3",dTag:"prod-003",title:"Cold Card Hardware Wallet",description:"Ultra-secure Bitcoin hardware wallet. Air-gapped signing.",price:147e3,category:"Bitcoin",vendor:"CoinKite",vendorNpub:"npub1ghi...",inStock:!0},{id:"4",dTag:"prod-004",title:"Anonymous SIM Card",description:"Pre-paid SIM, no ID required. Activated and ready to use.",price:25e3,category:"Communications",vendor:"GhostConnect",vendorNpub:"npub1jkl...",inStock:!1},{id:"5",dTag:"prod-005",title:"Encrypted USB Drive",description:"Hardware-encrypted USB 3.0. Military-grade AES-256.",price:89e3,category:"Storage",vendor:"SecureData",vendorNpub:"npub1mno...",inStock:!0},{id:"6",dTag:"prod-006",title:"Privacy Screen Protector",description:"4-way privacy filter. Blocks side-angle viewing.",price:15e3,category:"Accessories",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0}],Aq=["All","Electronics","Accessories","Bitcoin","Communications","Storage"];function jq(){const{nostr:e}=Hn(),[t,n]=_.useState(1e6),[r,o]=_.useState(!1),[i,a]=_.useState(""),[c,u]=_.useState("All"),[f,m]=_.useState(!1),{data:h,isLoading:w}=$r({queryKey:["products"],queryFn:async()=>{try{return(await e.query([{kinds:[30402],"#t":["product"],limit:200}])).map(E=>{var k,C,A,j,L,D;return{id:E.id,dTag:((k=E.tags.find(B=>B[0]==="d"))==null?void 0:k[1])||"",title:((C=E.tags.find(B=>B[0]==="title"))==null?void 0:C[1])||"Unnamed Product",description:E.content||"",price:parseInt(((A=E.tags.find(B=>B[0]==="price"))==null?void 0:A[1])||"0"),category:((j=E.tags.find(B=>B[0]==="category"))==null?void 0:j[1])||"Other",vendor:((L=E.tags.find(B=>B[0]==="vendor"))==null?void 0:L[1])||"Unknown",vendorNpub:E.pubkey,inStock:((D=E.tags.find(B=>B[0]==="stock"))==null?void 0:D[1])!=="0"}})}catch{return[]}},staleTime:6e4}),y=h!=null&&h.length?h:Rq,b=_.useMemo(()=>y.filter(x=>{const E=!i||x.title.toLowerCase().includes(i.toLowerCase())||x.description.toLowerCase().includes(i.toLowerCase()),k=x.price<=t,C=c==="All"||x.category===c;return E&&k&&C}),[y,i,t,c]),g=x=>x>=1e8?` ${(x/1e8).toFixed(3)}`:x>=1e6?`${(x/1e6).toFixed(2)}M sats`:x>=1e3?`${(x/1e3).toFixed(1)}k sats`:`${x} sats`;return p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[p.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Marketplace"}),p.jsx("p",{className:"text-muted-foreground",children:"Products shipped to dead drop lockers"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Za,{open:f,onOpenChange:m,children:[p.jsx(bH,{asChild:!0,children:p.jsxs(nt,{variant:"outline",children:[p.jsx(Fg,{className:"h-4 w-4 mr-2"}),"Become a Vendor"]})}),p.jsxs(bi,{className:"max-w-2xl",children:[p.jsxs(Ei,{children:[p.jsx(Ga,{children:"Become a Vendor"}),p.jsx(Dc,{children:"Sell products that ship to DeadDropstr lockers"})]}),p.jsx(Iq,{onComplete:()=>m(!1)})]})]}),p.jsx(nt,{asChild:!0,children:p.jsxs(fn,{to:"/dashboard",children:[p.jsx(uF,{className:"h-4 w-4 mr-2"}),"List Product"]})})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(dF,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),p.jsx(Ut,{placeholder:"Search products...",value:i,onChange:x=>a(x.target.value),className:"pl-10"})]}),p.jsxs(nt,{variant:"outline",onClick:()=>o(!r),children:[p.jsx(oF,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),p.jsx("div",{className:"flex gap-2 flex-wrap",children:Aq.map(x=>p.jsx(nt,{variant:c===x?"default":"outline",size:"sm",onClick:()=>u(x),children:x},x))}),r&&p.jsx(_t,{children:p.jsx(Mt,{className:"pt-6",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs(tn,{children:["Max Price: ",g(t)]}),p.jsx(CP,{min:0,max:1e7,step:1e4,value:[t],onValueChange:([x])=>n(x)})]})})})]}),p.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[p.jsx(xd,{className:"h-4 w-4"}),b.length," product",b.length!==1?"s":""," found"]}),w?p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4].map(x=>p.jsxs(_t,{children:[p.jsx($n,{className:"h-48 w-full"}),p.jsx(wn,{children:p.jsx($n,{className:"h-6 w-3/4"})}),p.jsx(Mt,{children:p.jsx($n,{className:"h-4 w-full"})})]},x))}):b.length===0?p.jsx(_t,{className:"text-center py-12",children:p.jsxs(Mt,{children:[p.jsx(xd,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),p.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your filters or search terms"})]})}):p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:b.map(x=>p.jsxs(_t,{className:"hover:border-primary transition-colors group flex flex-col",children:[p.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center",children:x.image?p.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"}):p.jsx(xd,{className:"h-16 w-16 text-muted-foreground"})}),p.jsxs(wn,{className:"pb-2",children:[p.jsx("div",{className:"flex items-start justify-between gap-2",children:p.jsx(Bn,{className:"text-base group-hover:text-primary transition-colors line-clamp-2",children:x.title})}),p.jsx(Fn,{variant:"secondary",className:"w-fit text-xs",children:x.category})]}),p.jsxs(Mt,{className:"flex-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:x.description}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsx(Fg,{className:"h-3 w-3"}),p.jsx("span",{className:"truncate",children:x.vendor})]})]}),p.jsxs(QT,{className:"pt-0 flex items-center justify-between",children:[p.jsx("span",{className:"text-lg font-bold",children:g(x.price)}),p.jsx(nt,{asChild:!0,size:"sm",disabled:!x.inStock,children:p.jsx(fn,{to:`/product/${x.dTag}`,children:x.inStock?"Buy Now":"Out of Stock"})})]})]},x.id))})]})})}function Iq({onComplete:e}){const[t,n]=_.useState(1),[r,o]=_.useState({storeName:"",description:"",contact:""}),i=()=>{console.log("Vendor registration:",r),e()};return p.jsxs("div",{className:"space-y-6",children:[t===1&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{children:"Store Name"}),p.jsx(Ut,{placeholder:"Your store name",value:r.storeName,onChange:a=>o({...r,storeName:a.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{children:"Description"}),p.jsx(Ut,{placeholder:"What do you sell?",value:r.description,onChange:a=>o({...r,description:a.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{children:"Contact (Nostr DM or Email)"}),p.jsx(Ut,{placeholder:"How buyers can reach you",value:r.contact,onChange:a=>o({...r,contact:a.target.value})})]}),p.jsx("div",{className:"flex gap-2",children:p.jsx(nt,{onClick:i,className:"flex-1",children:"Register as Vendor"})})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[p.jsx("p",{className:"font-medium mb-2",children:"How it works:"}),p.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[p.jsx("li",{children:"Register your store profile"}),p.jsx("li",{children:"List products with prices in sats"}),p.jsx("li",{children:"When someone buys, you'll receive their chosen locker location"}),p.jsx("li",{children:"Ship the product to that locker"}),p.jsx("li",{children:"Buyer gets notified and picks up with a code"})]})]})]})}var a0="Radio",[Oq,NP]=Qt(a0),[Mq,Lq]=Oq(a0),TP=_.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:i,disabled:a,value:c="on",onCheck:u,form:f,...m}=e,[h,w]=_.useState(null),y=Je(t,x=>w(x)),b=_.useRef(!1),g=h?f||!!h.closest("form"):!0;return p.jsxs(Mq,{scope:n,checked:o,disabled:a,children:[p.jsx(De.button,{type:"button",role:"radio","aria-checked":o,"data-state":jP(o),"data-disabled":a?"":void 0,disabled:a,value:c,...m,ref:y,onClick:Pe(e.onClick,x=>{o||u==null||u(),g&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),g&&p.jsx(AP,{control:h,bubbles:!b.current,name:r,value:c,checked:o,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});TP.displayName=a0;var PP="RadioIndicator",RP=_.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,i=Lq(PP,n);return p.jsx(rn,{present:r||i.checked,children:p.jsx(De.span,{"data-state":jP(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});RP.displayName=PP;var Dq="RadioBubbleInput",AP=_.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const a=_.useRef(null),c=Je(a,i),u=qf(n),f=Rf(t);return _.useEffect(()=>{const m=a.current;if(!m)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&y){const b=new Event("click",{bubbles:r});y.call(m,n),m.dispatchEvent(b)}},[u,n,r]),p.jsx(De.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AP.displayName=Dq;function jP(e){return e?"checked":"unchecked"}var zq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zf="RadioGroup",[Bq,BZ]=Qt(Zf,[Ya,NP]),IP=Ya(),OP=NP(),[Fq,$q]=Bq(Zf),MP=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:i,required:a=!1,disabled:c=!1,orientation:u,dir:f,loop:m=!0,onValueChange:h,...w}=e,y=IP(n),b=_i(f),[g,x]=sr({prop:i,defaultProp:o??"",onChange:h,caller:Zf});return p.jsx(Fq,{scope:n,name:r,required:a,disabled:c,value:g,onValueChange:x,children:p.jsx(Fv,{asChild:!0,...y,orientation:u,dir:b,loop:m,children:p.jsx(De.div,{role:"radiogroup","aria-required":a,"aria-orientation":u,"data-disabled":c?"":void 0,dir:b,...w,ref:t})})})});MP.displayName=Zf;var LP="RadioGroupItem",DP=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,i=$q(LP,n),a=i.disabled||r,c=IP(n),u=OP(n),f=_.useRef(null),m=Je(t,f),h=i.value===o.value,w=_.useRef(!1);return _.useEffect(()=>{const y=g=>{zq.includes(g.key)&&(w.current=!0)},b=()=>w.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",b)}},[]),p.jsx($v,{asChild:!0,...c,focusable:!a,active:h,children:p.jsx(TP,{disabled:a,required:i.required,checked:h,...u,...o,name:i.name,ref:m,onCheck:()=>i.onValueChange(o.value),onKeyDown:Pe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Pe(o.onFocus,()=>{var y;w.current&&((y=f.current)==null||y.click())})})})});DP.displayName=LP;var Uq="RadioGroupIndicator",zP=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=OP(n);return p.jsx(RP,{...o,...r,ref:t})});zP.displayName=Uq;var BP=MP,FP=DP,Hq=zP;const $P=_.forwardRef(({className:e,...t},n)=>p.jsx(BP,{className:Oe("grid gap-2",e),...t,ref:n}));$P.displayName=BP.displayName;const UP=_.forwardRef(({className:e,...t},n)=>p.jsx(FP,{ref:n,className:Oe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(Hq,{className:"flex items-center justify-center",children:p.jsx(Bk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));UP.displayName=FP.displayName;const V2=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],q2=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function Wq(){var h;const{dTag:e}=Iv(),{toast:t}=Fa(),[n,r]=_.useState(!1),[o,i]=_.useState(""),[a,c]=_.useState("locker"),u=V2.find(w=>w.dTag===e)||V2[0],f=w=>w>=1e8?` ${(w/1e8).toFixed(3)}`:w>=1e6?`${(w/1e6).toFixed(2)}M sats`:w>=1e3?`${(w/1e3).toFixed(1)}k sats`:`${w} sats`,m=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),c("locker"),i("")};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[p.jsx(nt,{variant:"ghost",asChild:!0,className:"mb-4",children:p.jsxs(fn,{to:"/marketplace",children:[p.jsx(Dk,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:p.jsx(xd,{className:"h-32 w-32 text-muted-foreground"})}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx(Fn,{className:"mb-2",children:u.category}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:u.title}),p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[p.jsx(Fg,{className:"h-4 w-4"}),p.jsx("span",{children:u.vendor})]})]}),p.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:u.description}),p.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[p.jsx("span",{className:"text-3xl font-bold",children:f(u.price)}),p.jsx(Fn,{variant:u.inStock?"default":"secondary",children:u.inStock?"In Stock":"Out of Stock"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[p.jsx(pF,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),p.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),p.jsx(nt,{size:"lg",className:"w-full",disabled:!u.inStock,onClick:()=>r(!0),children:u.inStock?"Buy Now":"Out of Stock"})]})]})]}),p.jsxs(_t,{className:"mt-12",children:[p.jsx(wn,{children:p.jsx(Bn,{children:"How DeadDropstr Delivery Works"})}),p.jsx(Mt,{children:p.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"1"})}),p.jsx("p",{className:"font-medium",children:"Choose Locker"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"2"})}),p.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"3"})}),p.jsx("p",{className:"font-medium",children:"Vendor Ships"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"4"})}),p.jsx("p",{className:"font-medium",children:"Pick Up"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),p.jsx(Za,{open:n,onOpenChange:r,children:p.jsxs(bi,{className:"max-w-lg",children:[p.jsxs(Ei,{children:[p.jsx(Ga,{children:"Complete Your Order"}),p.jsx(Dc,{children:"Choose a locker location for pickup"})]}),a==="locker"&&p.jsxs("div",{className:"space-y-4",children:[p.jsx($P,{value:o,onValueChange:i,children:p.jsx("div",{className:"space-y-2",children:q2.map(w=>p.jsxs("div",{children:[p.jsx(UP,{value:w.id,id:w.id,className:"peer sr-only"}),p.jsx(tn,{htmlFor:w.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(cF,{className:"h-5 w-5 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:w.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:w.location})]})]})})]},w.id))})}),p.jsx(nt,{className:"w-full",disabled:!o,onClick:()=>c("confirm"),children:"Continue"})]}),a==="confirm"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),p.jsx("p",{className:"font-medium",children:u.title}),p.jsx("p",{className:"text-lg font-bold",children:f(u.price)}),p.jsxs("div",{className:"pt-2 border-t",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),p.jsx("p",{className:"font-medium",children:(h=q2.find(w=>w.id===o))==null?void 0:h.name})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(nt,{variant:"outline",onClick:()=>c("locker"),children:"Back"}),p.jsx(nt,{className:"flex-1",onClick:m,children:"Pay & Place Order"})]})]})]})})]})}function pd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var K2;function Vq(){return K2||(K2=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,o,i){function a(f,m){if(!o[f]){if(!r[f]){var h=typeof pd=="function"&&pd;if(!m&&h)return h(f,!0);if(c)return c(f,!0);var w=new Error("Cannot find module '"+f+"'");throw w.code="MODULE_NOT_FOUND",w}var y=o[f]={exports:{}};r[f][0].call(y.exports,function(b){var g=r[f][1][b];return a(g||b)},y,y.exports,n,r,o,i)}return o[f].exports}for(var c=typeof pd=="function"&&pd,u=0;u<i.length;u++)a(i[u]);return a}({1:[function(n,r,o){var i=n("./utils"),a=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(u){for(var f,m,h,w,y,b,g,x=[],E=0,k=u.length,C=k,A=i.getTypeOf(u)!=="string";E<u.length;)C=k-E,h=A?(f=u[E++],m=E<k?u[E++]:0,E<k?u[E++]:0):(f=u.charCodeAt(E++),m=E<k?u.charCodeAt(E++):0,E<k?u.charCodeAt(E++):0),w=f>>2,y=(3&f)<<4|m>>4,b=1<C?(15&m)<<2|h>>6:64,g=2<C?63&h:64,x.push(c.charAt(w)+c.charAt(y)+c.charAt(b)+c.charAt(g));return x.join("")},o.decode=function(u){var f,m,h,w,y,b,g=0,x=0,E="data:";if(u.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&C--,u.charAt(u.length-2)===c.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=a.uint8array?new Uint8Array(0|C):new Array(0|C);g<u.length;)f=c.indexOf(u.charAt(g++))<<2|(w=c.indexOf(u.charAt(g++)))>>4,m=(15&w)<<4|(y=c.indexOf(u.charAt(g++)))>>2,h=(3&y)<<6|(b=c.indexOf(u.charAt(g++))),k[x++]=f,y!==64&&(k[x++]=m),b!==64&&(k[x++]=h);return k}},{"./support":30,"./utils":32}],2:[function(n,r,o){var i=n("./external"),a=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function f(m,h,w,y,b){this.compressedSize=m,this.uncompressedSize=h,this.crc32=w,this.compression=y,this.compressedContent=b}f.prototype={getContentWorker:function(){var m=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return m.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,h,w){return m.pipe(new c).pipe(new u("uncompressedSize")).pipe(h.compressWorker(w)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var i=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var i=n("./utils"),a=function(){for(var c,u=[],f=0;f<256;f++){c=f;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;u[f]=c}return u}();r.exports=function(c,u){return c!==void 0&&c.length?i.getTypeOf(c)!=="string"?function(f,m,h,w){var y=a,b=w+h;f^=-1;for(var g=w;g<b;g++)f=f>>>8^y[255&(f^m[g])];return-1^f}(0|u,c,c.length,0):function(f,m,h,w){var y=a,b=w+h;f^=-1;for(var g=w;g<b;g++)f=f>>>8^y[255&(f^m.charCodeAt(g))];return-1^f}(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),c=n("./utils"),u=n("./stream/GenericWorker"),f=i?"uint8array":"array";function m(h,w){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=w,this.meta={}}o.magic="\b\0",c.inherits(m,u),m.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(f,h.data),!1)},m.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(w){h.push({data:w,meta:h.meta})}},o.compressWorker=function(h){return new m("Deflate",h)},o.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function i(y,b){var g,x="";for(g=0;g<b;g++)x+=String.fromCharCode(255&y),y>>>=8;return x}function a(y,b,g,x,E,k){var C,A,j=y.file,L=y.compression,D=k!==f.utf8encode,B=c.transformTo("string",k(j.name)),O=c.transformTo("string",f.utf8encode(j.name)),F=j.comment,W=c.transformTo("string",k(F)),M=c.transformTo("string",f.utf8encode(F)),V=O.length!==j.name.length,P=M.length!==F.length,U="",X="",J="",ee=j.dir,K=j.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};b&&!g||(oe.crc32=y.crc32,oe.compressedSize=y.compressedSize,oe.uncompressedSize=y.uncompressedSize);var z=0;b&&(z|=8),D||!V&&!P||(z|=2048);var q=0,ge=0;ee&&(q|=16),E==="UNIX"?(ge=798,q|=function(me,Ae){var we=me;return me||(we=Ae?16893:33204),(65535&we)<<16}(j.unixPermissions,ee)):(ge=20,q|=function(me){return 63&(me||0)}(j.dosPermissions)),C=K.getUTCHours(),C<<=6,C|=K.getUTCMinutes(),C<<=5,C|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),V&&(X=i(1,1)+i(m(B),4)+O,U+="up"+i(X.length,2)+X),P&&(J=i(1,1)+i(m(W),4)+M,U+="uc"+i(J.length,2)+J);var pe="";return pe+=`
\0`,pe+=i(z,2),pe+=L.magic,pe+=i(C,2),pe+=i(A,2),pe+=i(oe.crc32,4),pe+=i(oe.compressedSize,4),pe+=i(oe.uncompressedSize,4),pe+=i(B.length,2),pe+=i(U.length,2),{fileRecord:h.LOCAL_FILE_HEADER+pe+B+U,dirRecord:h.CENTRAL_FILE_HEADER+i(ge,2)+pe+i(W.length,2)+"\0\0\0\0"+i(q,4)+i(x,4)+B+U+W}}var c=n("../utils"),u=n("../stream/GenericWorker"),f=n("../utf8"),m=n("../crc32"),h=n("../signature");function w(y,b,g,x){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=g,this.encodeFileName=x,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,u),w.prototype.push=function(y){var b=y.meta.percent||0,g=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:g?(b+100*(g-x-1))/g:100}}))},w.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var b=this.streamFiles&&!y.file.dir;if(b){var g=a(y,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(y){this.accumulate=!1;var b=this.streamFiles&&!y.file.dir,g=a(y,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),b)this.push({data:function(x){return h.DATA_DESCRIPTOR+i(x.crc32,4)+i(x.compressedSize,4)+i(x.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var y=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var g=this.bytesWritten-y,x=function(E,k,C,A,j){var L=c.transformTo("string",j(A));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(E,2)+i(E,2)+i(k,4)+i(C,4)+i(L.length,2)+L}(this.dirRecords.length,g,y,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(y){this._sources.push(y);var b=this;return y.on("data",function(g){b.processChunk(g)}),y.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),y.on("error",function(g){b.error(g)}),this},w.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(y){var b=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var g=0;g<b.length;g++)try{b[g].error(y)}catch{}return!0},w.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,b=0;b<y.length;b++)y[b].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var i=n("../compressions"),a=n("./ZipFileWorker");o.generateWorker=function(c,u,f){var m=new a(u.streamFiles,f,u.platform,u.encodeFileName),h=0;try{c.forEach(function(w,y){h++;var b=function(k,C){var A=k||C,j=i[A];if(!j)throw new Error(A+" is not a valid compression method !");return j}(y.options.compression,u.compression),g=y.options.compressionOptions||u.compressionOptions||{},x=y.dir,E=y.date;y._compressWorker(b,g).withStreamInfo("file",{name:w,dir:x,date:E,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(m)}),m.entriesCount=h}catch(w){m.error(w)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var c in this)typeof this[c]!="function"&&(a[c]=this[c]);return a}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(a,c){return new i().loadAsync(a,c)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var i=n("./utils"),a=n("./external"),c=n("./utf8"),u=n("./zipEntries"),f=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function h(w){return new a.Promise(function(y,b){var g=w.decompressed.getContentWorker().pipe(new f);g.on("error",function(x){b(x)}).on("end",function(){g.streamInfo.crc32!==w.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(w,y){var b=this;return y=i.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(w)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",w,!0,y.optimizedBinaryString,y.base64).then(function(g){var x=new u(y);return x.load(g),x}).then(function(g){var x=[a.Promise.resolve(g)],E=g.files;if(y.checkCRC32)for(var k=0;k<E.length;k++)x.push(h(E[k]));return a.Promise.all(x)}).then(function(g){for(var x=g.shift(),E=x.files,k=0;k<E.length;k++){var C=E[k],A=C.fileNameStr,j=i.resolve(C.fileNameStr);b.file(j,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:y.createFolders}),C.dir||(b.file(j).unsafeOriginalName=A)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var i=n("../utils"),a=n("../stream/GenericWorker");function c(u,f){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}i.inherits(c,a),c.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},c.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var i=n("readable-stream").Readable;function a(c,u,f){i.call(this,u),this._helper=c;var m=this;c.on("data",function(h,w){m.push(h)||m._helper.pause(),f&&f(w)}).on("error",function(h){m.emit("error",h)}).on("end",function(){m.push(null)})}n("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,o){function i(j,L,D){var B,O=c.getTypeOf(L),F=c.extend(D||{},m);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(j=E(j)),F.createFolders&&(B=x(j))&&k.call(this,B,!0);var W=O==="string"&&F.binary===!1&&F.base64===!1;D&&D.binary!==void 0||(F.binary=!W),(L instanceof h&&L.uncompressedSize===0||F.dir||!L||L.length===0)&&(F.base64=!1,F.binary=!0,L="",F.compression="STORE",O="string");var M=null;M=L instanceof h||L instanceof u?L:b.isNode&&b.isStream(L)?new g(j,L):c.prepareContent(j,L,F.binary,F.optimizedBinaryString,F.base64);var V=new w(j,M,F);this.files[j]=V}var a=n("./utf8"),c=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),m=n("./defaults"),h=n("./compressedObject"),w=n("./zipObject"),y=n("./generate"),b=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),x=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var L=j.lastIndexOf("/");return 0<L?j.substring(0,L):""},E=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},k=function(j,L){return L=L!==void 0?L:m.createFolders,j=E(j),this.files[j]||i.call(this,j,null,{dir:!0,createFolders:L}),this.files[j]};function C(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var L,D,B;for(L in this.files)B=this.files[L],(D=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&j(D,B)},filter:function(j){var L=[];return this.forEach(function(D,B){j(D,B)&&L.push(B)}),L},file:function(j,L,D){if(arguments.length!==1)return j=this.root+j,i.call(this,j,L,D),this;if(C(j)){var B=j;return this.filter(function(F,W){return!W.dir&&B.test(F)})}var O=this.files[this.root+j];return O&&!O.dir?O:null},folder:function(j){if(!j)return this;if(C(j))return this.filter(function(O,F){return F.dir&&j.test(O)});var L=this.root+j,D=k.call(this,L),B=this.clone();return B.root=D.name,B},remove:function(j){j=this.root+j;var L=this.files[j];if(L||(j.slice(-1)!=="/"&&(j+="/"),L=this.files[j]),L&&!L.dir)delete this.files[j];else for(var D=this.filter(function(O,F){return F.name.slice(0,j.length)===j}),B=0;B<D.length;B++)delete this.files[D[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var L,D={};try{if((D=c.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");c.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var B=D.comment||this.comment||"";L=y.generateWorker(this,D,B)}catch(O){(L=new u("error")).error(O)}return new f(L,D.type||"string",D.mimeType)},generateAsync:function(j,L){return this.generateInternalStream(j).accumulate(L)},generateNodeStream:function(j,L){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(L)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var i=n("./DataReader");function a(c){i.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}n("../utils").inherits(a,i),a.prototype.byteAt=function(c){return this.data[this.zero+c]},a.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),f=c.charCodeAt(1),m=c.charCodeAt(2),h=c.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===u&&this.data[w+1]===f&&this.data[w+2]===m&&this.data[w+3]===h)return w-this.zero;return-1},a.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),f=c.charCodeAt(1),m=c.charCodeAt(2),h=c.charCodeAt(3),w=this.readData(4);return u===w[0]&&f===w[1]&&m===w[2]&&h===w[3]},a.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var i=n("../utils");function a(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,f=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=c,f},readString:function(c){return i.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,o){var i=n("./Uint8ArrayReader");function a(c){i.call(this,c)}n("../utils").inherits(a,i),a.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var i=n("./DataReader");function a(c){i.call(this,c)}n("../utils").inherits(a,i),a.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},a.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},a.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},a.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var i=n("./ArrayReader");function a(c){i.call(this,c)}n("../utils").inherits(a,i),a.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var i=n("../utils"),a=n("../support"),c=n("./ArrayReader"),u=n("./StringReader"),f=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");r.exports=function(h){var w=i.getTypeOf(h);return i.checkSupport(w),w!=="string"||a.uint8array?w==="nodebuffer"?new f(h):a.uint8array?new m(i.transformTo("uint8array",h)):new c(i.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var i=n("./GenericWorker"),a=n("../utils");function c(u){i.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(c,i),c.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var i=n("./GenericWorker"),a=n("../crc32");function c(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,i),c.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var i=n("../utils"),a=n("./GenericWorker");function c(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(c,a),c.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}a.prototype.processChunk.call(this,u)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var i=n("../utils"),a=n("./GenericWorker");function c(u){a.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=i.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}i.inherits(c,a),c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,c){return this._listeners[a].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,c){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,c)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var c=this;return a.on("data",function(u){c.processChunk(u)}),a.on("end",function(){c.end()}),a.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,c){return this.extraStreamInfo[a]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=i},{}],29:[function(n,r,o){var i=n("../utils"),a=n("./ConvertWorker"),c=n("./GenericWorker"),u=n("../base64"),f=n("../support"),m=n("../external"),h=null;if(f.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(b,g){return new m.Promise(function(x,E){var k=[],C=b._internalType,A=b._outputType,j=b._mimeType;b.on("data",function(L,D){k.push(L),g&&g(D)}).on("error",function(L){k=[],E(L)}).on("end",function(){try{var L=function(D,B,O){switch(D){case"blob":return i.newBlob(i.transformTo("arraybuffer",B),O);case"base64":return u.encode(B);default:return i.transformTo(D,B)}}(A,function(D,B){var O,F=0,W=null,M=0;for(O=0;O<B.length;O++)M+=B[O].length;switch(D){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(W=new Uint8Array(M),O=0;O<B.length;O++)W.set(B[O],F),F+=B[O].length;return W;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+D+"'")}}(C,k),j);x(L)}catch(D){E(D)}k=[]}).resume()})}function y(b,g,x){var E=g;switch(g){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=g,this._mimeType=x,i.checkSupport(E),this._worker=b.pipe(new a(E)),b.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}y.prototype={accumulate:function(b){return w(this,b)},on:function(b,g){var x=this;return b==="data"?this._worker.on(b,function(E){g.call(x,E.data,E.meta)}):this._worker.on(b,function(){i.delay(g,arguments,x)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),o.blob=a.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var i=n("./utils"),a=n("./support"),c=n("./nodejsUtils"),u=n("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function w(){u.call(this,"utf-8 encode")}o.utf8encode=function(y){return a.nodebuffer?c.newBufferFrom(y,"utf-8"):function(b){var g,x,E,k,C,A=b.length,j=0;for(k=0;k<A;k++)(64512&(x=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(E=b.charCodeAt(k+1)))==56320&&(x=65536+(x-55296<<10)+(E-56320),k++),j+=x<128?1:x<2048?2:x<65536?3:4;for(g=a.uint8array?new Uint8Array(j):new Array(j),k=C=0;C<j;k++)(64512&(x=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(E=b.charCodeAt(k+1)))==56320&&(x=65536+(x-55296<<10)+(E-56320),k++),x<128?g[C++]=x:(x<2048?g[C++]=192|x>>>6:(x<65536?g[C++]=224|x>>>12:(g[C++]=240|x>>>18,g[C++]=128|x>>>12&63),g[C++]=128|x>>>6&63),g[C++]=128|63&x);return g}(y)},o.utf8decode=function(y){return a.nodebuffer?i.transformTo("nodebuffer",y).toString("utf-8"):function(b){var g,x,E,k,C=b.length,A=new Array(2*C);for(g=x=0;g<C;)if((E=b[g++])<128)A[x++]=E;else if(4<(k=f[E]))A[x++]=65533,g+=k-1;else{for(E&=k===2?31:k===3?15:7;1<k&&g<C;)E=E<<6|63&b[g++],k--;1<k?A[x++]=65533:E<65536?A[x++]=E:(E-=65536,A[x++]=55296|E>>10&1023,A[x++]=56320|1023&E)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),i.applyFromCharCode(A)}(y=i.transformTo(a.uint8array?"uint8array":"array",y))},i.inherits(h,u),h.prototype.processChunk=function(y){var b=i.transformTo(a.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=b;(b=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),b.set(g,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=function(k,C){var A;for((C=C||k.length)>k.length&&(C=k.length),A=C-1;0<=A&&(192&k[A])==128;)A--;return A<0||A===0?C:A+f[k[A]]>C?A:C}(b),E=b;x!==b.length&&(a.uint8array?(E=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(E=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:o.utf8decode(E),meta:y.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,i.inherits(w,u),w.prototype.processChunk=function(y){this.push({data:o.utf8encode(y.data),meta:y.meta})},o.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var i=n("./support"),a=n("./base64"),c=n("./nodejsUtils"),u=n("./external");function f(g){return g}function m(g,x){for(var E=0;E<g.length;++E)x[E]=255&g.charCodeAt(E);return x}n("setimmediate"),o.newBlob=function(g,x){o.checkSupport("blob");try{return new Blob([g],{type:x})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(g),E.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,x,E){var k=[],C=0,A=g.length;if(A<=E)return String.fromCharCode.apply(null,g);for(;C<A;)x==="array"||x==="nodebuffer"?k.push(String.fromCharCode.apply(null,g.slice(C,Math.min(C+E,A)))):k.push(String.fromCharCode.apply(null,g.subarray(C,Math.min(C+E,A)))),C+=E;return k.join("")},stringifyByChar:function(g){for(var x="",E=0;E<g.length;E++)x+=String.fromCharCode(g[E]);return x},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function w(g){var x=65536,E=o.getTypeOf(g),k=!0;if(E==="uint8array"?k=h.applyCanBeUsed.uint8array:E==="nodebuffer"&&(k=h.applyCanBeUsed.nodebuffer),k)for(;1<x;)try{return h.stringifyByChunk(g,E,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(g)}function y(g,x){for(var E=0;E<g.length;E++)x[E]=g[E];return x}o.applyFromCharCode=w;var b={};b.string={string:f,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return b.string.uint8array(g).buffer},uint8array:function(g){return m(g,new Uint8Array(g.length))},nodebuffer:function(g){return m(g,c.allocBuffer(g.length))}},b.array={string:w,array:f,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(g)}},b.arraybuffer={string:function(g){return w(new Uint8Array(g))},array:function(g){return y(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:f,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(new Uint8Array(g))}},b.uint8array={string:w,array:function(g){return y(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:f,nodebuffer:function(g){return c.newBufferFrom(g)}},b.nodebuffer={string:w,array:function(g){return y(g,new Array(g.length))},arraybuffer:function(g){return b.nodebuffer.uint8array(g).buffer},uint8array:function(g){return y(g,new Uint8Array(g.length))},nodebuffer:f},o.transformTo=function(g,x){if(x=x||"",!g)return x;o.checkSupport(g);var E=o.getTypeOf(x);return b[E][g](x)},o.resolve=function(g){for(var x=g.split("/"),E=[],k=0;k<x.length;k++){var C=x[k];C==="."||C===""&&k!==0&&k!==x.length-1||(C===".."?E.pop():E.push(C))}return E.join("/")},o.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&c.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(g){var x,E,k="";for(E=0;E<(g||"").length;E++)k+="\\x"+((x=g.charCodeAt(E))<16?"0":"")+x.toString(16).toUpperCase();return k},o.delay=function(g,x,E){setImmediate(function(){g.apply(E||null,x||[])})},o.inherits=function(g,x){function E(){}E.prototype=x.prototype,g.prototype=new E},o.extend=function(){var g,x,E={};for(g=0;g<arguments.length;g++)for(x in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],x)&&E[x]===void 0&&(E[x]=arguments[g][x]);return E},o.prepareContent=function(g,x,E,k,C){return u.Promise.resolve(x).then(function(A){return i.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(j,L){var D=new FileReader;D.onload=function(B){j(B.target.result)},D.onerror=function(B){L(B.target.error)},D.readAsArrayBuffer(A)}):A}).then(function(A){var j=o.getTypeOf(A);return j?(j==="arraybuffer"?A=o.transformTo("uint8array",A):j==="string"&&(C?A=a.decode(A):E&&k!==!0&&(A=function(L){return m(L,i.uint8array?new Uint8Array(L.length):new Array(L.length))}(A))),A):u.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var i=n("./reader/readerFor"),a=n("./utils"),c=n("./signature"),u=n("./zipEntry"),f=n("./support");function m(h){this.files=[],this.loadOptions=h}m.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(w)+", expected "+a.pretty(h)+")")}},isSignature:function(h,w){var y=this.reader.index;this.reader.setIndex(h);var b=this.reader.readString(4)===w;return this.reader.setIndex(y),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),w=f.uint8array?"uint8array":"array",y=a.transformTo(w,h);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,w,y,b=this.zip64EndOfCentralSize-44;0<b;)h=this.reader.readInt(2),w=this.reader.readInt(4),y=this.reader.readData(w),this.zip64ExtensibleData[h]={id:h,length:w,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,w;for(h=0;h<this.files.length;h++)w=this.files[h],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var w=h;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var b=w-y;if(0<b)this.isSignature(w,c.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var i=n("./reader/readerFor"),a=n("./utils"),c=n("./compressedObject"),u=n("./crc32"),f=n("./utf8"),m=n("./compressions"),h=n("./support");function w(y,b){this.options=y,this.loadOptions=b}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var b,g;if(y.skip(22),this.fileNameLength=y.readInt(2),g=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(x){for(var E in m)if(Object.prototype.hasOwnProperty.call(m,E)&&m[E].magic===x)return m[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,b,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var b=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(b),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var b,g,x,E=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<E;)b=y.readInt(2),g=y.readInt(2),x=y.readData(g),this.extraFields[b]={id:b,length:g,value:x};y.setIndex(E)},handleUTF8:function(){var y=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var g=a.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var E=a.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var b=i(y.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var b=i(y.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(y.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function i(b,g,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=g,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),m=n("./stream/GenericWorker");i.prototype={internalStream:function(b){var g=null,x="string";try{if(!b)throw new Error("No output type specified.");var E=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),g=this._decompressWorker();var k=!this._dataBinary;k&&!E&&(g=g.pipe(new u.Utf8EncodeWorker)),!k&&E&&(g=g.pipe(new u.Utf8DecodeWorker))}catch(C){(g=new m("error")).error(C)}return new a(g,x,"")},async:function(b,g){return this.internalStream(b).accumulate(g)},nodeStream:function(b,g){return this.internalStream(b||"nodebuffer").toNodejsStream(g)},_compressWorker:function(b,g){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(x,b,g)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<h.length;y++)i.prototype[h[y]]=w;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(i){var a,c,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var f=0,m=new u(b),h=i.document.createTextNode("");m.observe(h,{characterData:!0}),a=function(){h.data=f=++f%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){b(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(b,0)};else{var w=new i.MessageChannel;w.port1.onmessage=b,a=function(){w.port2.postMessage(0)}}var y=[];function b(){var g,x;c=!0;for(var E=y.length;E;){for(x=y,y=[],g=-1;++g<E;)x[g]();E=y.length}c=!1}r.exports=function(g){y.push(g)!==1||c||a()}}).call(this,typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var i=n("immediate");function a(){}var c={},u=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function h(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,E!==a&&g(this,E)}function w(E,k,C){this.promise=E,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function y(E,k,C){i(function(){var A;try{A=k(C)}catch(j){return c.reject(E,j)}A===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,A)})}function b(E){var k=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof k=="function")return function(){k.apply(E,arguments)}}function g(E,k){var C=!1;function A(D){C||(C=!0,c.reject(E,D))}function j(D){C||(C=!0,c.resolve(E,D))}var L=x(function(){k(j,A)});L.status==="error"&&A(L.value)}function x(E,k){var C={};try{C.value=E(k),C.status="success"}catch(A){C.status="error",C.value=A}return C}(r.exports=h).prototype.finally=function(E){if(typeof E!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(E()).then(function(){return C})},function(C){return k.resolve(E()).then(function(){throw C})})},h.prototype.catch=function(E){return this.then(null,E)},h.prototype.then=function(E,k){if(typeof E!="function"&&this.state===f||typeof k!="function"&&this.state===u)return this;var C=new this.constructor(a);return this.state!==m?y(C,this.state===f?E:k,this.outcome):this.queue.push(new w(C,E,k)),C},w.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},w.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},w.prototype.callRejected=function(E){c.reject(this.promise,E)},w.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)},c.resolve=function(E,k){var C=x(b,k);if(C.status==="error")return c.reject(E,C.value);var A=C.value;if(A)g(E,A);else{E.state=f,E.outcome=k;for(var j=-1,L=E.queue.length;++j<L;)E.queue[j].callFulfilled(k)}return E},c.reject=function(E,k){E.state=u,E.outcome=k;for(var C=-1,A=E.queue.length;++C<A;)E.queue[C].callRejected(k);return E},h.resolve=function(E){return E instanceof this?E:c.resolve(new this(a),E)},h.reject=function(E){var k=new this(a);return c.reject(k,E)},h.all=function(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,A=!1;if(!C)return this.resolve([]);for(var j=new Array(C),L=0,D=-1,B=new this(a);++D<C;)O(E[D],D);return B;function O(F,W){k.resolve(F).then(function(M){j[W]=M,++L!==C||A||(A=!0,c.resolve(B,j))},function(M){A||(A=!0,c.reject(B,M))})}},h.race=function(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,A=!1;if(!C)return this.resolve([]);for(var j=-1,L=new this(a);++j<C;)D=E[j],k.resolve(D).then(function(B){A||(A=!0,c.resolve(L,B))},function(B){A||(A=!0,c.reject(L,B))});var D;return L}},{immediate:36}],38:[function(n,r,o){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var i=n("./zlib/deflate"),a=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/messages"),f=n("./zlib/zstream"),m=Object.prototype.toString,h=0,w=-1,y=0,b=8;function g(E){if(!(this instanceof g))return new g(E);this.options=a.assign({level:w,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},E||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=i.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==h)throw new Error(u[C]);if(k.header&&i.deflateSetHeader(this.strm,k.header),k.dictionary){var A;if(A=typeof k.dictionary=="string"?c.string2buf(k.dictionary):m.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=i.deflateSetDictionary(this.strm,A))!==h)throw new Error(u[C]);this._dict_set=!0}}function x(E,k){var C=new g(k);if(C.push(E,!0),C.err)throw C.msg||u[C.err];return C.result}g.prototype.push=function(E,k){var C,A,j=this.strm,L=this.options.chunkSize;if(this.ended)return!1;A=k===~~k?k:k===!0?4:0,typeof E=="string"?j.input=c.string2buf(E):m.call(E)==="[object ArrayBuffer]"?j.input=new Uint8Array(E):j.input=E,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new a.Buf8(L),j.next_out=0,j.avail_out=L),(C=i.deflate(j,A))!==1&&C!==h)return this.onEnd(C),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(a.shrinkBuf(j.output,j.next_out))):this.onData(a.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&C!==1);return A===4?(C=i.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===h):A!==2||(this.onEnd(h),!(j.avail_out=0))},g.prototype.onData=function(E){this.chunks.push(E)},g.prototype.onEnd=function(E){E===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},o.Deflate=g,o.deflate=x,o.deflateRaw=function(E,k){return(k=k||{}).raw=!0,x(E,k)},o.gzip=function(E,k){return(k=k||{}).gzip=!0,x(E,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var i=n("./zlib/inflate"),a=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/constants"),f=n("./zlib/messages"),m=n("./zlib/zstream"),h=n("./zlib/gzheader"),w=Object.prototype.toString;function y(g){if(!(this instanceof y))return new y(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||g&&g.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var E=i.inflateInit2(this.strm,x.windowBits);if(E!==u.Z_OK)throw new Error(f[E]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function b(g,x){var E=new y(x);if(E.push(g,!0),E.err)throw E.msg||f[E.err];return E.result}y.prototype.push=function(g,x){var E,k,C,A,j,L,D=this.strm,B=this.options.chunkSize,O=this.options.dictionary,F=!1;if(this.ended)return!1;k=x===~~x?x:x===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof g=="string"?D.input=c.binstring2buf(g):w.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(B),D.next_out=0,D.avail_out=B),(E=i.inflate(D,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&O&&(L=typeof O=="string"?c.string2buf(O):w.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,E=i.inflateSetDictionary(this.strm,L)),E===u.Z_BUF_ERROR&&F===!0&&(E=u.Z_OK,F=!1),E!==u.Z_STREAM_END&&E!==u.Z_OK)return this.onEnd(E),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&E!==u.Z_STREAM_END&&(D.avail_in!==0||k!==u.Z_FINISH&&k!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=c.utf8border(D.output,D.next_out),A=D.next_out-C,j=c.buf2string(D.output,C),D.next_out=A,D.avail_out=B-A,A&&a.arraySet(D.output,D.output,C,A,0),this.onData(j)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(F=!0)}while((0<D.avail_in||D.avail_out===0)&&E!==u.Z_STREAM_END);return E===u.Z_STREAM_END&&(k=u.Z_FINISH),k===u.Z_FINISH?(E=i.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===u.Z_OK):k!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(D.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Inflate=y,o.inflate=b,o.inflateRaw=function(g,x){return(x=x||{}).raw=!0,b(g,x)},o.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var h in m)m.hasOwnProperty(h)&&(u[h]=m[h])}}return u},o.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var a={arraySet:function(u,f,m,h,w){if(f.subarray&&u.subarray)u.set(f.subarray(m,m+h),w);else for(var y=0;y<h;y++)u[w+y]=f[m+y]},flattenChunks:function(u){var f,m,h,w,y,b;for(f=h=0,m=u.length;f<m;f++)h+=u[f].length;for(b=new Uint8Array(h),f=w=0,m=u.length;f<m;f++)y=u[f],b.set(y,w),w+=y.length;return b}},c={arraySet:function(u,f,m,h,w){for(var y=0;y<h;y++)u[w+y]=f[m+y]},flattenChunks:function(u){return[].concat.apply([],u)}};o.setTyped=function(u){u?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(i)},{}],42:[function(n,r,o){var i=n("./common"),a=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new i.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(h,w){if(w<65537&&(h.subarray&&c||!h.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(h,w));for(var y="",b=0;b<w;b++)y+=String.fromCharCode(h[b]);return y}u[254]=u[254]=1,o.string2buf=function(h){var w,y,b,g,x,E=h.length,k=0;for(g=0;g<E;g++)(64512&(y=h.charCodeAt(g)))==55296&&g+1<E&&(64512&(b=h.charCodeAt(g+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),g++),k+=y<128?1:y<2048?2:y<65536?3:4;for(w=new i.Buf8(k),g=x=0;x<k;g++)(64512&(y=h.charCodeAt(g)))==55296&&g+1<E&&(64512&(b=h.charCodeAt(g+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),g++),y<128?w[x++]=y:(y<2048?w[x++]=192|y>>>6:(y<65536?w[x++]=224|y>>>12:(w[x++]=240|y>>>18,w[x++]=128|y>>>12&63),w[x++]=128|y>>>6&63),w[x++]=128|63&y);return w},o.buf2binstring=function(h){return m(h,h.length)},o.binstring2buf=function(h){for(var w=new i.Buf8(h.length),y=0,b=w.length;y<b;y++)w[y]=h.charCodeAt(y);return w},o.buf2string=function(h,w){var y,b,g,x,E=w||h.length,k=new Array(2*E);for(y=b=0;y<E;)if((g=h[y++])<128)k[b++]=g;else if(4<(x=u[g]))k[b++]=65533,y+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&y<E;)g=g<<6|63&h[y++],x--;1<x?k[b++]=65533:g<65536?k[b++]=g:(g-=65536,k[b++]=55296|g>>10&1023,k[b++]=56320|1023&g)}return m(k,b)},o.utf8border=function(h,w){var y;for((w=w||h.length)>h.length&&(w=h.length),y=w-1;0<=y&&(192&h[y])==128;)y--;return y<0||y===0?w:y+u[h[y]]>w?y:w}},{"./common":41}],43:[function(n,r,o){r.exports=function(i,a,c,u){for(var f=65535&i|0,m=i>>>16&65535|0,h=0;c!==0;){for(c-=h=2e3<c?2e3:c;m=m+(f=f+a[u++]|0)|0,--h;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var i=function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c}();r.exports=function(a,c,u,f){var m=i,h=f+u;a^=-1;for(var w=f;w<h;w++)a=a>>>8^m[255&(a^c[w])];return-1^a}},{}],46:[function(n,r,o){var i,a=n("../utils/common"),c=n("./trees"),u=n("./adler32"),f=n("./crc32"),m=n("./messages"),h=0,w=4,y=0,b=-2,g=-1,x=4,E=2,k=8,C=9,A=286,j=30,L=19,D=2*A+1,B=15,O=3,F=258,W=F+O+1,M=42,V=113,P=1,U=2,X=3,J=4;function ee(I,ye){return I.msg=m[ye],ye}function K(I){return(I<<1)-(4<I?9:0)}function oe(I){for(var ye=I.length;0<=--ye;)I[ye]=0}function z(I){var ye=I.state,de=ye.pending;de>I.avail_out&&(de=I.avail_out),de!==0&&(a.arraySet(I.output,ye.pending_buf,ye.pending_out,de,I.next_out),I.next_out+=de,ye.pending_out+=de,I.total_out+=de,I.avail_out-=de,ye.pending-=de,ye.pending===0&&(ye.pending_out=0))}function q(I,ye){c._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ye),I.block_start=I.strstart,z(I.strm)}function ge(I,ye){I.pending_buf[I.pending++]=ye}function pe(I,ye){I.pending_buf[I.pending++]=ye>>>8&255,I.pending_buf[I.pending++]=255&ye}function me(I,ye){var de,Y,G=I.max_chain_length,ie=I.strstart,be=I.prev_length,Ee=I.nice_match,ae=I.strstart>I.w_size-W?I.strstart-(I.w_size-W):0,Te=I.window,Le=I.w_mask,Ne=I.prev,qe=I.strstart+F,H=Te[ie+be-1],N=Te[ie+be];I.prev_length>=I.good_match&&(G>>=2),Ee>I.lookahead&&(Ee=I.lookahead);do if(Te[(de=ye)+be]===N&&Te[de+be-1]===H&&Te[de]===Te[ie]&&Te[++de]===Te[ie+1]){ie+=2,de++;do;while(Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&ie<qe);if(Y=F-(qe-ie),ie=qe-F,be<Y){if(I.match_start=ye,Ee<=(be=Y))break;H=Te[ie+be-1],N=Te[ie+be]}}while((ye=Ne[ye&Le])>ae&&--G!=0);return be<=I.lookahead?be:I.lookahead}function Ae(I){var ye,de,Y,G,ie,be,Ee,ae,Te,Le,Ne=I.w_size;do{if(G=I.window_size-I.lookahead-I.strstart,I.strstart>=Ne+(Ne-W)){for(a.arraySet(I.window,I.window,Ne,Ne,0),I.match_start-=Ne,I.strstart-=Ne,I.block_start-=Ne,ye=de=I.hash_size;Y=I.head[--ye],I.head[ye]=Ne<=Y?Y-Ne:0,--de;);for(ye=de=Ne;Y=I.prev[--ye],I.prev[ye]=Ne<=Y?Y-Ne:0,--de;);G+=Ne}if(I.strm.avail_in===0)break;if(be=I.strm,Ee=I.window,ae=I.strstart+I.lookahead,Te=G,Le=void 0,Le=be.avail_in,Te<Le&&(Le=Te),de=Le===0?0:(be.avail_in-=Le,a.arraySet(Ee,be.input,be.next_in,Le,ae),be.state.wrap===1?be.adler=u(be.adler,Ee,Le,ae):be.state.wrap===2&&(be.adler=f(be.adler,Ee,Le,ae)),be.next_in+=Le,be.total_in+=Le,Le),I.lookahead+=de,I.lookahead+I.insert>=O)for(ie=I.strstart-I.insert,I.ins_h=I.window[ie],I.ins_h=(I.ins_h<<I.hash_shift^I.window[ie+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[ie+O-1])&I.hash_mask,I.prev[ie&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ie,ie++,I.insert--,!(I.lookahead+I.insert<O)););}while(I.lookahead<W&&I.strm.avail_in!==0)}function we(I,ye){for(var de,Y;;){if(I.lookahead<W){if(Ae(I),I.lookahead<W&&ye===h)return P;if(I.lookahead===0)break}if(de=0,I.lookahead>=O&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,de=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),de!==0&&I.strstart-de<=I.w_size-W&&(I.match_length=me(I,de)),I.match_length>=O)if(Y=c._tr_tally(I,I.strstart-I.match_start,I.match_length-O),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=O){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,de=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else Y=c._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(Y&&(q(I,!1),I.strm.avail_out===0))return P}return I.insert=I.strstart<O-1?I.strstart:O-1,ye===w?(q(I,!0),I.strm.avail_out===0?X:J):I.last_lit&&(q(I,!1),I.strm.avail_out===0)?P:U}function xe(I,ye){for(var de,Y,G;;){if(I.lookahead<W){if(Ae(I),I.lookahead<W&&ye===h)return P;if(I.lookahead===0)break}if(de=0,I.lookahead>=O&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,de=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=O-1,de!==0&&I.prev_length<I.max_lazy_match&&I.strstart-de<=I.w_size-W&&(I.match_length=me(I,de),I.match_length<=5&&(I.strategy===1||I.match_length===O&&4096<I.strstart-I.match_start)&&(I.match_length=O-1)),I.prev_length>=O&&I.match_length<=I.prev_length){for(G=I.strstart+I.lookahead-O,Y=c._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-O),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=G&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,de=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=O-1,I.strstart++,Y&&(q(I,!1),I.strm.avail_out===0))return P}else if(I.match_available){if((Y=c._tr_tally(I,0,I.window[I.strstart-1]))&&q(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return P}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(Y=c._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<O-1?I.strstart:O-1,ye===w?(q(I,!0),I.strm.avail_out===0?X:J):I.last_lit&&(q(I,!1),I.strm.avail_out===0)?P:U}function Se(I,ye,de,Y,G){this.good_length=I,this.max_lazy=ye,this.nice_length=de,this.max_chain=Y,this.func=G}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*j+1)),this.bl_tree=new a.Buf16(2*(2*L+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(B+1),this.heap=new a.Buf16(2*A+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(I){var ye;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=E,(ye=I.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?M:V,I.adler=ye.wrap===2?0:1,ye.last_flush=h,c._tr_init(ye),y):ee(I,b)}function Ke(I){var ye=Ue(I);return ye===y&&function(de){de.window_size=2*de.w_size,oe(de.head),de.max_lazy_match=i[de.level].max_lazy,de.good_match=i[de.level].good_length,de.nice_match=i[de.level].nice_length,de.max_chain_length=i[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=O-1,de.match_available=0,de.ins_h=0}(I.state),ye}function Ye(I,ye,de,Y,G,ie){if(!I)return b;var be=1;if(ye===g&&(ye=6),Y<0?(be=0,Y=-Y):15<Y&&(be=2,Y-=16),G<1||C<G||de!==k||Y<8||15<Y||ye<0||9<ye||ie<0||x<ie)return ee(I,b);Y===8&&(Y=9);var Ee=new je;return(I.state=Ee).strm=I,Ee.wrap=be,Ee.gzhead=null,Ee.w_bits=Y,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=G+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+O-1)/O),Ee.window=new a.Buf8(2*Ee.w_size),Ee.head=new a.Buf16(Ee.hash_size),Ee.prev=new a.Buf16(Ee.w_size),Ee.lit_bufsize=1<<G+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new a.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=ye,Ee.strategy=ie,Ee.method=de,Ke(I)}i=[new Se(0,0,0,0,function(I,ye){var de=65535;for(de>I.pending_buf_size-5&&(de=I.pending_buf_size-5);;){if(I.lookahead<=1){if(Ae(I),I.lookahead===0&&ye===h)return P;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var Y=I.block_start+de;if((I.strstart===0||I.strstart>=Y)&&(I.lookahead=I.strstart-Y,I.strstart=Y,q(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-W&&(q(I,!1),I.strm.avail_out===0))return P}return I.insert=0,ye===w?(q(I,!0),I.strm.avail_out===0?X:J):(I.strstart>I.block_start&&(q(I,!1),I.strm.avail_out),P)}),new Se(4,4,8,4,we),new Se(4,5,16,8,we),new Se(4,6,32,32,we),new Se(4,4,16,16,xe),new Se(8,16,32,32,xe),new Se(8,16,128,128,xe),new Se(8,32,128,256,xe),new Se(32,128,258,1024,xe),new Se(32,258,258,4096,xe)],o.deflateInit=function(I,ye){return Ye(I,ye,k,15,8,0)},o.deflateInit2=Ye,o.deflateReset=Ke,o.deflateResetKeep=Ue,o.deflateSetHeader=function(I,ye){return I&&I.state?I.state.wrap!==2?b:(I.state.gzhead=ye,y):b},o.deflate=function(I,ye){var de,Y,G,ie;if(!I||!I.state||5<ye||ye<0)return I?ee(I,b):b;if(Y=I.state,!I.output||!I.input&&I.avail_in!==0||Y.status===666&&ye!==w)return ee(I,I.avail_out===0?-5:b);if(Y.strm=I,de=Y.last_flush,Y.last_flush=ye,Y.status===M)if(Y.wrap===2)I.adler=0,ge(Y,31),ge(Y,139),ge(Y,8),Y.gzhead?(ge(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),ge(Y,255&Y.gzhead.time),ge(Y,Y.gzhead.time>>8&255),ge(Y,Y.gzhead.time>>16&255),ge(Y,Y.gzhead.time>>24&255),ge(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),ge(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(ge(Y,255&Y.gzhead.extra.length),ge(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(I.adler=f(I.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(ge(Y,0),ge(Y,0),ge(Y,0),ge(Y,0),ge(Y,0),ge(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),ge(Y,3),Y.status=V);else{var be=k+(Y.w_bits-8<<4)<<8;be|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(be|=32),be+=31-be%31,Y.status=V,pe(Y,be),Y.strstart!==0&&(pe(Y,I.adler>>>16),pe(Y,65535&I.adler)),I.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(G=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>G&&(I.adler=f(I.adler,Y.pending_buf,Y.pending-G,G)),z(I),G=Y.pending,Y.pending!==Y.pending_buf_size));)ge(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>G&&(I.adler=f(I.adler,Y.pending_buf,Y.pending-G,G)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){G=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>G&&(I.adler=f(I.adler,Y.pending_buf,Y.pending-G,G)),z(I),G=Y.pending,Y.pending===Y.pending_buf_size)){ie=1;break}ie=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,ge(Y,ie)}while(ie!==0);Y.gzhead.hcrc&&Y.pending>G&&(I.adler=f(I.adler,Y.pending_buf,Y.pending-G,G)),ie===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){G=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>G&&(I.adler=f(I.adler,Y.pending_buf,Y.pending-G,G)),z(I),G=Y.pending,Y.pending===Y.pending_buf_size)){ie=1;break}ie=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,ge(Y,ie)}while(ie!==0);Y.gzhead.hcrc&&Y.pending>G&&(I.adler=f(I.adler,Y.pending_buf,Y.pending-G,G)),ie===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&z(I),Y.pending+2<=Y.pending_buf_size&&(ge(Y,255&I.adler),ge(Y,I.adler>>8&255),I.adler=0,Y.status=V)):Y.status=V),Y.pending!==0){if(z(I),I.avail_out===0)return Y.last_flush=-1,y}else if(I.avail_in===0&&K(ye)<=K(de)&&ye!==w)return ee(I,-5);if(Y.status===666&&I.avail_in!==0)return ee(I,-5);if(I.avail_in!==0||Y.lookahead!==0||ye!==h&&Y.status!==666){var Ee=Y.strategy===2?function(ae,Te){for(var Le;;){if(ae.lookahead===0&&(Ae(ae),ae.lookahead===0)){if(Te===h)return P;break}if(ae.match_length=0,Le=c._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,Le&&(q(ae,!1),ae.strm.avail_out===0))return P}return ae.insert=0,Te===w?(q(ae,!0),ae.strm.avail_out===0?X:J):ae.last_lit&&(q(ae,!1),ae.strm.avail_out===0)?P:U}(Y,ye):Y.strategy===3?function(ae,Te){for(var Le,Ne,qe,H,N=ae.window;;){if(ae.lookahead<=F){if(Ae(ae),ae.lookahead<=F&&Te===h)return P;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=O&&0<ae.strstart&&(Ne=N[qe=ae.strstart-1])===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]){H=ae.strstart+F;do;while(Ne===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]&&Ne===N[++qe]&&qe<H);ae.match_length=F-(H-qe),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=O?(Le=c._tr_tally(ae,1,ae.match_length-O),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(Le=c._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),Le&&(q(ae,!1),ae.strm.avail_out===0))return P}return ae.insert=0,Te===w?(q(ae,!0),ae.strm.avail_out===0?X:J):ae.last_lit&&(q(ae,!1),ae.strm.avail_out===0)?P:U}(Y,ye):i[Y.level].func(Y,ye);if(Ee!==X&&Ee!==J||(Y.status=666),Ee===P||Ee===X)return I.avail_out===0&&(Y.last_flush=-1),y;if(Ee===U&&(ye===1?c._tr_align(Y):ye!==5&&(c._tr_stored_block(Y,0,0,!1),ye===3&&(oe(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),z(I),I.avail_out===0))return Y.last_flush=-1,y}return ye!==w?y:Y.wrap<=0?1:(Y.wrap===2?(ge(Y,255&I.adler),ge(Y,I.adler>>8&255),ge(Y,I.adler>>16&255),ge(Y,I.adler>>24&255),ge(Y,255&I.total_in),ge(Y,I.total_in>>8&255),ge(Y,I.total_in>>16&255),ge(Y,I.total_in>>24&255)):(pe(Y,I.adler>>>16),pe(Y,65535&I.adler)),z(I),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?y:1)},o.deflateEnd=function(I){var ye;return I&&I.state?(ye=I.state.status)!==M&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==V&&ye!==666?ee(I,b):(I.state=null,ye===V?ee(I,-3):y):b},o.deflateSetDictionary=function(I,ye){var de,Y,G,ie,be,Ee,ae,Te,Le=ye.length;if(!I||!I.state||(ie=(de=I.state).wrap)===2||ie===1&&de.status!==M||de.lookahead)return b;for(ie===1&&(I.adler=u(I.adler,ye,Le,0)),de.wrap=0,Le>=de.w_size&&(ie===0&&(oe(de.head),de.strstart=0,de.block_start=0,de.insert=0),Te=new a.Buf8(de.w_size),a.arraySet(Te,ye,Le-de.w_size,de.w_size,0),ye=Te,Le=de.w_size),be=I.avail_in,Ee=I.next_in,ae=I.input,I.avail_in=Le,I.next_in=0,I.input=ye,Ae(de);de.lookahead>=O;){for(Y=de.strstart,G=de.lookahead-(O-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[Y+O-1])&de.hash_mask,de.prev[Y&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=Y,Y++,--G;);de.strstart=Y,de.lookahead=O-1,Ae(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=O-1,de.match_available=0,I.next_in=Ee,I.input=ae,I.avail_in=be,de.wrap=ie,y},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(i,a){var c,u,f,m,h,w,y,b,g,x,E,k,C,A,j,L,D,B,O,F,W,M,V,P,U;c=i.state,u=i.next_in,P=i.input,f=u+(i.avail_in-5),m=i.next_out,U=i.output,h=m-(a-i.avail_out),w=m+(i.avail_out-257),y=c.dmax,b=c.wsize,g=c.whave,x=c.wnext,E=c.window,k=c.hold,C=c.bits,A=c.lencode,j=c.distcode,L=(1<<c.lenbits)-1,D=(1<<c.distbits)-1;e:do{C<15&&(k+=P[u++]<<C,C+=8,k+=P[u++]<<C,C+=8),B=A[k&L];t:for(;;){if(k>>>=O=B>>>24,C-=O,(O=B>>>16&255)===0)U[m++]=65535&B;else{if(!(16&O)){if((64&O)==0){B=A[(65535&B)+(k&(1<<O)-1)];continue t}if(32&O){c.mode=12;break e}i.msg="invalid literal/length code",c.mode=30;break e}F=65535&B,(O&=15)&&(C<O&&(k+=P[u++]<<C,C+=8),F+=k&(1<<O)-1,k>>>=O,C-=O),C<15&&(k+=P[u++]<<C,C+=8,k+=P[u++]<<C,C+=8),B=j[k&D];n:for(;;){if(k>>>=O=B>>>24,C-=O,!(16&(O=B>>>16&255))){if((64&O)==0){B=j[(65535&B)+(k&(1<<O)-1)];continue n}i.msg="invalid distance code",c.mode=30;break e}if(W=65535&B,C<(O&=15)&&(k+=P[u++]<<C,(C+=8)<O&&(k+=P[u++]<<C,C+=8)),y<(W+=k&(1<<O)-1)){i.msg="invalid distance too far back",c.mode=30;break e}if(k>>>=O,C-=O,(O=m-h)<W){if(g<(O=W-O)&&c.sane){i.msg="invalid distance too far back",c.mode=30;break e}if(V=E,(M=0)===x){if(M+=b-O,O<F){for(F-=O;U[m++]=E[M++],--O;);M=m-W,V=U}}else if(x<O){if(M+=b+x-O,(O-=x)<F){for(F-=O;U[m++]=E[M++],--O;);if(M=0,x<F){for(F-=O=x;U[m++]=E[M++],--O;);M=m-W,V=U}}}else if(M+=x-O,O<F){for(F-=O;U[m++]=E[M++],--O;);M=m-W,V=U}for(;2<F;)U[m++]=V[M++],U[m++]=V[M++],U[m++]=V[M++],F-=3;F&&(U[m++]=V[M++],1<F&&(U[m++]=V[M++]))}else{for(M=m-W;U[m++]=U[M++],U[m++]=U[M++],U[m++]=U[M++],2<(F-=3););F&&(U[m++]=U[M++],1<F&&(U[m++]=U[M++]))}break}}break}}while(u<f&&m<w);u-=F=C>>3,k&=(1<<(C-=F<<3))-1,i.next_in=u,i.next_out=m,i.avail_in=u<f?f-u+5:5-(u-f),i.avail_out=m<w?w-m+257:257-(m-w),c.hold=k,c.bits=C}},{}],49:[function(n,r,o){var i=n("../utils/common"),a=n("./adler32"),c=n("./crc32"),u=n("./inffast"),f=n("./inftrees"),m=1,h=2,w=0,y=-2,b=1,g=852,x=592;function E(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(M){var V;return M&&M.state?(V=M.state,M.total_in=M.total_out=V.total=0,M.msg="",V.wrap&&(M.adler=1&V.wrap),V.mode=b,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new i.Buf32(g),V.distcode=V.distdyn=new i.Buf32(x),V.sane=1,V.back=-1,w):y}function A(M){var V;return M&&M.state?((V=M.state).wsize=0,V.whave=0,V.wnext=0,C(M)):y}function j(M,V){var P,U;return M&&M.state?(U=M.state,V<0?(P=0,V=-V):(P=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?y:(U.window!==null&&U.wbits!==V&&(U.window=null),U.wrap=P,U.wbits=V,A(M))):y}function L(M,V){var P,U;return M?(U=new k,(M.state=U).window=null,(P=j(M,V))!==w&&(M.state=null),P):y}var D,B,O=!0;function F(M){if(O){var V;for(D=new i.Buf32(512),B=new i.Buf32(32),V=0;V<144;)M.lens[V++]=8;for(;V<256;)M.lens[V++]=9;for(;V<280;)M.lens[V++]=7;for(;V<288;)M.lens[V++]=8;for(f(m,M.lens,0,288,D,0,M.work,{bits:9}),V=0;V<32;)M.lens[V++]=5;f(h,M.lens,0,32,B,0,M.work,{bits:5}),O=!1}M.lencode=D,M.lenbits=9,M.distcode=B,M.distbits=5}function W(M,V,P,U){var X,J=M.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new i.Buf8(J.wsize)),U>=J.wsize?(i.arraySet(J.window,V,P-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(U<(X=J.wsize-J.wnext)&&(X=U),i.arraySet(J.window,V,P-U,X,J.wnext),(U-=X)?(i.arraySet(J.window,V,P-U,U,0),J.wnext=U,J.whave=J.wsize):(J.wnext+=X,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=X))),0}o.inflateReset=A,o.inflateReset2=j,o.inflateResetKeep=C,o.inflateInit=function(M){return L(M,15)},o.inflateInit2=L,o.inflate=function(M,V){var P,U,X,J,ee,K,oe,z,q,ge,pe,me,Ae,we,xe,Se,je,Ue,Ke,Ye,I,ye,de,Y,G=0,ie=new i.Buf8(4),be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return y;(P=M.state).mode===12&&(P.mode=13),ee=M.next_out,X=M.output,oe=M.avail_out,J=M.next_in,U=M.input,K=M.avail_in,z=P.hold,q=P.bits,ge=K,pe=oe,ye=w;e:for(;;)switch(P.mode){case b:if(P.wrap===0){P.mode=13;break}for(;q<16;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(2&P.wrap&&z===35615){ie[P.check=0]=255&z,ie[1]=z>>>8&255,P.check=c(P.check,ie,2,0),q=z=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&z)<<8)+(z>>8))%31){M.msg="incorrect header check",P.mode=30;break}if((15&z)!=8){M.msg="unknown compression method",P.mode=30;break}if(q-=4,I=8+(15&(z>>>=4)),P.wbits===0)P.wbits=I;else if(I>P.wbits){M.msg="invalid window size",P.mode=30;break}P.dmax=1<<I,M.adler=P.check=1,P.mode=512&z?10:12,q=z=0;break;case 2:for(;q<16;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(P.flags=z,(255&P.flags)!=8){M.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){M.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=z>>8&1),512&P.flags&&(ie[0]=255&z,ie[1]=z>>>8&255,P.check=c(P.check,ie,2,0)),q=z=0,P.mode=3;case 3:for(;q<32;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}P.head&&(P.head.time=z),512&P.flags&&(ie[0]=255&z,ie[1]=z>>>8&255,ie[2]=z>>>16&255,ie[3]=z>>>24&255,P.check=c(P.check,ie,4,0)),q=z=0,P.mode=4;case 4:for(;q<16;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}P.head&&(P.head.xflags=255&z,P.head.os=z>>8),512&P.flags&&(ie[0]=255&z,ie[1]=z>>>8&255,P.check=c(P.check,ie,2,0)),q=z=0,P.mode=5;case 5:if(1024&P.flags){for(;q<16;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}P.length=z,P.head&&(P.head.extra_len=z),512&P.flags&&(ie[0]=255&z,ie[1]=z>>>8&255,P.check=c(P.check,ie,2,0)),q=z=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(K<(me=P.length)&&(me=K),me&&(P.head&&(I=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),i.arraySet(P.head.extra,U,J,me,I)),512&P.flags&&(P.check=c(P.check,U,me,J)),K-=me,J+=me,P.length-=me),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(K===0)break e;for(me=0;I=U[J+me++],P.head&&I&&P.length<65536&&(P.head.name+=String.fromCharCode(I)),I&&me<K;);if(512&P.flags&&(P.check=c(P.check,U,me,J)),K-=me,J+=me,I)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(K===0)break e;for(me=0;I=U[J+me++],P.head&&I&&P.length<65536&&(P.head.comment+=String.fromCharCode(I)),I&&me<K;);if(512&P.flags&&(P.check=c(P.check,U,me,J)),K-=me,J+=me,I)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;q<16;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(z!==(65535&P.check)){M.msg="header crc mismatch",P.mode=30;break}q=z=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),M.adler=P.check=0,P.mode=12;break;case 10:for(;q<32;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}M.adler=P.check=E(z),q=z=0,P.mode=11;case 11:if(P.havedict===0)return M.next_out=ee,M.avail_out=oe,M.next_in=J,M.avail_in=K,P.hold=z,P.bits=q,2;M.adler=P.check=1,P.mode=12;case 12:if(V===5||V===6)break e;case 13:if(P.last){z>>>=7&q,q-=7&q,P.mode=27;break}for(;q<3;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}switch(P.last=1&z,q-=1,3&(z>>>=1)){case 0:P.mode=14;break;case 1:if(F(P),P.mode=20,V!==6)break;z>>>=2,q-=2;break e;case 2:P.mode=17;break;case 3:M.msg="invalid block type",P.mode=30}z>>>=2,q-=2;break;case 14:for(z>>>=7&q,q-=7&q;q<32;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if((65535&z)!=(z>>>16^65535)){M.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&z,q=z=0,P.mode=15,V===6)break e;case 15:P.mode=16;case 16:if(me=P.length){if(K<me&&(me=K),oe<me&&(me=oe),me===0)break e;i.arraySet(X,U,J,me,ee),K-=me,J+=me,oe-=me,ee+=me,P.length-=me;break}P.mode=12;break;case 17:for(;q<14;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(P.nlen=257+(31&z),z>>>=5,q-=5,P.ndist=1+(31&z),z>>>=5,q-=5,P.ncode=4+(15&z),z>>>=4,q-=4,286<P.nlen||30<P.ndist){M.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;q<3;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}P.lens[be[P.have++]]=7&z,z>>>=3,q-=3}for(;P.have<19;)P.lens[be[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,de={bits:P.lenbits},ye=f(0,P.lens,0,19,P.lencode,0,P.work,de),P.lenbits=de.bits,ye){M.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;Se=(G=P.lencode[z&(1<<P.lenbits)-1])>>>16&255,je=65535&G,!((xe=G>>>24)<=q);){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(je<16)z>>>=xe,q-=xe,P.lens[P.have++]=je;else{if(je===16){for(Y=xe+2;q<Y;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(z>>>=xe,q-=xe,P.have===0){M.msg="invalid bit length repeat",P.mode=30;break}I=P.lens[P.have-1],me=3+(3&z),z>>>=2,q-=2}else if(je===17){for(Y=xe+3;q<Y;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}q-=xe,I=0,me=3+(7&(z>>>=xe)),z>>>=3,q-=3}else{for(Y=xe+7;q<Y;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}q-=xe,I=0,me=11+(127&(z>>>=xe)),z>>>=7,q-=7}if(P.have+me>P.nlen+P.ndist){M.msg="invalid bit length repeat",P.mode=30;break}for(;me--;)P.lens[P.have++]=I}}if(P.mode===30)break;if(P.lens[256]===0){M.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,de={bits:P.lenbits},ye=f(m,P.lens,0,P.nlen,P.lencode,0,P.work,de),P.lenbits=de.bits,ye){M.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,de={bits:P.distbits},ye=f(h,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,de),P.distbits=de.bits,ye){M.msg="invalid distances set",P.mode=30;break}if(P.mode=20,V===6)break e;case 20:P.mode=21;case 21:if(6<=K&&258<=oe){M.next_out=ee,M.avail_out=oe,M.next_in=J,M.avail_in=K,P.hold=z,P.bits=q,u(M,pe),ee=M.next_out,X=M.output,oe=M.avail_out,J=M.next_in,U=M.input,K=M.avail_in,z=P.hold,q=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;Se=(G=P.lencode[z&(1<<P.lenbits)-1])>>>16&255,je=65535&G,!((xe=G>>>24)<=q);){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(Se&&(240&Se)==0){for(Ue=xe,Ke=Se,Ye=je;Se=(G=P.lencode[Ye+((z&(1<<Ue+Ke)-1)>>Ue)])>>>16&255,je=65535&G,!(Ue+(xe=G>>>24)<=q);){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}z>>>=Ue,q-=Ue,P.back+=Ue}if(z>>>=xe,q-=xe,P.back+=xe,P.length=je,Se===0){P.mode=26;break}if(32&Se){P.back=-1,P.mode=12;break}if(64&Se){M.msg="invalid literal/length code",P.mode=30;break}P.extra=15&Se,P.mode=22;case 22:if(P.extra){for(Y=P.extra;q<Y;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}P.length+=z&(1<<P.extra)-1,z>>>=P.extra,q-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;Se=(G=P.distcode[z&(1<<P.distbits)-1])>>>16&255,je=65535&G,!((xe=G>>>24)<=q);){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if((240&Se)==0){for(Ue=xe,Ke=Se,Ye=je;Se=(G=P.distcode[Ye+((z&(1<<Ue+Ke)-1)>>Ue)])>>>16&255,je=65535&G,!(Ue+(xe=G>>>24)<=q);){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}z>>>=Ue,q-=Ue,P.back+=Ue}if(z>>>=xe,q-=xe,P.back+=xe,64&Se){M.msg="invalid distance code",P.mode=30;break}P.offset=je,P.extra=15&Se,P.mode=24;case 24:if(P.extra){for(Y=P.extra;q<Y;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}P.offset+=z&(1<<P.extra)-1,z>>>=P.extra,q-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){M.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(oe===0)break e;if(me=pe-oe,P.offset>me){if((me=P.offset-me)>P.whave&&P.sane){M.msg="invalid distance too far back",P.mode=30;break}Ae=me>P.wnext?(me-=P.wnext,P.wsize-me):P.wnext-me,me>P.length&&(me=P.length),we=P.window}else we=X,Ae=ee-P.offset,me=P.length;for(oe<me&&(me=oe),oe-=me,P.length-=me;X[ee++]=we[Ae++],--me;);P.length===0&&(P.mode=21);break;case 26:if(oe===0)break e;X[ee++]=P.length,oe--,P.mode=21;break;case 27:if(P.wrap){for(;q<32;){if(K===0)break e;K--,z|=U[J++]<<q,q+=8}if(pe-=oe,M.total_out+=pe,P.total+=pe,pe&&(M.adler=P.check=P.flags?c(P.check,X,pe,ee-pe):a(P.check,X,pe,ee-pe)),pe=oe,(P.flags?z:E(z))!==P.check){M.msg="incorrect data check",P.mode=30;break}q=z=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;q<32;){if(K===0)break e;K--,z+=U[J++]<<q,q+=8}if(z!==(4294967295&P.total)){M.msg="incorrect length check",P.mode=30;break}q=z=0}P.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return y}return M.next_out=ee,M.avail_out=oe,M.next_in=J,M.avail_in=K,P.hold=z,P.bits=q,(P.wsize||pe!==M.avail_out&&P.mode<30&&(P.mode<27||V!==4))&&W(M,M.output,M.next_out,pe-M.avail_out)?(P.mode=31,-4):(ge-=M.avail_in,pe-=M.avail_out,M.total_in+=ge,M.total_out+=pe,P.total+=pe,P.wrap&&pe&&(M.adler=P.check=P.flags?c(P.check,X,pe,M.next_out-pe):a(P.check,X,pe,M.next_out-pe)),M.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(ge==0&&pe===0||V===4)&&ye===w&&(ye=-5),ye)},o.inflateEnd=function(M){if(!M||!M.state)return y;var V=M.state;return V.window&&(V.window=null),M.state=null,w},o.inflateGetHeader=function(M,V){var P;return M&&M.state?(2&(P=M.state).wrap)==0?y:((P.head=V).done=!1,w):y},o.inflateSetDictionary=function(M,V){var P,U=V.length;return M&&M.state?(P=M.state).wrap!==0&&P.mode!==11?y:P.mode===11&&a(1,V,U,0)!==P.check?-3:W(M,V,U,U)?(P.mode=31,-4):(P.havedict=1,w):y},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var i=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,h,w,y,b,g,x,E){var k,C,A,j,L,D,B,O,F,W=E.bits,M=0,V=0,P=0,U=0,X=0,J=0,ee=0,K=0,oe=0,z=0,q=null,ge=0,pe=new i.Buf16(16),me=new i.Buf16(16),Ae=null,we=0;for(M=0;M<=15;M++)pe[M]=0;for(V=0;V<y;V++)pe[h[w+V]]++;for(X=W,U=15;1<=U&&pe[U]===0;U--);if(U<X&&(X=U),U===0)return b[g++]=20971520,b[g++]=20971520,E.bits=1,0;for(P=1;P<U&&pe[P]===0;P++);for(X<P&&(X=P),M=K=1;M<=15;M++)if(K<<=1,(K-=pe[M])<0)return-1;if(0<K&&(m===0||U!==1))return-1;for(me[1]=0,M=1;M<15;M++)me[M+1]=me[M]+pe[M];for(V=0;V<y;V++)h[w+V]!==0&&(x[me[h[w+V]]++]=V);if(D=m===0?(q=Ae=x,19):m===1?(q=a,ge-=257,Ae=c,we-=257,256):(q=u,Ae=f,-1),M=P,L=g,ee=V=z=0,A=-1,j=(oe=1<<(J=X))-1,m===1&&852<oe||m===2&&592<oe)return 1;for(;;){for(B=M-ee,F=x[V]<D?(O=0,x[V]):x[V]>D?(O=Ae[we+x[V]],q[ge+x[V]]):(O=96,0),k=1<<M-ee,P=C=1<<J;b[L+(z>>ee)+(C-=k)]=B<<24|O<<16|F|0,C!==0;);for(k=1<<M-1;z&k;)k>>=1;if(k!==0?(z&=k-1,z+=k):z=0,V++,--pe[M]==0){if(M===U)break;M=h[w+x[V]]}if(X<M&&(z&j)!==A){for(ee===0&&(ee=X),L+=P,K=1<<(J=M-ee);J+ee<U&&!((K-=pe[J+ee])<=0);)J++,K<<=1;if(oe+=1<<J,m===1&&852<oe||m===2&&592<oe)return 1;b[A=z&j]=X<<24|J<<16|L-g|0}}return z!==0&&(b[L+z]=M-ee<<24|64<<16|0),E.bits=X,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var i=n("../utils/common"),a=0,c=1;function u(G){for(var ie=G.length;0<=--ie;)G[ie]=0}var f=0,m=29,h=256,w=h+1+m,y=30,b=19,g=2*w+1,x=15,E=16,k=7,C=256,A=16,j=17,L=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(w+2));u(W);var M=new Array(2*y);u(M);var V=new Array(512);u(V);var P=new Array(256);u(P);var U=new Array(m);u(U);var X,J,ee,K=new Array(y);function oe(G,ie,be,Ee,ae){this.static_tree=G,this.extra_bits=ie,this.extra_base=be,this.elems=Ee,this.max_length=ae,this.has_stree=G&&G.length}function z(G,ie){this.dyn_tree=G,this.max_code=0,this.stat_desc=ie}function q(G){return G<256?V[G]:V[256+(G>>>7)]}function ge(G,ie){G.pending_buf[G.pending++]=255&ie,G.pending_buf[G.pending++]=ie>>>8&255}function pe(G,ie,be){G.bi_valid>E-be?(G.bi_buf|=ie<<G.bi_valid&65535,ge(G,G.bi_buf),G.bi_buf=ie>>E-G.bi_valid,G.bi_valid+=be-E):(G.bi_buf|=ie<<G.bi_valid&65535,G.bi_valid+=be)}function me(G,ie,be){pe(G,be[2*ie],be[2*ie+1])}function Ae(G,ie){for(var be=0;be|=1&G,G>>>=1,be<<=1,0<--ie;);return be>>>1}function we(G,ie,be){var Ee,ae,Te=new Array(x+1),Le=0;for(Ee=1;Ee<=x;Ee++)Te[Ee]=Le=Le+be[Ee-1]<<1;for(ae=0;ae<=ie;ae++){var Ne=G[2*ae+1];Ne!==0&&(G[2*ae]=Ae(Te[Ne]++,Ne))}}function xe(G){var ie;for(ie=0;ie<w;ie++)G.dyn_ltree[2*ie]=0;for(ie=0;ie<y;ie++)G.dyn_dtree[2*ie]=0;for(ie=0;ie<b;ie++)G.bl_tree[2*ie]=0;G.dyn_ltree[2*C]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function Se(G){8<G.bi_valid?ge(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function je(G,ie,be,Ee){var ae=2*ie,Te=2*be;return G[ae]<G[Te]||G[ae]===G[Te]&&Ee[ie]<=Ee[be]}function Ue(G,ie,be){for(var Ee=G.heap[be],ae=be<<1;ae<=G.heap_len&&(ae<G.heap_len&&je(ie,G.heap[ae+1],G.heap[ae],G.depth)&&ae++,!je(ie,Ee,G.heap[ae],G.depth));)G.heap[be]=G.heap[ae],be=ae,ae<<=1;G.heap[be]=Ee}function Ke(G,ie,be){var Ee,ae,Te,Le,Ne=0;if(G.last_lit!==0)for(;Ee=G.pending_buf[G.d_buf+2*Ne]<<8|G.pending_buf[G.d_buf+2*Ne+1],ae=G.pending_buf[G.l_buf+Ne],Ne++,Ee===0?me(G,ae,ie):(me(G,(Te=P[ae])+h+1,ie),(Le=D[Te])!==0&&pe(G,ae-=U[Te],Le),me(G,Te=q(--Ee),be),(Le=B[Te])!==0&&pe(G,Ee-=K[Te],Le)),Ne<G.last_lit;);me(G,C,ie)}function Ye(G,ie){var be,Ee,ae,Te=ie.dyn_tree,Le=ie.stat_desc.static_tree,Ne=ie.stat_desc.has_stree,qe=ie.stat_desc.elems,H=-1;for(G.heap_len=0,G.heap_max=g,be=0;be<qe;be++)Te[2*be]!==0?(G.heap[++G.heap_len]=H=be,G.depth[be]=0):Te[2*be+1]=0;for(;G.heap_len<2;)Te[2*(ae=G.heap[++G.heap_len]=H<2?++H:0)]=1,G.depth[ae]=0,G.opt_len--,Ne&&(G.static_len-=Le[2*ae+1]);for(ie.max_code=H,be=G.heap_len>>1;1<=be;be--)Ue(G,Te,be);for(ae=qe;be=G.heap[1],G.heap[1]=G.heap[G.heap_len--],Ue(G,Te,1),Ee=G.heap[1],G.heap[--G.heap_max]=be,G.heap[--G.heap_max]=Ee,Te[2*ae]=Te[2*be]+Te[2*Ee],G.depth[ae]=(G.depth[be]>=G.depth[Ee]?G.depth[be]:G.depth[Ee])+1,Te[2*be+1]=Te[2*Ee+1]=ae,G.heap[1]=ae++,Ue(G,Te,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],function(N,R){var Z,re,ue,he,Xe,yt,ot=R.dyn_tree,pt=R.max_code,lt=R.stat_desc.static_tree,el=R.stat_desc.has_stree,tl=R.stat_desc.extra_bits,Zr=R.stat_desc.extra_base,Wn=R.stat_desc.max_length,As=0;for(he=0;he<=x;he++)N.bl_count[he]=0;for(ot[2*N.heap[N.heap_max]+1]=0,Z=N.heap_max+1;Z<g;Z++)Wn<(he=ot[2*ot[2*(re=N.heap[Z])+1]+1]+1)&&(he=Wn,As++),ot[2*re+1]=he,pt<re||(N.bl_count[he]++,Xe=0,Zr<=re&&(Xe=tl[re-Zr]),yt=ot[2*re],N.opt_len+=yt*(he+Xe),el&&(N.static_len+=yt*(lt[2*re+1]+Xe)));if(As!==0){do{for(he=Wn-1;N.bl_count[he]===0;)he--;N.bl_count[he]--,N.bl_count[he+1]+=2,N.bl_count[Wn]--,As-=2}while(0<As);for(he=Wn;he!==0;he--)for(re=N.bl_count[he];re!==0;)pt<(ue=N.heap[--Z])||(ot[2*ue+1]!==he&&(N.opt_len+=(he-ot[2*ue+1])*ot[2*ue],ot[2*ue+1]=he),re--)}}(G,ie),we(Te,H,G.bl_count)}function I(G,ie,be){var Ee,ae,Te=-1,Le=ie[1],Ne=0,qe=7,H=4;for(Le===0&&(qe=138,H=3),ie[2*(be+1)+1]=65535,Ee=0;Ee<=be;Ee++)ae=Le,Le=ie[2*(Ee+1)+1],++Ne<qe&&ae===Le||(Ne<H?G.bl_tree[2*ae]+=Ne:ae!==0?(ae!==Te&&G.bl_tree[2*ae]++,G.bl_tree[2*A]++):Ne<=10?G.bl_tree[2*j]++:G.bl_tree[2*L]++,Te=ae,H=(Ne=0)===Le?(qe=138,3):ae===Le?(qe=6,3):(qe=7,4))}function ye(G,ie,be){var Ee,ae,Te=-1,Le=ie[1],Ne=0,qe=7,H=4;for(Le===0&&(qe=138,H=3),Ee=0;Ee<=be;Ee++)if(ae=Le,Le=ie[2*(Ee+1)+1],!(++Ne<qe&&ae===Le)){if(Ne<H)for(;me(G,ae,G.bl_tree),--Ne!=0;);else ae!==0?(ae!==Te&&(me(G,ae,G.bl_tree),Ne--),me(G,A,G.bl_tree),pe(G,Ne-3,2)):Ne<=10?(me(G,j,G.bl_tree),pe(G,Ne-3,3)):(me(G,L,G.bl_tree),pe(G,Ne-11,7));Te=ae,H=(Ne=0)===Le?(qe=138,3):ae===Le?(qe=6,3):(qe=7,4)}}u(K);var de=!1;function Y(G,ie,be,Ee){pe(G,(f<<1)+(Ee?1:0),3),function(ae,Te,Le,Ne){Se(ae),ge(ae,Le),ge(ae,~Le),i.arraySet(ae.pending_buf,ae.window,Te,Le,ae.pending),ae.pending+=Le}(G,ie,be)}o._tr_init=function(G){de||(function(){var ie,be,Ee,ae,Te,Le=new Array(x+1);for(ae=Ee=0;ae<m-1;ae++)for(U[ae]=Ee,ie=0;ie<1<<D[ae];ie++)P[Ee++]=ae;for(P[Ee-1]=ae,ae=Te=0;ae<16;ae++)for(K[ae]=Te,ie=0;ie<1<<B[ae];ie++)V[Te++]=ae;for(Te>>=7;ae<y;ae++)for(K[ae]=Te<<7,ie=0;ie<1<<B[ae]-7;ie++)V[256+Te++]=ae;for(be=0;be<=x;be++)Le[be]=0;for(ie=0;ie<=143;)W[2*ie+1]=8,ie++,Le[8]++;for(;ie<=255;)W[2*ie+1]=9,ie++,Le[9]++;for(;ie<=279;)W[2*ie+1]=7,ie++,Le[7]++;for(;ie<=287;)W[2*ie+1]=8,ie++,Le[8]++;for(we(W,w+1,Le),ie=0;ie<y;ie++)M[2*ie+1]=5,M[2*ie]=Ae(ie,5);X=new oe(W,D,h+1,w,x),J=new oe(M,B,0,y,x),ee=new oe(new Array(0),O,0,b,k)}(),de=!0),G.l_desc=new z(G.dyn_ltree,X),G.d_desc=new z(G.dyn_dtree,J),G.bl_desc=new z(G.bl_tree,ee),G.bi_buf=0,G.bi_valid=0,xe(G)},o._tr_stored_block=Y,o._tr_flush_block=function(G,ie,be,Ee){var ae,Te,Le=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=function(Ne){var qe,H=4093624447;for(qe=0;qe<=31;qe++,H>>>=1)if(1&H&&Ne.dyn_ltree[2*qe]!==0)return a;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return c;for(qe=32;qe<h;qe++)if(Ne.dyn_ltree[2*qe]!==0)return c;return a}(G)),Ye(G,G.l_desc),Ye(G,G.d_desc),Le=function(Ne){var qe;for(I(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),I(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),Ye(Ne,Ne.bl_desc),qe=b-1;3<=qe&&Ne.bl_tree[2*F[qe]+1]===0;qe--);return Ne.opt_len+=3*(qe+1)+5+5+4,qe}(G),ae=G.opt_len+3+7>>>3,(Te=G.static_len+3+7>>>3)<=ae&&(ae=Te)):ae=Te=be+5,be+4<=ae&&ie!==-1?Y(G,ie,be,Ee):G.strategy===4||Te===ae?(pe(G,2+(Ee?1:0),3),Ke(G,W,M)):(pe(G,4+(Ee?1:0),3),function(Ne,qe,H,N){var R;for(pe(Ne,qe-257,5),pe(Ne,H-1,5),pe(Ne,N-4,4),R=0;R<N;R++)pe(Ne,Ne.bl_tree[2*F[R]+1],3);ye(Ne,Ne.dyn_ltree,qe-1),ye(Ne,Ne.dyn_dtree,H-1)}(G,G.l_desc.max_code+1,G.d_desc.max_code+1,Le+1),Ke(G,G.dyn_ltree,G.dyn_dtree)),xe(G),Ee&&Se(G)},o._tr_tally=function(G,ie,be){return G.pending_buf[G.d_buf+2*G.last_lit]=ie>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ie,G.pending_buf[G.l_buf+G.last_lit]=255&be,G.last_lit++,ie===0?G.dyn_ltree[2*be]++:(G.matches++,ie--,G.dyn_ltree[2*(P[be]+h+1)]++,G.dyn_dtree[2*q(ie)]++),G.last_lit===G.lit_bufsize-1},o._tr_align=function(G){pe(G,2,3),me(G,C,W),function(ie){ie.bi_valid===16?(ge(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)}(G)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(i){(function(a,c){if(!a.setImmediate){var u,f,m,h,w=1,y={},b=!1,g=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,u={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){k(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,j=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=j,A}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(A){a.postMessage(h+A,"*")}):a.MessageChannel?((m=new MessageChannel).port1.onmessage=function(A){k(A.data)},function(A){m.port2.postMessage(A)}):g&&"onreadystatechange"in g.createElement("script")?(f=g.documentElement,function(A){var j=g.createElement("script");j.onreadystatechange=function(){k(A),j.onreadystatechange=null,f.removeChild(j),j=null},f.appendChild(j)}):function(A){setTimeout(k,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var j=new Array(arguments.length-1),L=0;L<j.length;L++)j[L]=arguments[L+1];var D={callback:A,args:j};return y[w]=D,u(w),w++},x.clearImmediate=E}function E(A){delete y[A]}function k(A){if(b)setTimeout(k,0,A);else{var j=y[A];if(j){b=!0;try{(function(L){var D=L.callback,B=L.args;switch(B.length){case 0:D();break;case 1:D(B[0]);break;case 2:D(B[0],B[1]);break;case 3:D(B[0],B[1],B[2]);break;default:D.apply(c,B)}})(j)}finally{E(A),b=!1}}}}function C(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(h)===0&&k(+A.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Gm)),Gm.exports}Vq();const qq=30023,Kq="dead-drop-lockers@v1",Z2="Dead Drop Lockers Source Snapshot";function Zq(){const e=_.useRef(null),[t,n]=_.useState(null),r=qN(),o=qv(),i=c=>{var f;const u=((f=c.target.files)==null?void 0:f[0])??null;n(u)},a=async()=>{if(t)try{const c=await r.mutateAsync(t);await o.mutateAsync({kind:qq,content:`${Z2}: snapshot uploaded`,tags:[["d",Kq],["title",Z2],["t","code-snapshot"],...c]}),alert("Snapshot published to Nostr")}catch(c){alert("Upload or publish failed: "+c.message)}};return p.jsxs("div",{className:"p-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),p.jsx("input",{type:"file",ref:e,onChange:i,accept:".zip"}),p.jsx("div",{className:"mt-4",children:p.jsx("button",{className:"btn",onClick:a,disabled:!t,children:"Upload & Publish"})})]})}function Gq(){return Ja({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),p.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[p.jsxs("header",{className:"relative isolate overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),p.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[p.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",p.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),p.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsx(nt,{asChild:!0,size:"lg",className:"text-base",children:p.jsxs(fn,{to:"/marketplace",children:[p.jsx(zg,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),p.jsx(nt,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:p.jsxs(fn,{to:"/dashboard",children:[p.jsx(Bg,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),p.jsxs("section",{className:"container mx-auto px-4 py-16",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(wn,{children:[p.jsx(zg,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Bn,{children:"Find a Locker"})]}),p.jsx(Mt,{children:p.jsx(uo,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(wn,{children:[p.jsx($g,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Bn,{children:"Pay with Lightning"})]}),p.jsx(Mt,{children:p.jsx(uo,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(wn,{children:[p.jsx(Fk,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Bn,{children:"Negotiate Privately"})]}),p.jsx(Mt,{children:p.jsx(uo,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(wn,{children:[p.jsx(Bg,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Bn,{children:"Manage Your Box"})]}),p.jsx(Mt,{children:p.jsx(uo,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),p.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:p.jsxs(_t,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[p.jsxs(wn,{children:[p.jsx(Bn,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),p.jsx(uo,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),p.jsx(Mt,{children:p.jsx(nt,{asChild:!0,size:"lg",children:p.jsx(fn,{to:"/dashboard",children:"Get Started"})})})]})}),p.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:p.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Gf="Switch",[Yq,FZ]=Qt(Gf),[Jq,Qq]=Yq(Gf),HP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:a,disabled:c,value:u="on",onCheckedChange:f,form:m,...h}=e,[w,y]=_.useState(null),b=Je(t,C=>y(C)),g=_.useRef(!1),x=w?m||!!w.closest("form"):!0,[E,k]=sr({prop:o,defaultProp:i??!1,onChange:f,caller:Gf});return p.jsxs(Jq,{scope:n,checked:E,disabled:c,children:[p.jsx(De.button,{type:"button",role:"switch","aria-checked":E,"aria-required":a,"data-state":KP(E),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:b,onClick:Pe(e.onClick,C=>{k(A=>!A),x&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),x&&p.jsx(qP,{control:w,bubbles:!g.current,name:r,value:u,checked:E,required:a,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});HP.displayName=Gf;var WP="SwitchThumb",VP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=Qq(WP,n);return p.jsx(De.span,{"data-state":KP(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});VP.displayName=WP;var Xq="SwitchBubbleInput",qP=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const a=_.useRef(null),c=Je(a,i),u=qf(n),f=Rf(t);return _.useEffect(()=>{const m=a.current;if(!m)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&y){const b=new Event("click",{bubbles:r});y.call(m,n),m.dispatchEvent(b)}},[u,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qP.displayName=Xq;function KP(e){return e?"checked":"unchecked"}var ZP=HP,eK=VP;const GP=_.forwardRef(({className:e,...t},n)=>p.jsx(ZP,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(eK,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));GP.displayName=ZP.displayName;const Ym="0123456789bcdefghjkmnpqrstuvwxyz";class Yt{static encode(t,n,r){if(typeof r>"u"){for(let w=1;w<=12;w++){const y=Yt.encode(t,n,w),b=Yt.decode(y);if(b.lat==t&&b.lon==n)return y}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let o=0,i=0,a=!0,c="",u=-90,f=90,m=-180,h=180;for(;c.length<r;){if(a){const w=(m+h)/2;n>=w?(o=o*2+1,m=w):(o=o*2,h=w)}else{const w=(u+f)/2;t>=w?(o=o*2+1,u=w):(o=o*2,f=w)}a=!a,++i==5&&(c+=Ym.charAt(o),i=0,o=0)}return c}static decode(t){const n=Yt.bounds(t),r=n.sw.lat,o=n.sw.lon,i=n.ne.lat,a=n.ne.lon;let c=(r+i)/2,u=(o+a)/2;return c=c.toFixed(Math.floor(2-Math.log(i-r)/Math.LN10)),u=u.toFixed(Math.floor(2-Math.log(a-o)/Math.LN10)),{lat:Number(c),lon:Number(u)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,o=90,i=-180,a=180;for(let u=0;u<t.length;u++){const f=t.charAt(u),m=Ym.indexOf(f);if(m==-1)throw new Error("Invalid geohash");for(let h=4;h>=0;h--){const w=m>>h&1;if(n){const y=(i+a)/2;w==1?i=y:a=y}else{const y=(r+o)/2;w==1?r=y:o=y}n=!n}}return{sw:{lat:r,lon:i},ne:{lat:o,lon:a}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},o={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},i=t.slice(-1);let a=t.slice(0,-1);const c=t.length%2;return o[n][c].indexOf(i)!=-1&&a!=""&&(a=Yt.adjacent(a,n)),a+Ym.charAt(r[n][c].indexOf(i))}static neighbours(t){return{n:Yt.adjacent(t,"n"),ne:Yt.adjacent(Yt.adjacent(t,"n"),"e"),e:Yt.adjacent(t,"e"),se:Yt.adjacent(Yt.adjacent(t,"s"),"e"),s:Yt.adjacent(t,"s"),sw:Yt.adjacent(Yt.adjacent(t,"s"),"w"),w:Yt.adjacent(t,"w"),nw:Yt.adjacent(Yt.adjacent(t,"n"),"w")}}}function tK(){const{nostr:e}=Hn();return $r({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>n0(n)).filter(Boolean),staleTime:3e4})}function nK(){Ja({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=vi(),{mutateAsync:t,isPending:n}=qv(),{toast:r}=Fa(),{data:o,isLoading:i}=tK(),[a,c]=_.useState(""),[u,f]=_.useState(""),[m,h]=_.useState(""),[w,y]=_.useState(""),[b,g]=_.useState(""),[x,E]=_.useState("1000"),[k,C]=_.useState("10"),[A,j]=_.useState("7"),[L,D]=_.useState(!1),[B,O]=_.useState("500"),[F,W]=_.useState("30"),[M,V]=_.useState("30x30x45"),P=async U=>{if(U.preventDefault(),!!e)try{const X=Yt.encode(parseFloat(w),parseFloat(b),7),J=kV({title:a,description:u,location:m,geohash:X,baseFee:parseInt(x),overdueFee:parseInt(k),overdueDays:parseInt(A),proxyMode:L,proxyFee:parseInt(B),abandonDays:parseInt(F),dimensions:M});await t({kind:30402,content:u,tags:J}),r({title:"Locker Published",description:"Your locker listing is now live."}),c(""),f("")}catch(X){r({title:"Error",description:X.message,variant:"destructive"})}};return e?p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[p.jsxs("header",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),p.jsx(sy,{className:"max-w-60"})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),i?p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(U=>p.jsxs(_t,{children:[p.jsxs(wn,{children:[p.jsx($n,{className:"h-5 w-3/4"}),p.jsx($n,{className:"h-4 w-1/2"})]}),p.jsxs(Mt,{children:[p.jsx($n,{className:"h-4 w-full mb-2"}),p.jsx($n,{className:"h-4 w-2/3"})]})]},U))}):o&&o.length>0?p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(U=>p.jsxs(_t,{children:[p.jsxs(wn,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Bn,{className:"text-lg",children:U.title}),p.jsx(Fn,{variant:U.status==="available"?"default":"secondary",children:U.status})]}),p.jsx(uo,{children:U.location||U.geohash})]}),p.jsxs(Mt,{children:[p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:U.description}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:["Fee: ",U.price," sats"]}),U.proxyMode&&p.jsx(Fn,{variant:"outline",children:"Proxy"})]})]})]},U.id))}):p.jsx(_t,{className:"border-dashed",children:p.jsx(Mt,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),p.jsxs(_t,{children:[p.jsxs(wn,{children:[p.jsx(Bn,{children:"Create New Locker"}),p.jsx(uo,{children:"Configure your smart locker and publish it to the network."})]}),p.jsx(Mt,{children:p.jsxs("form",{onSubmit:P,className:"space-y-6",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"title",children:"Title"}),p.jsx(Ut,{id:"title",value:a,onChange:U=>c(U.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"dimensions",children:"Dimensions (cm)"}),p.jsx(Ut,{id:"dimensions",value:M,onChange:U=>V(U.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"description",children:"Description"}),p.jsx($f,{id:"description",value:u,onChange:U=>f(U.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"location",children:"Location Address"}),p.jsx(Ut,{id:"location",value:m,onChange:U=>h(U.target.value),placeholder:"123 Main St, City"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"lat",children:"Latitude"}),p.jsx(Ut,{id:"lat",type:"number",step:"any",value:w,onChange:U=>y(U.target.value),placeholder:"51.505",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"lng",children:"Longitude"}),p.jsx(Ut,{id:"lng",type:"number",step:"any",value:b,onChange:U=>g(U.target.value),placeholder:"-0.09",required:!0})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsx("h3",{className:"font-medium",children:"Fee Structure"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"baseFee",children:"Base Fee (sats)"}),p.jsx(Ut,{id:"baseFee",type:"number",value:x,onChange:U=>E(U.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),p.jsx(Ut,{id:"overdueFee",type:"number",value:k,onChange:U=>C(U.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"overdueDays",children:"Overdue After (days)"}),p.jsx(Ut,{id:"overdueDays",type:"number",value:A,onChange:U=>j(U.target.value)})]})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),p.jsx(GP,{checked:L,onCheckedChange:D})]}),L&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),p.jsx(Ut,{id:"proxyFee",type:"number",value:B,onChange:U=>O(U.target.value)})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(tn,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),p.jsx(Ut,{id:"abandonDays",type:"number",value:F,onChange:U=>W(U.target.value)})]})]}),p.jsx(nt,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),p.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:p.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:p.jsxs(_t,{className:"w-full max-w-md",children:[p.jsxs(wn,{children:[p.jsx(Bn,{children:"Owner Dashboard"}),p.jsx(uo,{children:"Please log in to manage your lockers."})]}),p.jsx(Mt,{children:p.jsx(sy,{className:"w-full"})})]})})}const rK=_.createContext(null);function $c(){const e=_.useContext(rK);if(!e)throw new Error("useDMContext must be used within DMProvider");return e}function YP(e){const t=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(r);o.setDate(o.getDate()-1);const i=new Date(r);return i.setDate(i.getDate()-i.getDay()),t>=r?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):t>=o?"Yesterday":t>=i?t.toLocaleDateString(void 0,{weekday:"short"}):t.getFullYear()===n.getFullYear()?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function JP(e){return new Date(e*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function oK(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var l0="ScrollArea",[QP,$Z]=Qt(l0),[sK,lr]=QP(l0),XP=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...a}=e,[c,u]=_.useState(null),[f,m]=_.useState(null),[h,w]=_.useState(null),[y,b]=_.useState(null),[g,x]=_.useState(null),[E,k]=_.useState(0),[C,A]=_.useState(0),[j,L]=_.useState(!1),[D,B]=_.useState(!1),O=Je(t,W=>u(W)),F=_i(o);return p.jsx(sK,{scope:n,type:r,dir:F,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:m,content:h,onContentChange:w,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:j,onScrollbarXEnabledChange:L,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:D,onScrollbarYEnabledChange:B,onCornerWidthChange:k,onCornerHeightChange:A,children:p.jsx(De.div,{dir:F,...a,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});XP.displayName=l0;var eR="ScrollAreaViewport",tR=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,a=lr(eR,n),c=_.useRef(null),u=Je(t,c,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(De.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tR.displayName=eR;var Kr="ScrollAreaScrollbar",c0=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=lr(Kr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,c=e.orientation==="horizontal";return _.useEffect(()=>(c?i(!0):a(!0),()=>{c?i(!1):a(!1)}),[c,i,a]),o.type==="hover"?p.jsx(iK,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(aK,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(nR,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(u0,{...r,ref:t}):null});c0.displayName=Kr;var iK=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=lr(Kr,e.__scopeScrollArea),[i,a]=_.useState(!1);return _.useEffect(()=>{const c=o.scrollArea;let u=0;if(c){const f=()=>{window.clearTimeout(u),a(!0)},m=()=>{u=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(rn,{present:n||i,children:p.jsx(nR,{"data-state":i?"visible":"hidden",...r,ref:t})})}),aK=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=lr(Kr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Jf(()=>u("SCROLL_END"),100),[c,u]=oK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,u]),_.useEffect(()=>{const f=o.viewport,m=i?"scrollLeft":"scrollTop";if(f){let h=f[m];const w=()=>{const y=f[m];h!==y&&(u("SCROLL"),a()),h=y};return f.addEventListener("scroll",w),()=>f.removeEventListener("scroll",w)}},[o.viewport,i,u,a]),p.jsx(rn,{present:n||c!=="hidden",children:p.jsx(u0,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),nR=_.forwardRef((e,t)=>{const n=lr(Kr,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,a]=_.useState(!1),c=e.orientation==="horizontal",u=Jf(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;a(c?f:m)}},10);return Oa(n.viewport,u),Oa(n.content,u),p.jsx(rn,{present:r||i,children:p.jsx(u0,{"data-state":i?"visible":"hidden",...o,ref:t})})}),u0=_.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=lr(Kr,e.__scopeScrollArea),i=_.useRef(null),a=_.useRef(0),[c,u]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=aR(c.viewport,c.content),m={...r,sizes:c,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:w=>a.current=w};function h(w,y){return hK(w,a.current,c,y)}return n==="horizontal"?p.jsx(lK,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const w=o.viewport.scrollLeft,y=G2(w,c,o.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:w=>{o.viewport&&(o.viewport.scrollLeft=w)},onDragScroll:w=>{o.viewport&&(o.viewport.scrollLeft=h(w,o.dir))}}):n==="vertical"?p.jsx(cK,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const w=o.viewport.scrollTop,y=G2(w,c);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:w=>{o.viewport&&(o.viewport.scrollTop=w)},onDragScroll:w=>{o.viewport&&(o.viewport.scrollTop=h(w))}}):null}),lK=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=lr(Kr,e.__scopeScrollArea),[a,c]=_.useState(),u=_.useRef(null),f=Je(t,u,i.onScrollbarXChange);return _.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),p.jsx(oR,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,h)=>{if(i.viewport){const w=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(w),cR(w,h)&&m.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Qd(a.paddingLeft),paddingEnd:Qd(a.paddingRight)}})}})}),cK=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=lr(Kr,e.__scopeScrollArea),[a,c]=_.useState(),u=_.useRef(null),f=Je(t,u,i.onScrollbarYChange);return _.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),p.jsx(oR,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,h)=>{if(i.viewport){const w=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(w),cR(w,h)&&m.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Qd(a.paddingTop),paddingEnd:Qd(a.paddingBottom)}})}})}),[uK,rR]=QP(Kr),oR=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:m,onResize:h,...w}=e,y=lr(Kr,n),[b,g]=_.useState(null),x=Je(t,O=>g(O)),E=_.useRef(null),k=_.useRef(""),C=y.viewport,A=r.content-r.viewport,j=Ot(m),L=Ot(u),D=Jf(h,10);function B(O){if(E.current){const F=O.clientX-E.current.left,W=O.clientY-E.current.top;f({x:F,y:W})}}return _.useEffect(()=>{const O=F=>{const W=F.target;(b==null?void 0:b.contains(W))&&j(F,A)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[C,b,A,j]),_.useEffect(L,[r,L]),Oa(b,D),Oa(y.content,D),p.jsx(uK,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:Ot(i),onThumbPointerUp:Ot(a),onThumbPositionChange:L,onThumbPointerDown:Ot(c),children:p.jsx(De.div,{...w,ref:x,style:{position:"absolute",...w.style},onPointerDown:Pe(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),E.current=b.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),B(O))}),onPointerMove:Pe(e.onPointerMove,B),onPointerUp:Pe(e.onPointerUp,O=>{const F=O.target;F.hasPointerCapture(O.pointerId)&&F.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=k.current,y.viewport&&(y.viewport.style.scrollBehavior=""),E.current=null})})})}),Jd="ScrollAreaThumb",sR=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=rR(Jd,e.__scopeScrollArea);return p.jsx(rn,{present:n||o.hasThumb,children:p.jsx(dK,{ref:t,...r})})}),dK=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=lr(Jd,n),a=rR(Jd,n),{onThumbPositionChange:c}=a,u=Je(t,h=>a.onThumbChange(h)),f=_.useRef(void 0),m=Jf(()=>{f.current&&(f.current(),f.current=void 0)},100);return _.useEffect(()=>{const h=i.viewport;if(h){const w=()=>{if(m(),!f.current){const y=pK(h,c);f.current=y,c()}};return c(),h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,m,c]),p.jsx(De.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Pe(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,g=h.clientY-y.top;a.onThumbPointerDown({x:b,y:g})}),onPointerUp:Pe(e.onPointerUp,a.onThumbPointerUp)})});sR.displayName=Jd;var d0="ScrollAreaCorner",iR=_.forwardRef((e,t)=>{const n=lr(d0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(fK,{...e,ref:t}):null});iR.displayName=d0;var fK=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=lr(d0,n),[i,a]=_.useState(0),[c,u]=_.useState(0),f=!!(i&&c);return Oa(o.scrollbarX,()=>{var h;const m=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(m),u(m)}),Oa(o.scrollbarY,()=>{var h;const m=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(m),a(m)}),f?p.jsx(De.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qd(e){return e?parseInt(e,10):0}function aR(e,t){const n=e/t;return isNaN(n)?0:n}function Yf(e){const t=aR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function hK(e,t,n,r="ltr"){const o=Yf(n),i=o/2,a=t||i,c=o-a,u=n.scrollbar.paddingStart+a,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,h=r==="ltr"?[0,m]:[m*-1,0];return lR([u,f],h)(e)}function G2(e,t,n="ltr"){const r=Yf(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,c=i-r,u=n==="ltr"?[0,a]:[a*-1,0],f=bc(e,u);return lR([0,a],[0,c])(f)}function lR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cR(e,t){return e>0&&e<t}var pK=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,c=n.top!==i.top;(a||c)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Jf(e,t){const n=Ot(e),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Oa(e,t){const n=Ot(t);Dt(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var uR=XP,mK=tR,gK=iR;const f0=_.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(uR,{ref:r,className:Oe("relative overflow-hidden",e),...n,children:[p.jsx(mK,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:t}),p.jsx(dR,{}),p.jsx(gK,{})]}));f0.displayName=uR.displayName;const dR=_.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(c0,{ref:r,orientation:t,className:Oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(sR,{className:"relative flex-1 rounded-full bg-border"})}));dR.displayName=c0.displayName;const ta={NIP04:"nip04",NIP17:"nip17"},md={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},Rn={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},yK=({pubkey:e,isSelected:t,onClick:n,lastMessage:r,lastActivity:o,hasNIP4Messages:i})=>{var y;const a=Ef(e),c=(y=a.data)==null?void 0:y.metadata,u=(c==null?void 0:c.name)||Vf(e),f=c==null?void 0:c.picture,m=u.slice(0,2).toUpperCase(),h=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",w=a.isLoading&&!c;return p.jsx("button",{onClick:n,className:Oe("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",t&&"bg-accent"),children:p.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[w?p.jsx($n,{className:"h-10 w-10 rounded-full flex-shrink-0"}):p.jsxs(vc,{className:"h-10 w-10 flex-shrink-0",children:[p.jsx(wc,{src:f,alt:u}),p.jsx(xc,{children:m})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[w?p.jsx($n,{className:"h-[1.25rem] w-24"}):p.jsx("span",{className:"font-medium text-sm truncate",children:u}),i&&p.jsx(ai,{children:p.jsxs(Zs,{children:[p.jsx(Gs,{asChild:!0,children:p.jsx("div",{className:"flex-shrink-0",children:p.jsx(hv,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),p.jsx(ps,{side:"left",children:p.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),p.jsx(ai,{children:p.jsxs(Zs,{children:[p.jsx(Gs,{asChild:!0,children:p.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:YP(o)})}),p.jsx(ps,{side:"left",children:p.jsx("p",{className:"text-xs",children:JP(o)})})]})})]}),p.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h})]})]})})},fR=_.memo(yK);fR.displayName="ConversationItem";const vK=()=>p.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>p.jsxs("div",{className:"flex items-start gap-3 p-3",children:[p.jsx($n,{className:"h-10 w-10 rounded-full flex-shrink-0"}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx($n,{className:"h-4 w-24"}),p.jsx($n,{className:"h-3 w-12"})]}),p.jsx($n,{className:"h-3 w-full"})]})]},e))}),wK=({selectedPubkey:e,onSelectConversation:t,className:n,onStatusClick:r})=>{const{conversations:o,isLoading:i,loadingPhase:a}=$c(),[c,u]=_.useState("known"),{knownConversations:f,requestConversations:m}=_.useMemo(()=>({knownConversations:o.filter(y=>y.isKnown),requestConversations:o.filter(y=>y.isRequest)}),[o]),h=c==="known"?f:m,w=(a===Rn.CACHE||a===Rn.RELAYS)&&o.length===0;return p.jsxs(_t,{className:Oe("h-full flex flex-col overflow-hidden",n),children:[p.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(a===Rn.CACHE||a===Rn.RELAYS||a===Rn.SUBSCRIPTIONS)&&p.jsx(ai,{children:p.jsxs(Zs,{children:[p.jsx(Gs,{asChild:!0,children:p.jsx("div",{className:"flex items-center",children:p.jsx(zn,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),p.jsx(ps,{children:p.jsxs("p",{className:"text-xs",children:[a===Rn.CACHE&&"Loading from cache...",a===Rn.RELAYS&&"Querying relays for new messages...",a===Rn.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&p.jsx(nt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:p.jsx(iF,{className:"h-4 w-4"})})]}),p.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:p.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[p.jsxs("button",{onClick:()=>u("known"),className:Oe("text-xs py-2 px-3 rounded-md transition-colors",c==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",f.length>0&&`(${f.length})`]}),p.jsxs("button",{onClick:()=>u("requests"),className:Oe("text-xs py-2 px-3 rounded-md transition-colors",c==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",m.length>0&&`(${m.length})`]})]})}),p.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:i||w?p.jsx(vK,{}):o.length===0?p.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:"No conversations yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):h.length===0?p.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:p.jsxs("p",{className:"text-sm",children:["No ",c," conversations"]})}):p.jsx(f0,{className:"h-full block",children:p.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:h.map(y=>p.jsx(fR,{pubkey:y.pubkey,isSelected:e===y.pubkey,onClick:()=>t(y.pubkey),lastMessage:y.lastMessage,lastActivity:y.lastActivity,hasNIP4Messages:y.hasNIP4Messages},y.pubkey))})})})]})},Jm=25;function xK(e){const{messages:t}=$c(),[n,r]=_.useState(Jm),o=_.useMemo(()=>{const a=t.get(e);if(!a)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const c=a.messages.length,u=c>n;return{messages:a.messages.slice(-n),hasMoreMessages:u,totalCount:c,lastMessage:a.lastMessage,lastActivity:a.lastActivity}},[t,e,n]),i=_.useCallback(()=>{r(a=>a+Jm)},[]);return _.useEffect(()=>{r(Jm)},[e]),{...o,loadEarlierMessages:i}}var bK=[" ","Enter","ArrowUp","ArrowDown"],EK=[" ","Enter"],mi="Select",[Qf,Xf,_K]=Ac(mi),[Xa,UZ]=Qt(mi,[_K,qa]),eh=qa(),[SK,Ps]=Xa(mi),[kK,CK]=Xa(mi),hR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:a,defaultValue:c,onValueChange:u,dir:f,name:m,autoComplete:h,disabled:w,required:y,form:b}=e,g=eh(t),[x,E]=_.useState(null),[k,C]=_.useState(null),[A,j]=_.useState(!1),L=_i(f),[D,B]=sr({prop:r,defaultProp:o??!1,onChange:i,caller:mi}),[O,F]=sr({prop:a,defaultProp:c,onChange:u,caller:mi}),W=_.useRef(null),M=x?b||!!x.closest("form"):!0,[V,P]=_.useState(new Set),U=Array.from(V).map(X=>X.props.value).join(";");return p.jsx(Sv,{...g,children:p.jsxs(SK,{required:y,scope:t,trigger:x,onTriggerChange:E,valueNode:k,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:j,contentId:rr(),value:O,onValueChange:F,open:D,onOpenChange:B,dir:L,triggerPointerDownPosRef:W,disabled:w,children:[p.jsx(Qf.Provider,{scope:t,children:p.jsx(kK,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(X=>{P(J=>new Set(J).add(X))},[]),onNativeOptionRemove:_.useCallback(X=>{P(J=>{const ee=new Set(J);return ee.delete(X),ee})},[]),children:n})}),M?p.jsxs(DR,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:h,value:O,onChange:X=>F(X.target.value),disabled:w,form:b,children:[O===void 0?p.jsx("option",{value:""}):null,Array.from(V)]},U):null]})})};hR.displayName=mi;var pR="SelectTrigger",mR=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=eh(n),a=Ps(pR,n),c=a.disabled||r,u=Je(t,a.onTriggerChange),f=Xf(n),m=_.useRef("touch"),[h,w,y]=BR(g=>{const x=f().filter(C=>!C.disabled),E=x.find(C=>C.value===a.value),k=FR(x,g,E);k!==void 0&&a.onValueChange(k.value)}),b=g=>{c||(a.onOpenChange(!0),y()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(kv,{asChild:!0,...i,children:p.jsx(De.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":zR(a.value)?"":void 0,...o,ref:u,onClick:Pe(o.onClick,g=>{g.currentTarget.focus(),m.current!=="mouse"&&b(g)}),onPointerDown:Pe(o.onPointerDown,g=>{m.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:Pe(o.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&w(g.key),!(x&&g.key===" ")&&bK.includes(g.key)&&(b(),g.preventDefault())})})})});mR.displayName=pR;var gR="SelectValue",yR=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:a="",...c}=e,u=Ps(gR,n),{onValueNodeHasChildrenChange:f}=u,m=i!==void 0,h=Je(t,u.onValueNodeChange);return Dt(()=>{f(m)},[f,m]),p.jsx(De.span,{...c,ref:h,style:{pointerEvents:"none"},children:zR(u.value)?p.jsx(p.Fragment,{children:a}):i})});yR.displayName=gR;var NK="SelectIcon",vR=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return p.jsx(De.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});vR.displayName=NK;var TK="SelectPortal",wR=e=>p.jsx(jc,{asChild:!0,...e});wR.displayName=TK;var gi="SelectContent",xR=_.forwardRef((e,t)=>{const n=Ps(gi,e.__scopeSelect),[r,o]=_.useState();if(Dt(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?$a.createPortal(p.jsx(bR,{scope:e.__scopeSelect,children:p.jsx(Qf.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),i):null}return p.jsx(ER,{...e,ref:t})});xR.displayName=gi;var yr=10,[bR,Rs]=Xa(gi),PK="SelectContentImpl",RK=fi("SelectContent.RemoveScroll"),ER=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:u,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:w,collisionPadding:y,sticky:b,hideWhenDetached:g,avoidCollisions:x,...E}=e,k=Ps(gi,n),[C,A]=_.useState(null),[j,L]=_.useState(null),D=Je(t,we=>A(we)),[B,O]=_.useState(null),[F,W]=_.useState(null),M=Xf(n),[V,P]=_.useState(!1),U=_.useRef(!1);_.useEffect(()=>{if(C)return Mv(C)},[C]),Ov();const X=_.useCallback(we=>{const[xe,...Se]=M().map(Ke=>Ke.ref.current),[je]=Se.slice(-1),Ue=document.activeElement;for(const Ke of we)if(Ke===Ue||(Ke==null||Ke.scrollIntoView({block:"nearest"}),Ke===xe&&j&&(j.scrollTop=0),Ke===je&&j&&(j.scrollTop=j.scrollHeight),Ke==null||Ke.focus(),document.activeElement!==Ue))return},[M,j]),J=_.useCallback(()=>X([B,C]),[X,B,C]);_.useEffect(()=>{V&&J()},[V,J]);const{onOpenChange:ee,triggerPointerDownPosRef:K}=k;_.useEffect(()=>{if(C){let we={x:0,y:0};const xe=je=>{var Ue,Ke;we={x:Math.abs(Math.round(je.pageX)-(((Ue=K.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Ke=K.current)==null?void 0:Ke.y)??0))}},Se=je=>{we.x<=10&&we.y<=10?je.preventDefault():C.contains(je.target)||ee(!1),document.removeEventListener("pointermove",xe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[C,ee,K]),_.useEffect(()=>{const we=()=>ee(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[ee]);const[oe,z]=BR(we=>{const xe=M().filter(Ue=>!Ue.disabled),Se=xe.find(Ue=>Ue.ref.current===document.activeElement),je=FR(xe,we,Se);je&&setTimeout(()=>je.ref.current.focus())}),q=_.useCallback((we,xe,Se)=>{const je=!U.current&&!Se;(k.value!==void 0&&k.value===xe||je)&&(O(we),je&&(U.current=!0))},[k.value]),ge=_.useCallback(()=>C==null?void 0:C.focus(),[C]),pe=_.useCallback((we,xe,Se)=>{const je=!U.current&&!Se;(k.value!==void 0&&k.value===xe||je)&&W(we)},[k.value]),me=r==="popper"?cy:_R,Ae=me===cy?{side:c,sideOffset:u,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:w,collisionPadding:y,sticky:b,hideWhenDetached:g,avoidCollisions:x}:{};return p.jsx(bR,{scope:n,content:C,viewport:j,onViewportChange:L,itemRefCallback:q,selectedItem:B,onItemLeave:ge,itemTextRefCallback:pe,focusSelectedItem:J,selectedItemText:F,position:r,isPositioned:V,searchRef:oe,children:p.jsx(Df,{as:RK,allowPinchZoom:!0,children:p.jsx(Mf,{asChild:!0,trapped:k.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:Pe(o,we=>{var xe;(xe=k.trigger)==null||xe.focus({preventScroll:!0}),we.preventDefault()}),children:p.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:p.jsx(me,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:we=>we.preventDefault(),...E,...Ae,onPlaced:()=>P(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Pe(E.onKeyDown,we=>{const xe=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!xe&&we.key.length===1&&z(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let je=M().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(we.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const Ue=we.target,Ke=je.indexOf(Ue);je=je.slice(Ke+1)}setTimeout(()=>X(je)),we.preventDefault()}})})})})})})});ER.displayName=PK;var AK="SelectItemAlignedPosition",_R=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=Ps(gi,n),a=Rs(gi,n),[c,u]=_.useState(null),[f,m]=_.useState(null),h=Je(t,D=>m(D)),w=Xf(n),y=_.useRef(!1),b=_.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:E,focusSelectedItem:k}=a,C=_.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&g&&x&&E){const D=i.trigger.getBoundingClientRect(),B=f.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),F=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ue=F.left-B.left,Ke=O.left-Ue,Ye=D.left-Ke,I=D.width+Ye,ye=Math.max(I,B.width),de=window.innerWidth-yr,Y=bc(Ke,[yr,Math.max(yr,de-ye)]);c.style.minWidth=I+"px",c.style.left=Y+"px"}else{const Ue=B.right-F.right,Ke=window.innerWidth-O.right-Ue,Ye=window.innerWidth-D.right-Ke,I=D.width+Ye,ye=Math.max(I,B.width),de=window.innerWidth-yr,Y=bc(Ke,[yr,Math.max(yr,de-ye)]);c.style.minWidth=I+"px",c.style.right=Y+"px"}const W=w(),M=window.innerHeight-yr*2,V=g.scrollHeight,P=window.getComputedStyle(f),U=parseInt(P.borderTopWidth,10),X=parseInt(P.paddingTop,10),J=parseInt(P.borderBottomWidth,10),ee=parseInt(P.paddingBottom,10),K=U+X+V+ee+J,oe=Math.min(x.offsetHeight*5,K),z=window.getComputedStyle(g),q=parseInt(z.paddingTop,10),ge=parseInt(z.paddingBottom,10),pe=D.top+D.height/2-yr,me=M-pe,Ae=x.offsetHeight/2,we=x.offsetTop+Ae,xe=U+X+we,Se=K-xe;if(xe<=pe){const Ue=W.length>0&&x===W[W.length-1].ref.current;c.style.bottom="0px";const Ke=f.clientHeight-g.offsetTop-g.offsetHeight,Ye=Math.max(me,Ae+(Ue?ge:0)+Ke+J),I=xe+Ye;c.style.height=I+"px"}else{const Ue=W.length>0&&x===W[0].ref.current;c.style.top="0px";const Ye=Math.max(pe,U+g.offsetTop+(Ue?q:0)+Ae)+Se;c.style.height=Ye+"px",g.scrollTop=xe-pe+g.offsetTop}c.style.margin=`${yr}px 0`,c.style.minHeight=oe+"px",c.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[w,i.trigger,i.valueNode,c,f,g,x,E,i.dir,r]);Dt(()=>C(),[C]);const[A,j]=_.useState();Dt(()=>{f&&j(window.getComputedStyle(f).zIndex)},[f]);const L=_.useCallback(D=>{D&&b.current===!0&&(C(),k==null||k(),b.current=!1)},[C,k]);return p.jsx(IK,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:p.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:p.jsx(De.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});_R.displayName=AK;var jK="SelectPopperPosition",cy=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=yr,...i}=e,a=eh(n);return p.jsx(Cv,{...a,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cy.displayName=jK;var[IK,h0]=Xa(gi,{}),uy="SelectViewport",SR=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=Rs(uy,n),a=h0(uy,n),c=Je(t,i.onViewportChange),u=_.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Qf.Slot,{scope:n,children:p.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Pe(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:w}=a;if(w!=null&&w.current&&h){const y=Math.abs(u.current-m.scrollTop);if(y>0){const b=window.innerHeight-yr*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),E=Math.max(g,x);if(E<b){const k=E+y,C=Math.min(b,k),A=k-C;h.style.height=C+"px",h.style.bottom==="0px"&&(m.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});SR.displayName=uy;var kR="SelectGroup",[OK,MK]=Xa(kR),LK=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=rr();return p.jsx(OK,{scope:n,id:o,children:p.jsx(De.div,{role:"group","aria-labelledby":o,...r,ref:t})})});LK.displayName=kR;var CR="SelectLabel",NR=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=MK(CR,n);return p.jsx(De.div,{id:o.id,...r,ref:t})});NR.displayName=CR;var Xd="SelectItem",[DK,TR]=Xa(Xd),PR=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...a}=e,c=Ps(Xd,n),u=Rs(Xd,n),f=c.value===r,[m,h]=_.useState(i??""),[w,y]=_.useState(!1),b=Je(t,k=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,k,r,o)}),g=rr(),x=_.useRef("touch"),E=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(DK,{scope:n,value:r,disabled:o,textId:g,isSelected:f,onItemTextChange:_.useCallback(k=>{h(C=>C||((k==null?void 0:k.textContent)??"").trim())},[]),children:p.jsx(Qf.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:p.jsx(De.div,{role:"option","aria-labelledby":g,"data-highlighted":w?"":void 0,"aria-selected":f&&w,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:b,onFocus:Pe(a.onFocus,()=>y(!0)),onBlur:Pe(a.onBlur,()=>y(!1)),onClick:Pe(a.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:Pe(a.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:Pe(a.onPointerDown,k=>{x.current=k.pointerType}),onPointerMove:Pe(a.onPointerMove,k=>{var C;x.current=k.pointerType,o?(C=u.onItemLeave)==null||C.call(u):x.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(a.onPointerLeave,k=>{var C;k.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:Pe(a.onKeyDown,k=>{var A;((A=u.searchRef)==null?void 0:A.current)!==""&&k.key===" "||(EK.includes(k.key)&&E(),k.key===" "&&k.preventDefault())})})})})});PR.displayName=Xd;var Ql="SelectItemText",RR=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,a=Ps(Ql,n),c=Rs(Ql,n),u=TR(Ql,n),f=CK(Ql,n),[m,h]=_.useState(null),w=Je(t,E=>h(E),u.onItemTextChange,E=>{var k;return(k=c.itemTextRefCallback)==null?void 0:k.call(c,E,u.value,u.disabled)}),y=m==null?void 0:m.textContent,b=_.useMemo(()=>p.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=f;return Dt(()=>(g(b),()=>x(b)),[g,x,b]),p.jsxs(p.Fragment,{children:[p.jsx(De.span,{id:u.textId,...i,ref:w}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?$a.createPortal(i.children,a.valueNode):null]})});RR.displayName=Ql;var AR="SelectItemIndicator",jR=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return TR(AR,n).isSelected?p.jsx(De.span,{"aria-hidden":!0,...r,ref:t}):null});jR.displayName=AR;var dy="SelectScrollUpButton",IR=_.forwardRef((e,t)=>{const n=Rs(dy,e.__scopeSelect),r=h0(dy,e.__scopeSelect),[o,i]=_.useState(!1),a=Je(t,r.onScrollButtonChange);return Dt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=u.scrollTop>0;i(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?p.jsx(MR,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});IR.displayName=dy;var fy="SelectScrollDownButton",OR=_.forwardRef((e,t)=>{const n=Rs(fy,e.__scopeSelect),r=h0(fy,e.__scopeSelect),[o,i]=_.useState(!1),a=Je(t,r.onScrollButtonChange);return Dt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<f;i(m)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?p.jsx(MR,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});OR.displayName=fy;var MR=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=Rs("SelectScrollButton",n),a=_.useRef(null),c=Xf(n),u=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>u(),[u]),Dt(()=>{var m;const f=c().find(h=>h.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),p.jsx(De.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Pe(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Pe(o.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Pe(o.onPointerLeave,()=>{u()})})}),zK="SelectSeparator",LR=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.jsx(De.div,{"aria-hidden":!0,...r,ref:t})});LR.displayName=zK;var hy="SelectArrow",BK=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=eh(n),i=Ps(hy,n),a=Rs(hy,n);return i.open&&a.position==="popper"?p.jsx(Nv,{...o,...r,ref:t}):null});BK.displayName=hy;var FK="SelectBubbleInput",DR=_.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=_.useRef(null),i=Je(r,o),a=qf(t);return _.useEffect(()=>{const c=o.current;if(!c)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==t&&m){const h=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(h)}},[a,t]),p.jsx(De.select,{...n,style:{...pk,...n.style},ref:i,defaultValue:t})});DR.displayName=FK;function zR(e){return e===""||e===void 0}function BR(e){const t=Ot(e),n=_.useRef(""),r=_.useRef(0),o=_.useCallback(a=>{const c=n.current+a;t(c),function u(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function FR(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=$K(e,Math.max(i,0));o.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function $K(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var UK=hR,$R=mR,HK=yR,WK=vR,VK=wR,UR=xR,qK=SR,HR=NR,WR=PR,KK=RR,ZK=jR,VR=IR,qR=OR,KR=LR;const GK=UK,YK=HK,ZR=_.forwardRef(({className:e,children:t,...n},r)=>p.jsxs($R,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,p.jsx(WK,{asChild:!0,children:p.jsx(Cf,{className:"h-4 w-4 opacity-50"})})]}));ZR.displayName=$R.displayName;const GR=_.forwardRef(({className:e,...t},n)=>p.jsx(VR,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(YB,{className:"h-4 w-4"})}));GR.displayName=VR.displayName;const YR=_.forwardRef(({className:e,...t},n)=>p.jsx(qR,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(Cf,{className:"h-4 w-4"})}));YR.displayName=qR.displayName;const JR=_.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>p.jsx(VK,{children:p.jsxs(UR,{ref:o,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p.jsx(GR,{}),p.jsx(qK,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),p.jsx(YR,{})]})}));JR.displayName=UR.displayName;const JK=_.forwardRef(({className:e,...t},n)=>p.jsx(HR,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));JK.displayName=HR.displayName;const py=_.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(WR,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(ZK,{children:p.jsx(zk,{className:"h-4 w-4"})})}),p.jsx(KK,{children:t})]}));py.displayName=WR.displayName;const QK=_.forwardRef(({className:e,...t},n)=>p.jsx(KR,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));QK.displayName=KR.displayName;function my({event:e,className:t}){const n=_.useMemo(()=>{const r=e.content,o=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,i=[];let a=0,c,u=0;for(;(c=o.exec(r))!==null;){const[f,m,h,w,y]=c,b=c.index;if(b>a&&i.push(r.substring(a,b)),m)i.push(p.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:m},`url-${u++}`));else if(h&&w)try{const g=`${h}${w}`,x=xn.decode(g);if(x.type==="npub"){const E=x.data;i.push(p.jsx(Y2,{pubkey:E},`mention-${u++}`))}else if(x.type==="nprofile"){const E=x.data.pubkey;i.push(p.jsx(Y2,{pubkey:E},`mention-${u++}`))}else i.push(p.jsx(fn,{to:`/${g}`,className:"text-blue-500 hover:underline break-all",children:f},`nostr-${u++}`))}catch{i.push(f)}else if(y){const g=y.slice(1);i.push(p.jsx(fn,{to:`/t/${g}`,className:"text-blue-500 hover:underline",children:y},`hashtag-${u++}`))}a=b+f.length}return a<r.length&&i.push(r.substring(a)),i.length===0&&i.push(r),i},[e]);return p.jsx("div",{className:Oe("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function Y2({pubkey:e}){var i,a,c,u;const t=Ef(e),n=xn.npubEncode(e),r=!!((a=(i=t.data)==null?void 0:i.metadata)!=null&&a.name),o=((u=(c=t.data)==null?void 0:c.metadata)==null?void 0:u.name)??Vf(e);return p.jsxs(fn,{to:`/${n}`,className:Oe("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",o]})}const QR=_.memo(({message:e,isFromCurrentUser:t})=>{var a;const n=((a=e.decryptedEvent)==null?void 0:a.kind)||e.kind,r=e.kind===4,o=n===15,i=e.decryptedEvent||{id:e.id,pubkey:e.pubkey,created_at:e.created_at,kind:e.kind,tags:e.tags,content:e.decryptedContent||"",sig:""};return p.jsx("div",{className:Oe("flex mb-4",t?"justify-end":"justify-start"),children:p.jsxs("div",{className:Oe("max-w-[70%] rounded-lg px-4 py-2",t?"bg-primary text-primary-foreground":"bg-muted"),children:[e.error?p.jsxs(Zs,{delayDuration:200,children:[p.jsx(Gs,{asChild:!0,children:p.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),p.jsx(ps,{children:p.jsx("p",{className:"text-xs",children:e.error})})]}):o?p.jsx("div",{className:"text-sm",children:p.jsx(my,{event:i,className:"whitespace-pre-wrap break-words"})}):p.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.decryptedContent}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx(ai,{children:p.jsxs(Zs,{delayDuration:200,children:[p.jsx(Gs,{asChild:!0,children:p.jsx("span",{className:Oe("text-xs opacity-70 cursor-default",t?"text-primary-foreground":"text-muted-foreground"),children:YP(e.created_at)})}),p.jsx(ps,{children:p.jsx("p",{className:"text-xs",children:JP(e.created_at)})})]})}),p.jsx(ai,{children:p.jsxs(Zs,{delayDuration:200,children:[p.jsx(Gs,{asChild:!0,children:p.jsx("span",{className:Oe("flex-shrink-0 opacity-50",t?"text-primary-foreground":"text-muted-foreground"),children:e.kind===4?p.jsx(aF,{className:"h-3 w-3"}):p.jsx(hF,{className:"h-3 w-3"})})}),p.jsx(ps,{children:p.jsxs("p",{className:"text-xs",children:[e.kind===4&&"NIP-04 Kind 4 (Legacy DM)",e.kind===14&&"NIP-17 Kind 14 (Private Message)",e.kind===15&&"NIP-17 Kind 15 (Media)",e.kind!==4&&e.kind!==14&&e.kind!==15&&`Kind ${e.kind}`]})})]})}),r&&p.jsx(ai,{children:p.jsxs(Zs,{children:[p.jsx(Gs,{asChild:!0,children:p.jsx("div",{className:"flex-shrink-0",children:p.jsx(hv,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),p.jsx(ps,{children:p.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),e.isSending&&p.jsx(zn,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});QR.displayName="MessageBubble";const XK=({pubkey:e,onBack:t})=>{var c;const r=(c=Ef(e).data)==null?void 0:c.metadata,o=(r==null?void 0:r.name)||Vf(e),i=r==null?void 0:r.picture,a=o.slice(0,2).toUpperCase();return p.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[t&&p.jsx(nt,{variant:"ghost",size:"icon",onClick:t,className:"md:hidden",children:p.jsx(Dk,{className:"h-5 w-5"})}),p.jsxs(vc,{className:"h-10 w-10",children:[p.jsx(wc,{src:i,alt:o}),p.jsx(xc,{children:a})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h2",{className:"font-semibold truncate",children:o}),(r==null?void 0:r.nip05)&&p.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},eZ=({isLoading:e})=>p.jsx("div",{className:"h-full flex items-center justify-center p-8",children:p.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:e?p.jsxs(p.Fragment,{children:[p.jsx(zn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-sm",children:"Loading conversations..."}),p.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),p.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),tZ=({pubkey:e,onBack:t,className:n})=>{const{user:r}=vi(),{sendMessage:o,protocolMode:i,isLoading:a}=$c(),{messages:c,hasMoreMessages:u,loadEarlierMessages:f}=xK(e||""),[m,h]=_.useState(""),[w,y]=_.useState(!1),[b,g]=_.useState(!1),x=()=>i===md.NIP04_ONLY?ta.NIP04:(i===md.NIP17_ONLY||i===md.NIP04_OR_NIP17,ta.NIP17),[E,k]=_.useState(x()),C=_.useRef(null),A=i===md.NIP04_OR_NIP17;_.useEffect(()=>{if(C.current){const B=C.current.querySelector("[data-radix-scroll-area-viewport]");B&&(B.scrollTop=B.scrollHeight)}},[c.length]);const j=_.useCallback(async()=>{if(!(!m.trim()||!e||!r)){y(!0);try{await o({recipientPubkey:e,content:m.trim(),protocol:E}),h("")}catch(B){console.error("Failed to send message:",B)}finally{y(!1)}}},[m,e,r,o,E]),L=_.useCallback(B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),j())},[j]),D=_.useCallback(async()=>{if(!C.current||b)return;const B=C.current.querySelector("[data-radix-scroll-area-viewport]");if(!B)return;const O=B.scrollHeight,F=B.scrollTop;g(!0),f(),setTimeout(()=>{if(B){const M=B.scrollHeight-O;B.scrollTop=F+M}g(!1)},0)},[f,b]);return e?r?p.jsxs(_t,{className:Oe("h-full flex flex-col",n),children:[p.jsx(XK,{pubkey:e,onBack:t}),p.jsx(f0,{ref:C,className:"flex-1 p-4",children:c.length===0?p.jsx("div",{className:"h-full flex items-center justify-center",children:p.jsxs("div",{className:"text-center text-muted-foreground",children:[p.jsx("p",{className:"text-sm",children:"No messages yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):p.jsxs("div",{children:[u&&p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx(nt,{variant:"outline",size:"sm",onClick:D,disabled:b,className:"text-xs",children:b?p.jsxs(p.Fragment,{children:[p.jsx(zn,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),c.map(B=>p.jsx(QR,{message:B,isFromCurrentUser:B.pubkey===r.pubkey},B.id))]})}),p.jsx("div",{className:"p-4 border-t",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx($f,{value:m,onChange:B=>h(B.target.value),onKeyDown:L,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:w}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(nt,{onClick:j,disabled:!m.trim()||w,size:"icon",className:"h-[44px] w-[90px]",children:w?p.jsx(zn,{className:"h-5 w-5 animate-spin"}):p.jsx(fF,{className:"h-5 w-5"})}),p.jsxs(GK,{value:E,onValueChange:B=>k(B),disabled:!A,children:[p.jsx(ZR,{className:"h-[32px] w-[90px] text-xs px-2",children:p.jsx(YK,{})}),p.jsxs(JR,{children:[p.jsx(py,{value:ta.NIP17,className:"text-xs",children:"NIP-17"}),p.jsx(py,{value:ta.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):p.jsx(_t,{className:Oe("h-full flex items-center justify-center",n),children:p.jsx("div",{className:"text-center text-muted-foreground",children:p.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):p.jsx(_t,{className:Oe("h-full",n),children:p.jsx(eZ,{isLoading:a})})};var nZ="Separator",J2="horizontal",rZ=["horizontal","vertical"],XR=_.forwardRef((e,t)=>{const{decorative:n,orientation:r=J2,...o}=e,i=oZ(r)?r:J2,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(De.div,{"data-orientation":i,...c,...o,ref:t})});XR.displayName=nZ;function oZ(e){return rZ.includes(e)}var eA=XR;const tA=_.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>p.jsx(eA,{ref:o,decorative:n,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));tA.displayName=eA.displayName;const sZ=({clearCacheAndRefetch:e})=>{const[t,n]=_.useState(!1),{toast:r}=Fa(),{loadingPhase:o,subscriptions:i,scanProgress:a,isDoingInitialLoad:c,lastSync:u,conversations:f}=$c(),m=async()=>{if(e){n(!0);try{await e(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(g){console.error("Error clearing cache:",g),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},w=(()=>{switch(o){case Rn.IDLE:return{label:"Idle",description:"Not yet initialized",icon:zn,color:"text-muted-foreground"};case Rn.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:eF,color:"text-blue-500"};case Rn.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:yF,color:"text-yellow-500"};case Rn.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:xb,color:"text-orange-500"};case Rn.READY:return{label:"Ready",description:"All systems operational",icon:Yl,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:zn,color:"text-muted-foreground"}}})(),y=w.icon,b=g=>{if(!g)return"Never";const x=new Date(g*1e3),k=new Date().getTime()-x.getTime(),C=Math.floor(k/6e4);return C<1?"Just now":C<60?`${C}m ago`:C<1440?`${Math.floor(C/60)}h ago`:x.toLocaleDateString()};return p.jsxs("div",{className:"space-y-4",children:[p.jsx(_t,{children:p.jsx(Mt,{className:"pt-6",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(y,{className:`h-5 w-5 ${w.color} ${o!==Rn.READY?"animate-pulse":""}`}),p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("p",{className:"font-medium",children:w.label}),c&&p.jsx(Fn,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]})]})})}),(a.nip4!==null||a.nip17!==null)&&p.jsx(_t,{children:p.jsx(Mt,{className:"pt-6",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),a.nip4!==null&&p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),p.jsxs("span",{className:"text-muted-foreground",children:[a.nip4.current," events"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:a.nip4.status})]}),a.nip17!==null&&p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),p.jsxs("span",{className:"text-muted-foreground",children:[a.nip17.current," events"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:a.nip17.status})]})]})})}),p.jsx(_t,{children:p.jsx(Mt,{className:"pt-6",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),p.jsx(Fn,{variant:i.isNIP4Connected?"default":"secondary",children:i.isNIP4Connected?"Connected":"Disconnected"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),p.jsx(Fn,{variant:i.isNIP17Connected?"default":"secondary",children:i.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),p.jsx(_t,{children:p.jsx(Mt,{className:"pt-6",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),p.jsx("span",{className:"font-medium",children:f.length})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),p.jsx("span",{className:"font-medium",children:b(u.nip4)})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),p.jsx("span",{className:"font-medium",children:b(u.nip17)})]})]})]})})}),e&&p.jsxs(p.Fragment,{children:[p.jsx(tA,{}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),p.jsx(nt,{onClick:m,disabled:t,variant:"outline",className:"w-full",children:t?p.jsxs(p.Fragment,{children:[p.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):p.jsxs(p.Fragment,{children:[p.jsx(xb,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},gd=768;function iZ(){const[e,t]=_.useState(window.innerWidth<gd);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${gd-1}px)`),r=()=>{t(window.innerWidth<gd)};return n.addEventListener("change",r),t(window.innerWidth<gd),()=>n.removeEventListener("change",r)},[]),!!e}const aZ=({className:e})=>{const[t,n]=_.useState(null),[r,o]=_.useState(!1),i=iZ(),{clearCacheAndRefetch:a}=$c(),c=!i||!t,u=!i||t,f=_.useCallback(h=>{n(h)},[]),m=_.useCallback(()=>{n(null)},[]);return p.jsxs(p.Fragment,{children:[p.jsx(Za,{open:r,onOpenChange:o,children:p.jsxs(bi,{className:"max-w-md",children:[p.jsxs(Ei,{children:[p.jsx(Ga,{children:"Messaging Status"}),p.jsx(Dc,{children:"View loading status, cache info, and connection details"})]}),p.jsx(sZ,{clearCacheAndRefetch:a})]})}),p.jsxs("div",{className:Oe("flex gap-4 overflow-hidden",e),children:[p.jsx("div",{className:Oe("md:w-80 md:flex-shrink-0",i&&!c&&"hidden",i&&c&&"w-full"),children:p.jsx(wK,{selectedPubkey:t,onSelectConversation:f,className:"h-full",onStatusClick:()=>o(!0)})}),p.jsx("div",{className:Oe("flex-1 md:min-w-0",i&&!u&&"hidden",i&&u&&"w-full"),children:p.jsx(tZ,{pubkey:t,onBack:i?m:void 0,className:"h-full"})})]})]})},lZ=()=>(Ja({title:"Messages",description:"Private encrypted messaging on Nostr"}),p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"})}),p.jsx(aZ,{className:"flex-1"})]})}));function cZ(){const{nip19:e}=Iv();Ja({title:"NIP-19"});const{nostr:t}=Hn();if(!e)return p.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=xn.decode(e)}catch{return p.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:o}=n,i=$r({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const f=(o==null?void 0:o.pubkey)??o;if(!f)return null;const m=await t.query([{kinds:[0],authors:[f],limit:1}]),h=m==null?void 0:m[0];if(!h)return{pubkey:f};try{const w=JSON.parse(h.content||"{}");return{pubkey:f,metadata:w}}catch{return{pubkey:f}}}}),a=$r({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const f=o;if(!f)return null;const m=await t.query([{ids:[f],kinds:[1],limit:1}]);return(m==null?void 0:m[0])??null}}),c=$r({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const f=(o==null?void 0:o.id)??o;if(!f)return null;const m=await t.query([{ids:[f],limit:1}]);return(m==null?void 0:m[0])??null}}),u=$r({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const f=o;if(!f)return null;const m=f.kind,h=f.pubkey,w=f.identifier,y=await t.query([{kinds:[m],authors:[h],"#d":[w],limit:1}]);return(y==null?void 0:y[0])??null}});if(r==="npub"||r==="nprofile"){const f=i.data;return i.isFetched?p.jsx("div",{className:"container mx-auto p-6",children:p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",p.jsx("code",{children:f==null?void 0:f.pubkey})]}),f!=null&&f.metadata?p.jsxs("div",{className:"space-y-2",children:[p.jsx("img",{src:f.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),p.jsx("h2",{className:"text-xl font-semibold",children:f.metadata.display_name??f.metadata.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:f.metadata.about}),f.metadata.website&&p.jsx("p",{children:p.jsx("a",{href:f.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):p.jsx("p",{children:"No metadata available."})]})}):p.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const f=a.data;return a.isLoading?p.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):f?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),p.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:p.jsx(my,{event:f})}),p.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",p.jsx(fn,{to:`/${xn.encode({type:"npub",data:f.pubkey})}`,children:f.pubkey})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const f=c.data;return c.isLoading?p.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):f?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",f.kind,")"]}),p.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:f.kind===1?p.jsx(my,{event:f}):p.jsx("pre",{children:f.content})}),p.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",p.jsx("code",{children:f.pubkey})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const f=u.data;if(u.isLoading)return p.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!f)return p.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(f.kind===30402){const m=n0(f);return m?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:m.title}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",p.jsx("code",{children:m.pubkey})]}),p.jsx("p",{className:"mt-2",children:m.description}),p.jsxs("div",{className:"mt-4",children:[p.jsxs("p",{children:["Dimensions: ",m.dimensions]}),p.jsxs("p",{children:["Fee: ",m.price," ",m.currency]}),p.jsxs("p",{children:["Status: ",m.status]}),p.jsx(fn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),p.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:f.content}),p.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",p.jsx("code",{children:f.pubkey})]})]})}return p.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const uZ=()=>{const e=xi();return Ja({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),_.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function dZ(){return p.jsxs(u9,{basename:"/nostr-dead-drop-lockers",children:[p.jsx(p9,{}),p.jsx(bV,{}),p.jsxs(r9,{children:[p.jsx(Or,{path:"/",element:p.jsx(Gq,{})}),p.jsx(Or,{path:"/marketplace",element:p.jsx(jq,{})}),p.jsx(Or,{path:"/product/:dTag",element:p.jsx(Wq,{})}),p.jsx(Or,{path:"/snapshot",element:p.jsx(Zq,{})}),p.jsx(Or,{path:"/dashboard",element:p.jsx(nK,{})}),p.jsx(Or,{path:"/messages",element:p.jsx(lZ,{})}),p.jsx(Or,{path:"/locker/:nip19",element:p.jsx(cq,{})}),p.jsx(Or,{path:"/:nip19",element:p.jsx(cZ,{})}),p.jsx(Or,{path:"*",element:p.jsx(uZ,{})})]})]})}const fZ=PE({plugins:[vI()]}),hZ=new T4({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),pZ={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function mZ(){return p.jsx(hI,{head:fZ,children:p.jsx(TU,{storageKey:"nostr:app-config",defaultConfig:pZ,children:p.jsx(I4,{client:hZ,children:p.jsx(Kz,{storageKey:"nostr:login",children:p.jsxs(Zz,{children:[p.jsx(Gz,{}),p.jsx(u7,{children:p.jsxs(ai,{children:[p.jsx(XF,{}),p.jsx(_.Suspense,{children:p.jsx(dZ,{})})]})})]})})})})})}i4.createRoot(document.getElementById("root")).render(p.jsx(f4,{children:p.jsx(mZ,{})}));
